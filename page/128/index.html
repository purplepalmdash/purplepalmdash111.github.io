<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.32-DEV" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Dash &middot; Dash</title>

  
  <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/poole.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/hyde.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/hyde-a.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/custom-additions.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/highlight/googlecode.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/8.5/styles/docco.min.css">
  <script type="text/javascript" src="//cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
  <script type="text/javascript" src="/js/html2canvas.js"></script>
  <script type='text/javascript'>
  function genPostShot() { 
          var rightNow = new Date();
          var imageName = rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");
          imageName += '.jpg'
          html2canvas(document.getElementsByClassName('post'), {
              background :'#FFFFFF',
              onrendered: function(canvas) {
  		
          	$('#test').attr('href', canvas.toDataURL("image/jpeg"));
          	$('#test').attr('download',imageName);
          	$('#test')[0].click();
              }
          });
  }; 
  
  </script>
  <script src="//cdn.bootcss.com/highlight.js/8.5/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124">
  <link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel="icon">

  
  
  
  <link href="http://purplepalmdash.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Dash &middot; Dash" />

  <meta name="description" content="Get busy living, or get busy dying.">
  <meta name="keywords" content="unix,virtualization,embedded,linux">
  
  
</head>
<body class="theme-base-0c">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <img src="http://purplepalmdash.github.io/images/mylogo.jpeg" alt="gravatar">
      <h1><a href="http://purplepalmdash.github.io/">Get busy living, or get busy dying.</a></h1>
      <a href="http://purplepalmdash.github.io/"><p>Dash</p></a>
    </div>

    <ul class="sidebar-nav">
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/">First Page</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/post/">All Posts</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/categories/linux/">Linux</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/categories/embedded/">Embedded System</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/categories/virtualization">Virtualization</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/purplepalmdash"><i class="fa fa-github-square fa-3x"></i></a>
      
      <a href="https://cn.linkedin.com/in/yang-feipeng-1b909319"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="https://plus.google.com/u/0/106572959364703833986"><i class="fa fa-google-plus-square fa-3x"></i></a>
      <a href="https://www.facebook.com/yang.feipeng"><i class="fa fa-facebook-square fa-3x"></i></a>
      <a href="https://twitter.com/dashwillfly"><i class="fa fa-twitter-square fa-3x"></i></a>
      
      <a href="http://purplepalmdash.github.io/index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </li>
    </ul>

    

  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/2013/12/12/western-digits-green-disk-on-ubuntu/">Western Digital Green Disk on Ubuntu</a>
      </h1>
      <span class="post-date">Dec 12, 2013 
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/linux">Linux</a>
        
      </span>
      
      <p>The WD20EARS (and other sizes include 1.0 and 1.5 TB driver in the series) will attempt to park the read heads once every 8 seconds FOR THE LIFE OF THE HDD which is just horrible! To see if you are affected use the smartctl command (part of smartmontools). If the last column changes rapidly, this section applies to your drive.</p>

<pre><code>	# smartctl /dev/sdb -a | grep Load_Cycle
	193 Load_Cycle_Count        0x0032   001   001   000    Old_age   Always       -       597115	

</code></pre>

<p>We have to disable this feature. Add lines to /etc/rc.local</p>

<pre><code>	hdparam -S 242 /dev/sda
	exit 0

</code></pre>

<p>The effect for upper comand is listed as:</p>

<pre><code>	# hdparm -S 242 /dev/sda
	/dev/sda:
	 setting standby to 242 (1 hours)

</code></pre>

<p>By default the disk will standby when 1 hours reached, that will avoid our disk from broken.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/2013/12/11/bbblackbian-yi-jiao-ben-jie-xi/">BBBlack编译脚本解析</a>
      </h1>
      <span class="post-date">Dec 11, 2013 
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/linux">Linux</a><a class="a_cat" href="http://purplepalmdash.github.io/categories/embedded">Embedded</a>
        
      </span>
      
      <p>###Preparation
Download the &ldquo;linux-dev&rdquo; repository from github:</p>

<pre><code>	git clone git://github.com/RobertCNelson/linux-dev.git

</code></pre>

<p>View the downloaded packages:</p>

<pre><code>	[Trusty@XXXyyy mykernel]$ du -hs linux-dev/
	19M	linux-dev/
	[Trusty@XXXyyy linux-dev]$ ls
	build_deb.sh  build_kernel.sh  build_mainline.sh  LICENSE  patches  patch.sh  README  repo_maintenance  scripts  system.sh.sample  tools  version.sh

</code></pre>

<p>Switch to the 3.12 Branch:</p>

<pre><code>	git checkout origin/am33x-v3.12 -b tmp
	[Trusty@XXXyyy linux-dev]$ ls
	build_deb.sh  build_kernel.sh  LICENSE  patches  patch.sh  README  repo_maintenance  scripts  system.sh.sample  tools  version.sh

</code></pre>

<p>###Walk by lines
Since we call ./build_kernel.sh will initialize the building, we will first see what&rsquo;s in this file<br />
a. Create the deploy directory, Line 23-Line 25</p>

<pre><code>	DIR=$PWD
	mkdir -p ${DIR}/deploy/

</code></pre>

<p>Then the code goes to line 189, since all of the code between 25-189 are functions.</p>

<pre><code>	/bin/sh -e ${DIR}/tools/host_det.sh || { exit 1 ; }

</code></pre>

<p>This line will call tools/host_det.sh to detect the host, the result is listed:</p>

<pre><code>	[Trusty@XXXyyy linux-dev]$ tools/host_det.sh 
	which: no lsb_release in (/home/Trusty/.rvm/gems/ruby-1.9.3-p448/bin:/home/Trusty/.rvm/gems/ruby-1.9.3-p448@global/bin:/home/Trusty/.rvm/rubies/ruby-1.9.3-p448/bin:/home/Trusty/.rvm/bin:/media/y/embedded/cortex/gcc-arm-none-eabi-4_7-2013q3/bin:/home/Trusty/perl5/bin:/opt/cross/bin:/media/y/u-boot/4.3.2/bin/:/usr/local/sbin:/usr/local/bin:/usr/bin:/opt/android-sdk/platform-tools:/opt/android-sdk/tools:/usr/bin/site_perl:/usr/bin/core_perl)
	+ Detected build host []
	+ host: [x86_64]
	+ git HEAD commit: [858e7dbdedcb5d85d0e3b84323c5a6bfe6bd3b5e]
In host_det.sh, the code lines between 6~381 are all functions, till line 381. 
	if [ $(which lsb_release) ] ; then
	         info &quot;Detected build host [`lsb_release -sd`]&quot;
Following is the lsb_relase result, lsb_release is the linux standard base base package, which will provide enough infomations of the installed linux system. 
	$ lsb_release
	LSB Version:	:core-3.1-ia32:core-3.1-noarch:graphics-3.1-ia32:graphics-3.1-noarch
	[Tomcat@MisteryPlace:  [] /opt/home/Tomcat]                                                                                        $ lsb_release -sd
	&quot;Scientific Linux SL release 5.5 (Boron)&quot;
	[Tomcat@MisteryPlace:  [] /opt/home/Tomcat]                                                                                        $ uname -m
	i686

</code></pre>

<p>Testing the host and the git head commit</p>

<pre><code>	info &quot;host: [`uname -m`]&quot;
	info &quot;git HEAD commit: [`git rev-parse HEAD`]&quot;

</code></pre>

<p>This script is for testing the known hosts which runs redhat/debian/suse, and verify if you have installed all of the package need to support kernel build.</p>

<p>Copy the system.sh.sample to current directory</p>

<pre><code>if [ ! -f ${DIR}/system.sh ] ; then
	cp ${DIR}/system.sh.sample ${DIR}/system.sh

</code></pre>

<p>Next lines from 199 to 218 is to detect if the branches.list and branch.expired exists, if exists then some testing will be done.</p>

<pre><code>	if [ -f &quot;${DIR}/branches.list&quot; ] ; then
		echo &quot;-----------------------------&quot;
		echo &quot;Please checkout one of the active branches:&quot;
		echo &quot;-----------------------------&quot;
		cat ${DIR}/branches.list | grep -v INACTIVE
		echo &quot;-----------------------------&quot;
		exit
	fi

</code></pre>

<p>Then go to line 220 and 221, unset 2 system variable</p>

<pre><code>	unset CC
	unset LINUX_GIT

</code></pre>

<p>Then run system.sh</p>

<pre><code>	. ${DIR}/system.sh

</code></pre>

<p>Then we will prepare the gcc.</p>

<pre><code>	/bin/sh -e &quot;${DIR}/scripts/gcc.sh&quot; || { exit 1 ; }
Switching to scripts/gcc.sh, the following lines will set the system variables, which will be used to choose the suitable linaro toolchain. 
	. ${DIR}/system.sh
	
	#For:
	#linaro_toolchain
	. ${DIR}/version.sh
Test the CC existence, if not then start building:
	if [ &quot;x${CC}&quot; = &quot;x&quot; ] &amp;&amp; [ &quot;x${ARCH}&quot; != &quot;xarmv7l&quot; ] ; then
		gcc_linaro_toolchain
	fi

</code></pre>

<p>The code are funny, because echo x${CC} is actually x , so the gcc_linaro_toolchain will surely be called.</p>

<pre><code>	$ echo ${linaro_toolchain}
	cortex_gcc_4_8

</code></pre>

<p>The variable {linaro_toolchain} is set via . version.sh, then the corresponding code lines will be called</p>

<pre><code>		cortex_gcc_4_8)
			#https://launchpad.net/linaro-toolchain-binaries/+download
			#https://launchpad.net/linaro-toolchain-binaries/trunk/2013.10/+download/gcc-linaro-arm-linux-gnueabihf-4.8-2013.10_linux.tar.xz
	
			gcc_version=&quot;4.8&quot;
			release=&quot;2013.10&quot;
			toolchain_name=&quot;gcc-linaro-arm-linux-gnueabihf&quot;
			site=&quot;https://launchpad.net/linaro-toolchain-binaries&quot;
			version=&quot;trunk/${release}&quot;
			directory=&quot;${toolchain_name}-${gcc_version}-${release}_linux&quot;
			filename=&quot;${directory}.tar.xz&quot;
			datestamp=&quot;${release}-${toolchain_name}&quot;
			untar=&quot;tar -xJf&quot;
	
			binary=&quot;bin/arm-linux-gnueabihf-&quot;
			;;
		*)
			echo &quot;bug: maintainer forgot to set:&quot;
			echo &quot;linaro_toolchain=\&quot;xzy\&quot; in version.sh&quot;
			exit 1
			;;

</code></pre>

<p>dl_gcc_generic will be called. download the corresponding packages from the linaro website.</p>

<p>After set the cross-compiler, we can get the kernel using git.sh, the git.sh is listed in scripts/git.sh</p>

<pre><code>	/bin/sh -e &quot;${DIR}/scripts/git.sh&quot; || { exit 1 ; }

</code></pre>

<p>In git.sh, detect the user&rsquo;s email and user&rsquo;s name:</p>

<pre><code>	unset git_config_user_email
	git_config_user_email=$(git config --get user.email || true)
	
	unset git_config_user_name
	git_config_user_name=$(git config --get user.name || true)

</code></pre>

<p>Then set using http or git, call git_kernel to git clone the corresponding resources from github.<br />
git_kernel will call check_and_or_clone() to get the source code from the github.</p>

<pre><code>	git clone ${torvalds_linux} ${DIR}/ignore/linux-src

</code></pre>

<p>and set the LINUX_GIT variable to</p>

<pre><code>	LINUX_GIT=&quot;${DIR}/ignore/linux-src&quot;

</code></pre>

<p>The downloaded packages are so large, that it occupies 1.4G disk space.</p>

<pre><code>	[Trusty@XXXyyy ignore]$ du -hs *
	1.4G	linux-src

</code></pre>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/2013/12/11/debian-on-nfs/">Debian on NFS</a>
      </h1>
      <span class="post-date">Dec 11, 2013 
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/linux">Linux</a><a class="a_cat" href="http://purplepalmdash.github.io/categories/beaglebone">Beaglebone</a>
        
      </span>
      
      <p>Install some packages:</p>

<pre><code>	$ apt-get install usbutils alsa-base

</code></pre>

<p>Use lsusb to view the installed usb equipments:</p>

<pre><code>	Bus 001 Device 006: ID 0e5c:6441 Bitland Information Technology Co., Ltd C-Media Sound Device

</code></pre>

<p>Install modules to the filesystem, since our newly-installed filesytem doesn&rsquo;t contains the necessary modules:</p>

<pre><code>	$ pwd
	/media/x/bbBlack/38/linux-dev/deploy

</code></pre>

<p>Copy the firmware tar package and modules tar package to the nfs root directory</p>

<pre><code>	$ tar xzvf 3.8.13-bone30-modules.tar.gz  -C ./
	$ tar xzvf ./3.8.13-bone30-firmware.tar.gz -C  ./lib/firmware/

</code></pre>

<p>Reboot and Use aplay to view the installed sound card:</p>

<pre><code>	root@arm:/# aplay -l
	**** List of PLAYBACK Hardware Devices ****
	card 0: Black [TI BeagleBone Black], device 0: HDMI nxp-hdmi-hifi-0 []
	  Subdevices: 1/1
	  Subdevice #0: subdevice #0
	card 1: U0xe5c0x6441 [USB Device 0xe5c:0x6441], device 0: USB Audio [USB Audio]
	  Subdevices: 0/1
	  Subdevice #0: subdevice #0

</code></pre>

<p>Edit a new asound.conf, which will enable the system to use the usb audio as the default sound card:</p>

<pre><code>	root@arm:/# cat /etc/asound.conf
	pcm.!default { 
	type hw 
	card 1
	#device 0 
	}
	ctl.!default { 
	type hw 
	card  1
	#device 0 
	}

</code></pre>

<p>Now you can use the mplayer to enjoy the sound from the console.<br />
If you want to grant the right to the ordinary user, Just use acl:</p>

<pre><code>	 setfacl -m u:debian:rw /dev/snd/*

</code></pre>

<p>Now the user &ldquo;debian&rdquo; could also listen the music from the console.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/2013/12/11/nfs-of-beaglebone/">NFS of beaglebone</a>
      </h1>
      <span class="post-date">Dec 11, 2013 
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/linux">Linux</a><a class="a_cat" href="http://purplepalmdash.github.io/categories/embedded">embedded</a>
        
      </span>
      
      <p>###Serial Preparation
The serial port image is as following:
<img src="/images/serial1.jpg" alt="serial1.jpg" /></p>

<p><img src="/images/serial2.jpg" alt="serial2.jpg" /></p>

<p>###Failure information
The bootup failure information is listed as following:</p>

<pre><code>	Running uenvcmd ...
	reading zImage
	3345240 bytes read in 383 ms (8.3 MiB/s)
	reading /dtbs/am335x-boneblack.dtb
	24884 bytes read in 10 ms (2.4 MiB/s)
	
	Starting kernel ...
	
	Uncompressing Linux... done, booting the kernel.
	
	Error: unrecognized/unsupported machine ID (r1 = 0x00000e05).
	
	Available machine support:
	
	ID (hex)        NAME
	ffffffff        Generic OMAP4 (Flattened Device Tree)
	ffffffff        Generic AM33XX (Flattened Device Tree)
	ffffffff        Generic OMAP3-GP (Flattened Device Tree)
	ffffffff        Generic OMAP3 (Flattened Device Tree)
	0000060a        OMAP3 Beagle Board
	00000a9d        IGEP OMAP3 module
	00000928        IGEP v2 board
	00000ae7        OMAP4 Panda board
	
	Please check your kernel config and/or bootloader.

</code></pre>

<p>This is because the configuration file of the uEnv.txt is not right, the right one should be listed as following:</p>

<pre><code>	kernel_file=zImage
	initrd_file=uInitrd
	serverip=10.0.0.11
	ipaddr=10.0.0.122
	rootpath=/media/debianroot
	console=ttyO0,115200n8
	
	loadzimage=load mmc ${mmcdev}:${mmcpart} ${loadaddr} ${kernel_file}
	loadinitrd=load mmc ${mmcdev}:${mmcpart} 0x81000000 ${initrd_file}; setenv initrd_size ${filesize}
	loadfdt=load mmc ${mmcdev}:${mmcpart} ${fdtaddr} /dtbs/${fdtfile}
	
	netargs=setenv bootargs console=${console} ${optargs} root=/dev/nfs nfsroot=${serverip}:${rootpath},vers=3 rw ip=${ipaddr}
	#mmcargs=setenv bootargs console=${console} root=${mmcroot} rootfstype=${mmcrootfstype} ${optargs}
	
	#mmc uenvcmd
	#uenvcmd=run loadzimage; run loadfdt; run mmcargs; bootz ${loadaddr} - ${fdtaddr}
	
	#just zImage
	boot_ftd=run loadzimage; run loadfdt
	uenvcmd=run boot_ftd; run netargs; bootz ${loadaddr} - ${fdtaddr}

</code></pre>

<p>And remember to modify some files:</p>

<pre><code>	root@arm:~# cat /etc/network/interfaces
	# interfaces(5) file used by ifup(8) and ifdown(8)
	auto lo
	iface lo inet loopback
	
	auto eth0
	iface eth0 inet static
	address 10.0.0.122
	netmask 255.255.255.0
	gateway 10.0.0.1

</code></pre>

<p>Add following lines in /etc/inittab:</p>

<pre><code>	T0:23:respawn:/sbin/getty -L ttyO0 115200 vt102

</code></pre>

<p>Next time when you boot up the beaglebone, it will use the NFS files.</p>

<p>Tips: when your ownership of su is not right, you will meet&rdquo;set uid failed&rdquo; The solution is by Changing the ownership of the su used file;</p>

<pre><code>	chmod 4755 /bin/su

</code></pre>

<p>###NFS Server items
/etc/exports file items:</p>

<pre><code>	/media/debianroot 10.0.0.1/24(rw,sync,no_subtree_check,no_root_squash) 10.0.0.11(rw,sync,no_subtree_check,no_root_squash)

</code></pre>

<p>Restart the nfs server:</p>

<pre><code>	/etc/init.d/nfs-kernel-server
	#or
	service nfs-kernel-server restart

</code></pre>

<p>tar files into your directory:</p>

<pre><code>	tar xvfp /media/nfs/beaglebone/debian-7.1-bare-armhf-2013-08-25/armhf-rootfs-debian-wheezy.tar  -C /media/debianroot/

</code></pre>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/2013/12/10/beaglebone-boot-from-nfs/">BeagleBone boot from NFS</a>
      </h1>
      <span class="post-date">Dec 10, 2013 
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/linux">Linux</a><a class="a_cat" href="http://purplepalmdash.github.io/categories/beaglebone">Beaglebone</a>
        
      </span>
      
      <p>###Building Preparation
Create a new directory for stroing all of the items related to beaglebone.</p>

<pre><code>	cd /media/nfs/
	mkdir beaglebone
	cd beaglebone/

</code></pre>

<p>Download the cross-compiler from linaro toolchain binary website. And add it to the environment variables.</p>

<pre><code>	wget -c https://launchpad.net/linaro-toolchain-binaries/trunk/2013.10/+download/gcc-linaro-arm-linux-gnueabihf-4.8-2013.10_linux.tar.xz
	tar xJf gcc-linaro-arm-linux-gnueabihf-4.8-2013.10_linux.tar.xz
	export CC=`pwd`/gcc-linaro-arm-linux-gnueabihf-4.8-2013.10_linux/bin/arm-linux-gnueabihf-
	# Test the cross-compiler
	${CC}gcc --version

</code></pre>

<p>Checkout the U-boot:</p>

<pre><code>	git clone git://git.denx.de/u-boot.git
	cd u-boot/
	git checkout v2013.10 -b tmp

</code></pre>

<p>Patching U-boot:</p>

<pre><code>	wget https://raw.github.com/eewiki/u-boot-patches/master/v2013.10/0001-am335x_evm-uEnv.txt-bootz-n-fixes.patch
	patch -p1 &lt; 0001-am335x_evm-uEnv.txt-bootz-n-fixes.patch

</code></pre>

<p>Configure and compile the U-boot:</p>

<pre><code>	make ARCH=arm CROSS_COMPILE=${CC} distclean
	make ARCH=arm CROSS_COMPILE=${CC} am335x_evm_config
	make ARCH=arm CROSS_COMPILE=${CC}

</code></pre>

<p>Checkout the kernel:</p>

<pre><code>	git clone git://github.com/RobertCNelson/linux-dev.git
	cd linux-dev
	git checkout origin/am33x-v3.12 -b tmp

</code></pre>

<p>Now we got our kernel and U-boot available. The next step is to build a filesystem:</p>

<pre><code>	wget -c https://rcn-ee.net/deb/minfs/raring/ubuntu-13.04-minimal-armhf-2013-08-25.tar.xz

</code></pre>

<p>Prepare the mmc card.</p>

<pre><code>	export DISK=/dev/mmcblk0
	[Trusty@XXXyyy beaglebone]$ sudo dd if=/dev/zero of=${DISK} bs=1M count=16
	16+0 records in
	16+0 records out
	16777216 bytes (17 MB) copied, 4.84877 s, 3.5 MB/s 

</code></pre>

<p>Use sfdisk for creating the partition layout.</p>

<pre><code>	sudo sfdisk --in-order --Linux --unit M ${DISK} &lt;&lt;-__EOF__
	1,48,0xE,*
	,,,-
	__EOF__

</code></pre>

<p>Format Partitions:</p>

<pre><code>	sudo mkfs.vfat -F 16 ${DISK}p1 -n boot
	sudo mkfs.ext4 ${DISK}p2 -L rootfs

</code></pre>

<p>Install Bootloader to the 1st partition of mmc card.</p>

<pre><code>	[Trusty@XXXyyy beaglebone]$ sudo mkdir -p /media/boot/
	[Trusty@XXXyyy beaglebone]$ sudo mkdir -p /media/rootfs/
	[Trusty@XXXyyy beaglebone]$ sudo mount ${DISK}p1 /media/boot/
	[Trusty@XXXyyy beaglebone]$ sudo mount ${DISK}p2 /media/rootfs/
	[Trusty@XXXyyy beaglebone]$ sudo cp -v ./u-boot/MLO /media/boot/
	‘./u-boot/MLO’ -&gt; ‘/media/boot/MLO’
	[Trusty@XXXyyy beaglebone]$ sudo cp -v ./u-boot/u-boot.img /media/boot/
	‘./u-boot/u-boot.img’ -&gt; ‘/media/boot/u-boot.img’

	[Trusty@XXXyyy linux-dev]$ vim uEnv.txt
	[Trusty@XXXyyy linux-dev]$ sudo cp -v ./uEnv.txt /media/boot/
	‘./uEnv.txt’ -&gt; ‘/media/boot/uEnv.txt’

</code></pre>

<p>Copy Kernel:</p>

<pre><code>	[Trusty@XXXyyy beaglebone]$ sudo cp -v ./linux-dev/deploy/3.12.4-bone9.zImage /media/boot/zImage
	‘./linux-dev/deploy/3.12.4-bone9.zImage’ -&gt; ‘/media/boot/zImage’

</code></pre>

<p>Copy Root File System:</p>

<pre><code>	sudo tar xfvp ./ubuntu-13.04-minimal-armhf-2013-08-25/armhf-rootfs-ubuntu-raring.tar -C /media/rootfs/
Installation of kernel and configuration of the filesystem.
	sudo cp -v ./linux-dev/deploy/3.12.4-bone9.zImage /media/boot/zImage
	sudo mkdir -p /media/boot/dtbs/
	sudo tar xfov ./linux-dev/deploy/3.12.4-bone9-dtbs.tar.gz -C /media/boot/dtbs/
	sudo tar xfv ./linux-dev/deploy/3.12.4-bone9-firmware.tar.gz  -C /media/rootfs/lib/firmware/
	sudo tar xfv ./linux-dev/deploy/3.12.4-bone9-modules.tar.gz -C /media/rootfs/
	sudo vim /media/rootfs/etc/fstab
	sudo vim /media/rootfs/etc/network/interfaces 
	sudo vim /media/rootfs/etc/udev/rules.d/70-persistent-net.rules
	sudo vim /media/rootfs/etc/inittab
	sudo vim /media/rootfs/etc/init/serial.conf
	sudo umount /media/rootfs/
	sudo umount /media/boot/

</code></pre>

      
    </div>
    
    

<ul class="pagination">
    
    <li>
        <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/page/127/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/127/">127</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    class="active"><a href="/page/128/">128</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/129/">129</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/154/">154</a></li>
    
    
    <li
    >
    <a href="/page/129/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/page/154/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </div>
</div>


<script src="http://purplepalmdash.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

