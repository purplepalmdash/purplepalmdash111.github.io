<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.17-DEV" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Dash &middot; Dash</title>

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/poole.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/hyde.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/hyde-a.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/custom-additions.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/highlight/googlecode.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124">
  <link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel="icon">

  
  
  
  <link href="http://purplepalmdash.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Dash &middot; Dash" />

  <meta name="description" content="Get busy living, or get busy dying.">
  <meta name="keywords" content="unix,virtualization,embedded,linux">
  <link rel="author" href="http://plus.google.com/106572959364703833986">
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-42175003-1', 'auto');
      ga('send', 'pageview');
  </script>

</head>
<body class="theme-base-0c">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <img src="https://www.gravatar.com/avatar/49381c0004d32c0a4296b92dff0c0ae5?s=200" alt="gravatar">
      <h1><a href="http://purplepalmdash.github.io/">Get busy living, or get busy dying.</a></h1>
      <a href="http://purplepalmdash.github.io/"><p>Dash</p></a>
    </div>

    <ul class="sidebar-nav">
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/">First Page</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/post/">All Posts</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/categories/linux/">Linux</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/categories/embedded/">Embedded System</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/categories/virtualization">Virtualization</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/purplepalmdash"><i class="fa fa-github-square fa-3x"></i></a>
      
      <a href="https://cn.linkedin.com/in/yang-feipeng-1b909319"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="https://plus.google.com/u/0/106572959364703833986"><i class="fa fa-google-plus-square fa-3x"></i></a>
      <a href="https://www.facebook.com/yang.feipeng"><i class="fa fa-facebook-square fa-3x"></i></a>
      <a href="https://twitter.com/dashwillfly"><i class="fa fa-twitter-square fa-3x"></i></a>
      
      <a href="http://purplepalmdash.github.io/index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </li>
    </ul>

    

  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/2016/03/01/ba-wan-e-buddy/">把玩e-Buddy</a>
      </h1>
      <span class="post-date">Mar 1, 2016  &middot; <a href="http://purplepalmdash.github.io/2016/03/01/ba-wan-e-buddy/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/embedded">embedded</a>
        
      </span>
      
      

<h3 id="状态">状态</h3>

<p>逆向工程得出的控制指令:</p>

<pre><code>################
#Commands
################
# GLADNESS =        00
# FEAR =            01
# FIZZ =            02
# PLEASANTSURPRISE =03
# GRIEF =                       04
# FURY =                        05
# QUELL =                       06
# REDHEAD =             07
# GREENHEAD =           08
# BLUEHEAD =            09
# YELLOWHEAD =          10
# BLAME =                       11
# BLUEGREENHEAD =       12
# WHITEHEAD =           13
# HEART =                       14
# WINGS =                       15
# BODY =                        16
# NOEFFECT =            17
# ONLINE =                      18
# BUSY =                        19
# DAZE =                        20
# BACKSOON =            21
# AWAY =                        22
# PHONE =                       23
# LUNCH =                       24
# OFFLINE =             25
</code></pre>

<p>功能列表:</p>

<table>
<thead>
<tr>
<th>功能代码</th>
<th align="center">描述</th>
<th align="right">详细描述</th>
</tr>
</thead>

<tbody>
<tr>
<td>00</td>
<td align="center">开心</td>
<td align="right">头灯变换彩色，翅膀扇动</td>
</tr>

<tr>
<td>01</td>
<td align="center">惊恐</td>
<td align="right">头灯变换彩色，心灯红色，翅膀扇动</td>
</tr>

<tr>
<td>02</td>
<td align="center">嘶嘶</td>
<td align="right">头灯变换彩色，心灯红色，翅膀扇动, 身体转动</td>
</tr>

<tr>
<td>03</td>
<td align="center">惊喜</td>
<td align="right">头灯变换彩色，心灯红色，翅膀扇动, 之后身体转动，头灯红</td>
</tr>

<tr>
<td>04</td>
<td align="center">酸溜溜</td>
<td align="right">头灯变换彩色，翅膀扇动, 之后头灯变幻</td>
</tr>

<tr>
<td>05</td>
<td align="center">愤怒</td>
<td align="right">头灯红色，翅膀扇动, 身体扭动</td>
</tr>

<tr>
<td>06</td>
<td align="center">扭动</td>
<td align="right">头灯蓝色，翅膀扇动, 身体平缓扭动</td>
</tr>

<tr>
<td>07</td>
<td align="center">红头</td>
<td align="right">头灯红色, 闪烁</td>
</tr>

<tr>
<td>08</td>
<td align="center">绿头</td>
<td align="right">头灯绿色，闪烁</td>
</tr>

<tr>
<td>09</td>
<td align="center">蓝头</td>
<td align="right">头灯蓝色，闪烁</td>
</tr>

<tr>
<td>10</td>
<td align="center">黄头</td>
<td align="right">头灯黄色，闪烁</td>
</tr>

<tr>
<td>11</td>
<td align="center">责骂</td>
<td align="right">头灯蓝色，闪烁</td>
</tr>

<tr>
<td>12</td>
<td align="center">绿色-&gt;蓝色头</td>
<td align="right">头灯绿色到蓝色变换</td>
</tr>

<tr>
<td>13</td>
<td align="center">白头闪</td>
<td align="right">头灯白色变换</td>
</tr>

<tr>
<td>14</td>
<td align="center">心跳</td>
<td align="right">心灯红色闪烁后，身体转动</td>
</tr>

<tr>
<td>15</td>
<td align="center">挥翅</td>
<td align="right">翅膀不停挥动</td>
</tr>

<tr>
<td>16</td>
<td align="center">身体转动</td>
<td align="right">身体转动</td>
</tr>

<tr>
<td>17</td>
<td align="center">无效果</td>
<td align="right">无任何效果</td>
</tr>

<tr>
<td>18</td>
<td align="center">在线</td>
<td align="right">心灯一直闪动，不会停止，除非转为其他效果</td>
</tr>

<tr>
<td>19</td>
<td align="center">忙碌</td>
<td align="right">心灯一直快速闪动，不会停止，除非转为其他效果</td>
</tr>

<tr>
<td>20</td>
<td align="center">发呆</td>
<td align="right">心灯一直慢速闪动，不会停止，除非转为其他效果</td>
</tr>

<tr>
<td>21</td>
<td align="center">马上回来</td>
<td align="right">心灯三短闪烁后停止一会，不会停止，除非转为其他效果</td>
</tr>

<tr>
<td>22</td>
<td align="center">离开</td>
<td align="right">心灯三短闪烁后停止一会，不会停止，除非转为其他效果</td>
</tr>

<tr>
<td>23</td>
<td align="center">离开</td>
<td align="right">心灯持续跳动，不会停止，除非转为其他效果</td>
</tr>

<tr>
<td>24</td>
<td align="center">离开</td>
<td align="right">心灯两短后持续跳动，不会停止，除非转为其他效果</td>
</tr>

<tr>
<td>25</td>
<td align="center">离开</td>
<td align="right">心灯四短后，永久沉默</td>
</tr>
</tbody>
</table>

<h3 id="e-buddy本地服务器">e-buddy本地服务器</h3>

<p>有人已经实现了e-buddy的python库，直接拷贝到本地并运行:</p>

<pre><code>$ git clone git@github.com:purplepalmdash/pybuddy-dx.git
$ virtualenv2 venv2 --python=python2.7
 ✗ . ~/venv2/bin/activate
(venv2) ➜  _posts git:(master) ✗ python
Python 2.7.11 (default, Dec  6 2015, 15:43:46) 
[GCC 5.2.0] on linux2
$ pip install pyusb
$ python pybuddyDX1.py
2016-02-23 15:51:39,242 INFO     Searching e-buddy...
2016-02-23 15:51:39,399 INFO     DX e-buddy found!
2016-02-23 15:51:39,962 INFO     Starting daemon...
</code></pre>

<p>py文件运行后将监听127.0.0.1的8888端口，通过往该端口输入状态码，e-buddy将呈现不同的状态
。</p>

<h3 id="操纵e-buddy">操纵e-buddy</h3>

<p>用python操控e-buddy的命令如下:</p>

<pre><code>python
Python 2.7.11 (default, Dec  6 2015, 15:43:46) 
[GCC 5.2.0] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import socket
&gt;&gt;&gt; UDP_IP = &quot;127.0.0.1&quot;
&gt;&gt;&gt; UDP_PORT = 8888
&gt;&gt;&gt; sock = socket.socket(socket.AF_INET,  socket.SOCK_DGRAM)
&gt;&gt;&gt; sock.sendto(&quot;07&quot;,(UDP_IP, UDP_PORT))
2
</code></pre>

<p>或者，直接用bash来操作udp socket:</p>

<pre><code>#!/bin/bash
while true
do
echo 07 &gt; /dev/udp/127.0.0.1/8888
sleep 3
done
</code></pre>

<p>以上的脚本就可以直接将e-buddy的头像置为红色，且一直闪烁。</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/2016/02/29/tips-on-v-usb-and-arduino-3-others/">Tips on V-USB and Arduino(3)--Others</a>
      </h1>
      <span class="post-date">Feb 29, 2016  &middot; <a href="http://purplepalmdash.github.io/2016/02/29/tips-on-v-usb-and-arduino-3-others/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/embedded">embedded</a>
        
      </span>
      
      

<h3 id="连线-电路">连线/电路</h3>

<p>不需要对电路做任何修改，仅替换arduino里的程序即可。</p>

<h3 id="代码">代码</h3>

<p>代码如下:</p>

<pre><code>hid_custom_rq/
hid_data/
hid_mouse/
</code></pre>

<p>编译方法和上面一样。</p>

<p>值得注意的是, 这三个设备都是实现了HID设备，可以做到即插即用。</p>

<p><code>hid_data</code>的用法：</p>

<p>读取/写入例子:</p>

<pre><code>➜  commandline ./hidtool read
0x01 0x02 0x03 0x04 0x05 0x06 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
➜  commandline ./hidtool write 0x34 0x54 0x20 0x1f
➜  commandline ./hidtool read
0x34 0x54 0x20 0x1f 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
</code></pre>

<h3 id="custom-class延伸">custom_class延伸</h3>

<p>连线LED 11，修改代码后即可控制11 GPIO口的LED亮灭</p>

<p>custom_class_demo.pde:</p>

<pre><code>const int ledPin = 11;
</code></pre>

<p>custom_class.h:</p>

<pre><code>class custom_classDevice {
 public:
  custom_classDevice() {
    usbInit();
    ledPin = 11;        // pin 11 as default ledPin
  }
</code></pre>

<p>而后连接一个220欧电阻+LED到ARDUINO的PIN 11上，即可通过USB控制LED亮灭。</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/2016/02/26/tips-on-v-usb-and-arduino-2/">Tips On V-USB And Arduino(2)--用v-usb控制LED</a>
      </h1>
      <span class="post-date">Feb 26, 2016  &middot; <a href="http://purplepalmdash.github.io/2016/02/26/tips-on-v-usb-and-arduino-2/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/embedded">embedded</a>
        
      </span>
      
      

<h3 id="参考">参考</h3>

<p>参考链接如下(需翻墙):</p>

<p><a href="http://coopermaa2nd.blogspot.tw/2011/10/v-usb-examples-for-arduino.html">V-USB examples for Arduino</a></p>

<h3 id="连线图">连线图</h3>

<p>链接里的连线图如下:</p>

<p><img src="/images/image_thumb1354.png" alt="/images/image_thumb1354.png" /></p>

<p>这个图我想了很久，对比上一节里键盘的连线图对比，发现D+/D-的连线刚好是反过来的。此外就是
D-上加了一个上拉电阻， 电阻值为1.5K， 这个其实没关系，在我们的例子中，用到2.2K，是因为
我们用的参考电压是5V的。</p>

<p>对上一章我们的连线图进行修改，得出的连线图如下:</p>

<p><img src="/images/2016_02_29_10_52_38_769x625.jpg" alt="/images/2016_02_29_10_52_38_769x625.jpg" /></p>

<p>电路图如下:</p>

<p><img src="/images/2016_02_29_10_53_49_720x702.jpg" alt="/images/2016_02_29_10_53_49_720x702.jpg" /></p>

<p>上一章用到的开关可以不用拆除。</p>

<p>值得注意的是，2.2K的上拉电阻接到了5V输入。</p>

<h3 id="代码">代码</h3>

<p>下载Windows版0022 Arduino，编译原帖中pde文件并上传，修改
hardware/arduino/cores/arduino/wiring.c里的:</p>

<pre><code>SIGNAL(TIMER0_OVF_vect) 
{
++++++   sei()
......
}
</code></pre>

<p>客户端程序编译:</p>

<pre><code>➜  pwd
......../custom_class/examples/custom_class_demo/commandline
➜  make clean
rm -f *.o set-led
➜  make

</code></pre>

<p>使用<code>./set-led</code>即可，编译前需要修改头文件:</p>

<pre><code>$ vim set-led.c
//#include &quot;../firmware/requests.h&quot;   /* custom request numbers */
//#include &quot;../firmware/usbconfig.h&quot;  /* device's VID/PID and names */
#include &quot;../../../requests.h&quot;   /* custom request numbers */
#include &quot;../../../usbconfig.h&quot;  /* device's VID/PID and names */

</code></pre>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/2016/02/26/tips-on-v-usb-and-arduino-1/">Tips On V-USB And Arduino(1)- USB Keyboard</a>
      </h1>
      <span class="post-date">Feb 26, 2016  &middot; <a href="http://purplepalmdash.github.io/2016/02/26/tips-on-v-usb-and-arduino-1/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/embedded">Embedded</a>
        
      </span>
      
      

<h3 id="参考">参考</h3>

<p>主要参考了:</p>

<p><a href="http://www.geek-workshop.com/thread-1137-1-1.html">Arduino学习笔记A11 - Arduino模拟电脑键盘（基于AVR-USB的USB-HID设备）</a></p>

<h3 id="电路图">电路图</h3>

<p>安装Fritzing后，可以绘制出面包板连线图和电路图:</p>

<p><img src="/images/2016_02_26_16_57_48_761x613.jpg" alt="/images/2016_02_26_16_57_48_761x613.jpg" /></p>

<p>电路图:</p>

<p><img src="/images/2016_02_26_17_00_04_668x679.jpg" alt="/images/2016_02_26_17_00_04_668x679.jpg" /></p>

<p>注意事项:</p>

<p>电阻换成100欧也可以，原帖中是68欧电阻。<br />
注意齐纳二极管的极性，带有色条的一端是负极。</p>

<h3 id="代码">代码</h3>

<p>值得注意的配置如下:</p>

<pre><code>#define USB_CFG_IOPORTNAME D
	
USB输入输出引脚使用AVR单片机的PORTD，如果改成B就是使用PORTB
#define USB_CFG_DMINUS_BIT 4
	
USB的D-接PORTD的第四位PD4，对应Arduino D4
#define USB_CFG_DPLUS_BIT  2
	
USB的D+接PORTD的第二位PD2，对应Arduino D2
#define USB_CFG_PULLUP_IOPORTNAME D
	
USB上拉引脚使用AVR单片机的PORTD，如果改成B就是使用PORTB
#define USB_CFG_PULLUP_BIT  5
	
USB的上拉电阻接PORTD的第五位PD5，对应Arduino  D5
</code></pre>

<p>在Arduino1.0.5上编译/配置都没有问题，最好在0022～1.05的版本范围内进行实验。</p>

<p>首先通过USBasp线写入编译后的程序，而后换上我们添加的USB线缆后，点击按键，每次即可输出
<code>hello world</code>字符串。</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/2016/02/25/openvswitch-bonding/">OpenVswitch bonding</a>
      </h1>
      <span class="post-date">Feb 25, 2016  &middot; <a href="http://purplepalmdash.github.io/2016/02/25/openvswitch-bonding/#disqus_thread">Comments</a>
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/linux">Linux</a>
        
      </span>
      
      

<h3 id="before">Before</h3>

<p>Add 2 NICs, and show their ip infos via:</p>

<pre><code>[root@localhost ~]# ifconfig
eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 10.47.58.207  netmask 255.255.255.0  broadcast 10.47.58.255
        inet6 fe80::5054:ff:feae:f2be  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 52:54:00:ae:f2:be  txqueuelen 1000  (Ethernet)
        RX packets 75  bytes 10924 (10.6 KiB)
        RX errors 0  dropped 5  overruns 0  frame 0
        TX packets 15  bytes 1668 (1.6 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

eth1: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 10.47.58.135  netmask 255.255.255.0  broadcast 10.47.58.255
        inet6 fe80::5054:ff:fe56:8c2e  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 52:54:00:56:8c:2e  txqueuelen 1000  (Ethernet)
        RX packets 108  bytes 17136 (16.7 KiB)
        RX errors 0  dropped 5  overruns 0  frame 0
        TX packets 47  bytes 6928 (6.7 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre>

<h3 id="install-openvswitch">Install Openvswitch</h3>

<p>Install/Configure ovs via:</p>

<pre><code># yum localinstall /home/ovs/rpmbuild/RPMS/x86_64/openvswitch-2.3.2-1.x86_64.rpm
# systemctl start openvswitch.service
# chkconfig openvswitch on
# ovs-vsctl -V
ovs-vsctl (Open vSwitch) 2.3.2 
Compiled Feb 23 2016 10:12:37
DB Schema 7.6.2
</code></pre>

<h3 id="configure-bonding">Configure Bonding</h3>

<p>Add bridge and list the added bridge:</p>

<pre><code>[root@localhost ~]# ovs-vsctl add-br br0 
[root@localhost ~]# ovs-vsctl list-br
br0                               
[root@localhost ~]# ovs-vsctl show
fb542c8e-968a-4dcf-b55f-934667abc7d3
    Bridge &quot;br0&quot;                  
        Port &quot;br0&quot;
            Interface &quot;br0&quot;
                type: internal
    ovs_version: &quot;2.3.2&quot;
</code></pre>

<p>Add bonding:</p>

<pre><code># ovs-vsctl add-bond br0 bond0 eth0 eth1
</code></pre>

<p>Or? ??</p>

<pre><code>$ ovs-vsctl add-bond br0 bond0 eth1 eth0 bond_mode=balance-slb other_config:lacp-time=fast
</code></pre>

<p>Configure eth0/eth1/br0:</p>

<pre><code>[root@localhost network-scripts]# cat /etc/sysconfig/network-scripts/ifcfg-eth0 
# Generated by dracut initrd
DEVICE=&quot;eth0&quot;
ONBOOT=yes
NETBOOT=yes
UUID=&quot;8dbd22bd-764d-48d0-b896-99ae358aebcc&quot;
IPV6INIT=yes
BOOTPROTO=&quot;none&quot;
TYPE=Ethernet
NAME=&quot;eth0&quot;
[root@localhost network-scripts]# cat /etc/sysconfig/network-scripts/ifcfg-eth1
# Generated by dracut initrd
DEVICE=&quot;eth1&quot;
ONBOOT=yes
NETBOOT=yes
IPV6INIT=yes
BOOTPROTO=&quot;none&quot;
TYPE=Ethernet
NAME=&quot;eth1&quot;
[root@localhost network-scripts]# cat /etc/sysconfig/network-scripts/ifcfg-br0
# Generated by dracut initrd
DEVICE=&quot;br0&quot;
ONBOOT=yes
DEVICETYPE=&quot;ovs&quot;
NETBOOT=yes
IPV6INIT=yes
BOOTPROTO=dhcp
TYPE=&quot;OVSBridge&quot;
NAME=&quot;br0&quot;
</code></pre>

<p>now restart the machine, you will get ovs bonding networking working.</p>

      
    </div>
    
    
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        >
        <a href="/page/10/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        ><a href="/">1</a></li>
        
        <li
        ><a href="/page/2/">2</a></li>
        
        <li
        ><a href="/page/3/">3</a></li>
        
        <li
        ><a href="/page/4/">4</a></li>
        
        <li
        ><a href="/page/5/">5</a></li>
        
        <li
        ><a href="/page/6/">6</a></li>
        
        <li
        ><a href="/page/7/">7</a></li>
        
        <li
        ><a href="/page/8/">8</a></li>
        
        <li
        ><a href="/page/9/">9</a></li>
        
        <li
        ><a href="/page/10/">10</a></li>
        
        <li
        class="active"><a href="/page/11/">11</a></li>
        
        <li
        ><a href="/page/12/">12</a></li>
        
        <li
        ><a href="/page/13/">13</a></li>
        
        <li
        ><a href="/page/14/">14</a></li>
        
        <li
        ><a href="/page/15/">15</a></li>
        
        <li
        ><a href="/page/16/">16</a></li>
        
        <li
        ><a href="/page/17/">17</a></li>
        
        <li
        ><a href="/page/18/">18</a></li>
        
        <li
        ><a href="/page/19/">19</a></li>
        
        <li
        ><a href="/page/20/">20</a></li>
        
        <li
        ><a href="/page/21/">21</a></li>
        
        <li
        ><a href="/page/22/">22</a></li>
        
        <li
        ><a href="/page/23/">23</a></li>
        
        <li
        ><a href="/page/24/">24</a></li>
        
        <li
        ><a href="/page/25/">25</a></li>
        
        <li
        ><a href="/page/26/">26</a></li>
        
        <li
        ><a href="/page/27/">27</a></li>
        
        <li
        ><a href="/page/28/">28</a></li>
        
        <li
        ><a href="/page/29/">29</a></li>
        
        <li
        ><a href="/page/30/">30</a></li>
        
        <li
        ><a href="/page/31/">31</a></li>
        
        <li
        ><a href="/page/32/">32</a></li>
        
        <li
        ><a href="/page/33/">33</a></li>
        
        <li
        ><a href="/page/34/">34</a></li>
        
        <li
        ><a href="/page/35/">35</a></li>
        
        <li
        ><a href="/page/36/">36</a></li>
        
        <li
        ><a href="/page/37/">37</a></li>
        
        <li
        ><a href="/page/38/">38</a></li>
        
        <li
        ><a href="/page/39/">39</a></li>
        
        <li
        ><a href="/page/40/">40</a></li>
        
        <li
        ><a href="/page/41/">41</a></li>
        
        <li
        ><a href="/page/42/">42</a></li>
        
        <li
        ><a href="/page/43/">43</a></li>
        
        <li
        ><a href="/page/44/">44</a></li>
        
        <li
        ><a href="/page/45/">45</a></li>
        
        <li
        ><a href="/page/46/">46</a></li>
        
        <li
        ><a href="/page/47/">47</a></li>
        
        <li
        ><a href="/page/48/">48</a></li>
        
        <li
        ><a href="/page/49/">49</a></li>
        
        <li
        ><a href="/page/50/">50</a></li>
        
        <li
        ><a href="/page/51/">51</a></li>
        
        <li
        ><a href="/page/52/">52</a></li>
        
        <li
        ><a href="/page/53/">53</a></li>
        
        <li
        ><a href="/page/54/">54</a></li>
        
        <li
        ><a href="/page/55/">55</a></li>
        
        <li
        ><a href="/page/56/">56</a></li>
        
        <li
        ><a href="/page/57/">57</a></li>
        
        <li
        ><a href="/page/58/">58</a></li>
        
        <li
        ><a href="/page/59/">59</a></li>
        
        <li
        ><a href="/page/60/">60</a></li>
        
        <li
        ><a href="/page/61/">61</a></li>
        
        <li
        ><a href="/page/62/">62</a></li>
        
        <li
        ><a href="/page/63/">63</a></li>
        
        <li
        ><a href="/page/64/">64</a></li>
        
        <li
        ><a href="/page/65/">65</a></li>
        
        <li
        ><a href="/page/66/">66</a></li>
        
        <li
        ><a href="/page/67/">67</a></li>
        
        <li
        ><a href="/page/68/">68</a></li>
        
        <li
        ><a href="/page/69/">69</a></li>
        
        <li
        ><a href="/page/70/">70</a></li>
        
        <li
        ><a href="/page/71/">71</a></li>
        
        <li
        ><a href="/page/72/">72</a></li>
        
        <li
        ><a href="/page/73/">73</a></li>
        
        <li
        ><a href="/page/74/">74</a></li>
        
        <li
        ><a href="/page/75/">75</a></li>
        
        <li
        ><a href="/page/76/">76</a></li>
        
        <li
        ><a href="/page/77/">77</a></li>
        
        <li
        ><a href="/page/78/">78</a></li>
        
        <li
        ><a href="/page/79/">79</a></li>
        
        <li
        ><a href="/page/80/">80</a></li>
        
        <li
        ><a href="/page/81/">81</a></li>
        
        <li
        ><a href="/page/82/">82</a></li>
        
        <li
        ><a href="/page/83/">83</a></li>
        
        <li
        ><a href="/page/84/">84</a></li>
        
        <li
        ><a href="/page/85/">85</a></li>
        
        <li
        ><a href="/page/86/">86</a></li>
        
        <li
        ><a href="/page/87/">87</a></li>
        
        <li
        ><a href="/page/88/">88</a></li>
        
        <li
        ><a href="/page/89/">89</a></li>
        
        <li
        ><a href="/page/90/">90</a></li>
        
        <li
        ><a href="/page/91/">91</a></li>
        
        <li
        ><a href="/page/92/">92</a></li>
        
        <li
        ><a href="/page/93/">93</a></li>
        
        <li
        ><a href="/page/94/">94</a></li>
        
        <li
        ><a href="/page/95/">95</a></li>
        
        <li
        ><a href="/page/96/">96</a></li>
        
        <li
        ><a href="/page/97/">97</a></li>
        
        <li
        ><a href="/page/98/">98</a></li>
        
        <li
        ><a href="/page/99/">99</a></li>
        
        <li
        ><a href="/page/100/">100</a></li>
        
        <li
        ><a href="/page/101/">101</a></li>
        
        <li
        ><a href="/page/102/">102</a></li>
        
        <li
        ><a href="/page/103/">103</a></li>
        
        <li
        ><a href="/page/104/">104</a></li>
        
        <li
        ><a href="/page/105/">105</a></li>
        
        <li
        ><a href="/page/106/">106</a></li>
        
        <li
        ><a href="/page/107/">107</a></li>
        
        <li
        ><a href="/page/108/">108</a></li>
        
        <li
        ><a href="/page/109/">109</a></li>
        
        <li
        ><a href="/page/110/">110</a></li>
        
        <li
        ><a href="/page/111/">111</a></li>
        
        <li
        ><a href="/page/112/">112</a></li>
        
        <li
        ><a href="/page/113/">113</a></li>
        
        <li
        ><a href="/page/114/">114</a></li>
        
        <li
        ><a href="/page/115/">115</a></li>
        
        <li
        ><a href="/page/116/">116</a></li>
        
        <li
        ><a href="/page/117/">117</a></li>
        
        <li
        ><a href="/page/118/">118</a></li>
        
        <li
        ><a href="/page/119/">119</a></li>
        
        <li
        ><a href="/page/120/">120</a></li>
        
        <li
        ><a href="/page/121/">121</a></li>
        
        <li
        ><a href="/page/122/">122</a></li>
        
        <li
        ><a href="/page/123/">123</a></li>
        
        <li
        ><a href="/page/124/">124</a></li>
        
        <li
        ><a href="/page/125/">125</a></li>
        
        <li
        ><a href="/page/126/">126</a></li>
        
        <li
        ><a href="/page/127/">127</a></li>
        
        <li
        ><a href="/page/128/">128</a></li>
        
        <li
        ><a href="/page/129/">129</a></li>
        
        <li
        ><a href="/page/130/">130</a></li>
        
        <li
        ><a href="/page/131/">131</a></li>
        
        <li
        ><a href="/page/132/">132</a></li>
        
        <li
        ><a href="/page/133/">133</a></li>
        
        <li
        >
        <a href="/page/12/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/133/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "dashsagittariussglory";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

<script src="http://purplepalmdash.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

