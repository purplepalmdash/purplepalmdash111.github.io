<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.31-DEV" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Dash &middot; Dash</title>

  
  <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/poole.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/hyde.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/hyde-a.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/custom-additions.css?ref=abc124">
  <link rel="stylesheet" href="http://purplepalmdash.github.io/css/highlight/googlecode.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/8.5/styles/docco.min.css">
  <script type="text/javascript" src="//cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
  <script type="text/javascript" src="/js/html2canvas.js"></script>
  <script type='text/javascript'>
  function genPostShot() { 
          var rightNow = new Date();
          var imageName = rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");
          imageName += '.jpg'
          html2canvas(document.getElementsByClassName('post'), {
              background :'#FFFFFF',
              onrendered: function(canvas) {
  		
          	$('#test').attr('href', canvas.toDataURL("image/jpeg"));
          	$('#test').attr('download',imageName);
          	$('#test')[0].click();
              }
          });
  }; 
  
  </script>
  <script src="//cdn.bootcss.com/highlight.js/8.5/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124">
  <link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel="icon">

  
  
  
  <link href="http://purplepalmdash.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Dash &middot; Dash" />

  <meta name="description" content="Get busy living, or get busy dying.">
  <meta name="keywords" content="unix,virtualization,embedded,linux">
  
  
</head>
<body class="theme-base-0c">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <img src="http://purplepalmdash.github.io/images/mylogo.jpeg" alt="gravatar">
      <h1><a href="http://purplepalmdash.github.io/">Get busy living, or get busy dying.</a></h1>
      <a href="http://purplepalmdash.github.io/"><p>Dash</p></a>
    </div>

    <ul class="sidebar-nav">
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/">First Page</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/post/">All Posts</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/categories/linux/">Linux</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/categories/embedded/">Embedded System</a></li>
      
      <li class="sidebar-nav-item"><a href="http://purplepalmdash.github.io/categories/virtualization">Virtualization</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/purplepalmdash"><i class="fa fa-github-square fa-3x"></i></a>
      
      <a href="https://cn.linkedin.com/in/yang-feipeng-1b909319"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="https://plus.google.com/u/0/106572959364703833986"><i class="fa fa-google-plus-square fa-3x"></i></a>
      <a href="https://www.facebook.com/yang.feipeng"><i class="fa fa-facebook-square fa-3x"></i></a>
      <a href="https://twitter.com/dashwillfly"><i class="fa fa-twitter-square fa-3x"></i></a>
      
      <a href="http://purplepalmdash.github.io/index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </li>
    </ul>

    

  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/blog/2016/11/03/dockerspeedup/">DockerSpeedUp</a>
      </h1>
      <span class="post-date">Nov 3, 2016 
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/linux">Linux</a>
        
      </span>
      
      

<h3 id="docker-registry">Docker Registry</h3>

<p>因为众所周知的原因，在国内下载Docker镜像会很慢，所以我们更改docker的配置，让它使用
daocloud的加速服务:</p>

<p>ArchLinux下，编辑以下文件，或者你可以通过<code>sudo systemctl edit docker.service</code>来配置以下
文件:</p>

<pre><code># vim /etc/systemd/system/docker.service.d/override.conf 
[Service]
ExecStart=
ExecStart=/usr/bin/dockerd --registry-mirror=http://1a653205.m.daocloud.io -H fd://
</code></pre>

<p>现在重新加载服务并重新启动<code>docker.service</code>：</p>

<pre><code># systemctl daemon-reload
# systemctl restart docker.service
</code></pre>

<p>从此以后，每一次docker pull都会使用到daocloud提供的加速服务。</p>

<h3 id="本地私有registry">本地私有registry</h3>

<p>首先pull下来如下镜像(这两个其实是一个镜像):</p>

<pre><code># docker pull registry:latest
# docker pull registry:2
</code></pre>

<p>运行registry实例(注意更改volumn映射):</p>

<pre><code># docker run -d -p 5000:5000 --restart=always --name registry -v
/root/DockerRegistry:/var/lib/registry registry:2
</code></pre>

<p>检查实例运行情况:</p>

<pre><code>➜  ~ sudo docker ps
CONTAINER ID        IMAGE                            COMMAND                  CREATED
STATUS              PORTS                    NAMES
b16b27933709        registry:2                       &quot;/entrypoint.sh /etc/&quot;   7 hours
ago         Up 2 hours          0.0.0.0:5000-&gt;5000/tcp   registry
</code></pre>

<p>为了让这个服务每次都启动，我们来编写一个systemd服务:</p>

<pre><code># vim /usr/lib/systemd/system/DockerRegistry.service 
[Unit]
Description=DockerRegistry container
Requires=docker.service
After=docker.service

[Service]
Restart=always
ExecStart=/usr/bin/docker start -a registry
ExecStop=/usr/bin/docker stop -t 2 registry

[Install]
WantedBy=multi-user.target
</code></pre>

<p>现在使能该服务:</p>

<pre><code># systemctl enable DockerRegistry.service
Created symlink /etc/systemd/system/multi-user.target.wants/DockerRegistry.service →
/usr/lib/systemd/system/DockerRegistry.service.
</code></pre>

<h3 id="本地私有registry使用方法">本地私有Registry使用方法</h3>

<p>将获取到的image tag到私有registry(tag):</p>

<pre><code># docker tag ubuntu:16.04 localhost:5000/ubuntu:16.04
</code></pre>

<p>将获取到的image push到私有registry(push):</p>

<pre><code># docker push localhost:5000/ubuntu:16.04
</code></pre>

<h3 id="在agent机器上启用本地registry仓库">在agent机器上启用本地registry仓库</h3>

<p>在systemd类型的机器上，例如Ubuntu16.04上，使用以下命令，添加<code>192.168.177.11:5000</code>这个私有仓库：</p>

<pre><code># sed -i 's#fd://#fd:// --registry-mirror http://192.168.177.11:5000
--insecure-registry 192.168.177.11:5000#' /lib/systemd/system/docker.service
# systemctl daemon-reload
# systemctl restart docker
</code></pre>

<p>添加完毕后，检查docker运行参数:</p>

<pre><code># ps -ef | grep docker
root      4253     1  2 21:48 ?        00:00:00 /usr/bin/dockerd -H fd://
--registry-mirror http://192.168.177.11:5000 --insecure-registry
192.168.177.11:5000
root      4260  4253  0 21:48 ?        00:00:00 docker-containerd -l
unix:///var/run/docker/libcontainerd/docker-containerd.sock --shim
docker-containerd-shim --metrics-interval=0 --start-timeout 2m --state-dir
/var/run/docker/libcontainerd/containerd --runtime docker-runc
</code></pre>

<p>pull一个已经被放入仓库里的镜像，速度非常快:</p>

<pre><code># docker pull 192.168.177.11:5000/fedora:latest
latest: Pulling from fedora
41b563eedcb0: Pull complete 
Digest:
sha256:cc4323bf2ee99b414600605e42d1888c4c1b0a08f5793a379c1238af4a44315d
Status: Downloaded newer image for 192.168.177.11:5000/fedora:latest
</code></pre>

<p>检查安装的镜像:</p>

<pre><code>$ sudo docker run -it 192.168.177.11:5000/fedora /bin/bash
[root@810f44567c87 /]# cat /etc/redhat-release 
Fedora release 24 (Twenty Four)
</code></pre>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/blog/2016/10/24/vrmonitoringviacollectd/">VRMonitoringViaCollectd</a>
      </h1>
      <span class="post-date">Oct 24, 2016 
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/linux">Linux</a>
        
      </span>
      
      

<h3 id="environment">Environment</h3>

<p>The VR&rsquo;s information is listed as following:</p>

<p><img src="/images/2016_10_24_16_35_58_501x547.jpg" alt="/images/2016_10_24_16_35_58_501x547.jpg" /><br />
Now login the VR in CloudStack Agent Node via:</p>

<pre><code># ssh -i /root/.ssh/id_rsa.cloud -p3922 169.254.0.129
</code></pre>

<p>Modify its <code>/etc/apt/sources.list</code> like following:</p>

<pre><code># cat /etc/apt/sources.list
# 

# deb cdrom:[Debian GNU/Linux 7.8.0 _Wheezy_ - Official amd64 NETINST Binary-1
20150110-14:41]/ wheezy main

#deb cdrom:[Debian GNU/Linux 7.8.0 _Wheezy_ - Official amd64 NETINST Binary-1
20150110-14:41]/ wheezy main


deb http://mirrors.aliyun.com/debian wheezy main
deb-src http://mirrors.aliyun.com/debian wheezy main

deb http://mirrors.aliyun.com/ wheezy/updates main
deb-src http://mirrors.aliyun.com/ wheezy/updates main

# wheezy-updates, previously known as 'volatile'
deb http://mirrors.aliyun.com/debian wheezy-updates main
deb-src http://mirrors.aliyun.com/debian wheezy-updates main
deb http://mirrors.aliyun.com/debian/ wheezy-backports main
</code></pre>

<p>Then <code>apt-get update &amp;&amp; apt-get install -y collectd</code>, for installing collectd.</p>

<h3 id="collectd">Collectd</h3>

<p>Configuration of collectd:</p>

<pre><code>$ touch /var/log/collectd.log
$ vim /etc/collectd/collectd.conf
Hostname &quot;WeiLan&quot;
LoadPlugin logfile
#LoadPlugin syslog

&lt;Plugin logfile&gt;
	LogLevel &quot;info&quot;
	File &quot;/var/log/collectd.log&quot;
	Timestamp true
	PrintSeverity false
&lt;/Plugin&gt;

#&lt;Plugin syslog&gt;
#	LogLevel info
#&lt;/Plugin&gt;

..... 

LoadPlugin conntrack
LoadPlugin uptime 
#LoadPlugin df
LoadPlugin write_graphite

&lt;Plugin write_graphite&gt;
	&lt;Carbon&gt;
		Host &quot;192.168.1.79&quot;
		Port &quot;2003&quot;
		Prefix &quot;collectd&quot;
		Postfix &quot;collectd&quot;
		StoreRates false
		AlwaysAppendDS false
		EscapeCharacter &quot;_&quot;
	&lt;/Carbon&gt;
&lt;/Plugin&gt;

</code></pre>

<p>Start the collectd service via:</p>

<pre><code># service collectd restart
</code></pre>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/blog/2016/10/09/linuxtips6/">LinuxTips6</a>
      </h1>
      <span class="post-date">Oct 9, 2016 
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/linux">Linux</a>
        
      </span>
      
      

<h3 id="1-working-tips-for-remove-dulipcate-chars">1.  Working tips for remove dulipcate chars</h3>

<p><a href="http://codereview.stackexchange.com/questions/5441/removing-any-duplicate-characters-in-a-string">http://codereview.stackexchange.com/questions/5441/removing-any-duplicate-characters-in-a-string</a></p>

<h3 id="2-pip-reinstallation">2. pip reinstallation</h3>

<p>Uninstall all of the pip installed packages:</p>

<pre><code># pip freeze | xargs pip uninstall -y
</code></pre>

<h3 id="3-ipython-notebook">3. ipython notebook</h3>

<p>Install on ArchLinux via:</p>

<pre><code>$  sudo pip install &quot;ipython[all]&quot;
</code></pre>

<p>Be sure to make your internet connection stable.</p>

<p>Run it via:</p>

<pre><code>$ ipython notebook
</code></pre>

<p>ipython2 installation issue:</p>

<pre><code>$ python2 -m pip install ipykernel
$ python2 -m ipykernel install --user
$ python2 -m pip  install &quot;ipython[all]&quot;
$ ipython3 notebook
</code></pre>

<p>Now you could create python2&amp;python3 notebooks.</p>

<h3 id="4-wkhtmltoimage">4. wkhtmltoimage</h3>

<p>wkhtmltoimage could convert webpage into image files, like following command:</p>

<pre><code>$ wkhtmltoimage http://purplepalmdash.github.io dash.jpg
</code></pre>

<h3 id="5-synergyc">5. Synergyc</h3>

<p>Add following into <code>~/.config/awesome/rc.lua</code>, then you could let synergyc auto-login
into another server:</p>

<pre><code>&quot;synergyc 192.168.0.219&quot;,
</code></pre>

<h3 id="6-vromerc">6. vromerc</h3>

<p>vromerc configuration:</p>

<pre><code>set userletters=0
</code></pre>

<h3 id="7-docker-registry">7. Docker Registry</h3>

<p><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-private-docker-registry-on-ubuntu-14-04">https://www.digitalocean.com/community/tutorials/how-to-set-up-a-private-docker-registry-on-ubuntu-14-04</a></p>

<h3 id="8-trouble-shooting-in-libvirt">8. Trouble-Shooting In Libvirt</h3>

<p>After installing archlinux, the virsh list will be failed with following message:</p>

<pre><code>[root@Arch8G ~]# virsh list
error: failed to connect to the hypervisor
error: Failed to connect socket to '/var/run/libvirt/libvirt-sock': No such file or
directory
</code></pre>

<p>Solved via:</p>

<pre><code># systemctl enable libvirtd.service
# systemctl enable virtlogd.service
# systemctl restart libvirtd.service
# systemctl restart virtlogd.service
</code></pre>

<p>Now <code>virsh list</code> will be OK.</p>

<p>For user, you should add polkit related items, see:</p>

<p><a href="https://wiki.archlinux.org/index.php/Libvirt#Using_polkit">https://wiki.archlinux.org/index.php/Libvirt#Using_polkit</a></p>

<p>also remember add yourself into the group <code>kvm</code>.</p>

<pre><code>$ sudo usermod -a -G kvm dash
$ sudo usermod -a -G libvirtd dash
</code></pre>

<h3 id="9-docker-using-daocloud-registry">9. Docker using daocloud registry</h3>

<p>Edit following file(Or you could edit it via: <code>sudo systemctl edit docker.service</code>):</p>

<pre><code># vim /etc/systemd/system/docker.service.d/override.conf 
[Service]
ExecStart=
ExecStart=/usr/bin/dockerd --registry-mirror=http://1a653205.m.daocloud.io -H fd://
</code></pre>

<p>Now reload the service and restart docker.service via:</p>

<pre><code># systemctl daemon-reload
# systemctl restart docker.service
</code></pre>

<p>Now your docker pulling will from the daocloud website.</p>

<h3 id="10-deb-local-repository-how-to">10. DEB Local Repository How-TO</h3>

<p>In a ubuntu system, generate package repository metadatas:</p>

<pre><code># sudo apt-get install -y dpkg-dev
# dpkg-scanpackages . /dev/null | gzip -9c &gt; Packages.gz
</code></pre>

<p>Now copy the directory into a webserver, like in <code>192.168.177.11</code>, visit your
webpage, you will see <code>http://192.168.177.11/xxxx</code> contains all of the
packages and their metadata.</p>

<p>In the systems which you want to use this repository, do following:</p>

<pre><code>$ sudo vim /etc/apt/sources.list.d/docker.list 
deb http://192.168.177.11/ubuntu1604dockerrepo/	/
$ sudo apt-get update
</code></pre>

<p>Now examine the package <code>docker-engine</code> which in the private repository:</p>

<pre><code># apt-cache policy docker-engine
docker-engine:
  Installed: 1.12.3-0~xenial
  Candidate: 1.12.3-0~xenial
  Version table:
 *** 1.12.3-0~xenial 500
        500 http://192.168.177.11/ubuntu1604dockerrepo  Packages
        100 /var/lib/dpkg/status
</code></pre>

<p>Install this package via:</p>

<pre><code>$ sudo apt-get install -y docker-engine --allow-unauthenticated
</code></pre>

<h3 id="11-vagrant-initial-scripts-for-setting-docker">11. vagrant initial scripts for setting docker</h3>

<p>Create the initial.sh under the vagrant folder:</p>

<pre><code># Use apt-cacher server
echo 'Acquire::http::Proxy &quot;http://192.168.177.11:3142&quot;;'&gt;/etc/apt/apt.conf.d/01proxy
# Added the primary repository
echo 'deb http://192.168.177.11/ubuntu1604dockerrepo/    /'&gt;/etc/apt/sources.list.d/dockerrepo.list
apt-get update
apt-get -y install vim
apt-get install -y docker-engine --allow-unauthenticated
</code></pre>

<p>Using local docker registry:</p>

<pre><code># Use apt-cacher server
echo 'Acquire::http::Proxy
&quot;http://192.168.177.11:3142&quot;;'&gt;/etc/apt/apt.conf.d/01proxy
# Added the primary repository
echo 'deb http://192.168.177.11/ubuntu1604dockerrepo/
/'&gt;/etc/apt/sources.list.d/dockerrepo.list
apt-get update
apt-get -y install vim
apt-get install -y docker-engine --allow-unauthenticated
# Added local docker registry
sed -i 's#fd://#fd:// --registry-mirror http://192.168.177.11:5000
--insecure-registry 192.168.177.11:5000#' /lib/systemd/system/docker.service
systemctl daemon-reload
systemctl restart docker
</code></pre>

<h3 id="12-nginx-docker-way">12. nginx docker way</h3>

<p>Run via:</p>

<pre><code>$ sudo docker run --name docker-nginx -p 80:80 -d -v ~/serve:/usr/share/nginx/html
nginx
</code></pre>

<p>With auto-index:</p>

<pre><code>$ sudo docker run --name docker-nginx -p 80:80 -d -v ~/serve:/usr/share/nginx/html
jrelva/nginx-autoindex
</code></pre>

<h3 id="13-combine-pictures">13. Combine Pictures</h3>

<p>fotowall could genrate photo wall:</p>

<pre><code>$ yaourt -S fotowall
</code></pre>

<p>Hugin could generate full-view pictures.</p>

<pre><code>$ sudo pacman -S hugin
</code></pre>

<h3 id="14-docker-swarm-how-to">14. Docker Swarm How-to</h3>

<p><a href="http://www.lxy520.net/2016/07/02/shi-yong-docker-1-12-da-jian-duo-zhu-ji-docker-swarmji-qun/">http://www.lxy520.net/2016/07/02/shi-yong-docker-1-12-da-jian-duo-zhu-ji-docker-swarmji-qun/</a></p>

<p><a href="https://www.linux.com/learn/how-use-docker-machine-create-swarm-cluster">https://www.linux.com/learn/how-use-docker-machine-create-swarm-cluster</a></p>

<h3 id="15-linux-性能监控专题">15. Linux 性能监控专题</h3>

<p><a href="https://linux.cn/topic-linux-system-performance-monitoring.html">https://linux.cn/topic-linux-system-performance-monitoring.html</a></p>

<h3 id="16-docker-compose-in-swarm">16. docker-compose in swarm</h3>

<p>Install experimental version via:</p>

<pre><code>## 测试版
curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/test/internet | sh
curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/test/intranet | sh

## 实验版
curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/experimental/internet | sh
curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/experimental/intranet | sh
</code></pre>

<p><a href="https://docs.docker.com/compose/swarm/">https://docs.docker.com/compose/swarm/</a></p>

<h3 id="17-kubernetes">17. kubernetes</h3>

<p><a href="https://coreos.com/kubernetes/docs/latest/kubernetes-on-vagrant.html">https://coreos.com/kubernetes/docs/latest/kubernetes-on-vagrant.html</a><br />
<a href="http://andrewmichaelsmith.com/2016/05/my-kubernetes-setup/">http://andrewmichaelsmith.com/2016/05/my-kubernetes-setup/</a><br />
<a href="http://www.codeceo.com/article/kubernetes-guide.html">http://www.codeceo.com/article/kubernetes-guide.html</a></p>

<h3 id="18-changing-disks">18. Changing disks</h3>

<p>After changing disk(switch them) in archlinux, the efi menu should be
rewritten into:</p>

<pre><code>$ sudo cat /boot/loader/entries/arch.conf 
title	ArchLinux
linux	/vmlinuz-linux
initrd	/initramfs-linux.img
options	root=/dev/sdb2 rw
</code></pre>

<p>Becareful of <code>root=/dev/sda2</code> changing to <code>root=/dev/sdb2</code>.</p>

<h3 id="17-vagrant-ip-setting">17. Vagrant IP Setting</h3>

<p>If your vagrant&rsquo;s ip address won&rsquo;t set properly, for example, eth1&rsquo;s
configuration is added into eth0, then you should install the following
package:</p>

<pre><code>$ sudo pacman -S community/virtualbox-guest-utils
</code></pre>

<h3 id="18-badblocks-checking-in-archlinux">18. badblocks checking in ArchLinux</h3>

<p>Check the sda5 and sda3 of the disk via:</p>

<pre><code>$ sudo badblocks -v /dev/sda5&gt;badsectors5.txt &amp;&amp; sudo badblocks -v
/dev/sda3&gt;badsectors3.txt
</code></pre>

<p>smartmontools for checking disk healthy:</p>

<pre><code>$ sudo pacman -S smartmontools
$ sudo smartctl -s on /dev/sda
$ sudo smartctl -H /dev/sda1
$ sudo smartctl -H /dev/sda
</code></pre>

<h3 id="19-manually-build-wordpress">19. Manually build wordpress</h3>

<p><a href="https://www.sitepoint.com/how-to-manually-build-docker-containers-for-wordpress/">https://www.sitepoint.com/how-to-manually-build-docker-containers-for-wordpress/</a></p>

<h3 id="20-xenserver-get-rrd-data">20. XenServer Get rrd data</h3>

<p>Write a py file on XenServer, and run it:</p>

<pre><code>import pprint, time, sys, os
import XenAPI
session = XenAPI.xapi_local()
session.xenapi.login_with_password(&quot;root&quot;, &quot;xxxxx&quot;)
session_id=session._session
print session_id
wget_rrd_url=&quot;wget http://%s/host_rrd\?session_id\=%s&quot; %(&quot;192.168.10.187&quot;, session._session)
print wget_rrd_url
os.system(wget_rrd_url)
session.logout()
</code></pre>

<h3 id="21-xen-in-ubuntu">21. Xen In Ubuntu</h3>

<p>In ubuntu16.04, use xen hypervisor:</p>

<pre><code>$ sudo apt-get update &amp;&amp; sudo apt-get upgrade -y &amp;&amp; sudo apt-get dist-upgrade -y
$ sudo apt-get install -y xen-hypervisor-amd64
$ sudo apt-get install -y virtinst virt-manager
</code></pre>

<p>Edit the grub for enabling the xen hypervisor:</p>

<pre><code>$ sudo vim /etc/default/grub
GRUB_CMDLINE_LINUX_DEFAULT=&quot;Xen 4.1-amd64&quot;
GRUB_CMDLINE_XEN=&quot;dom0_mem=1024M,max:1024M dom0_max_vcpus=2&quot;
$ sudo update-grub
$ sudo reboot
</code></pre>

<p>Examine the usage:</p>

<pre><code>$ sudo xl list
Name                                        ID   Mem VCPUs	State	Time(s)
Domain-0                                     0  1024     2     r-----      28.7
</code></pre>

<h3 id="22-pv-or-hvm">22. pv or hvm</h3>

<p>Decided via:</p>

<pre><code>$ sudo xl list --long CentOS69
</code></pre>

<p>Examine the result of the output:</p>

<p><img src="/images/2016_11_23_15_39_44_682x316.jpg" alt="/images/2016_11_23_15_39_44_682x316.jpg" /></p>

<p>in our example, this machine is hvm, not pv.</p>

<h3 id="23-vboxsf">23. vboxsf</h3>

<p>Problem:</p>

<pre><code>sudo mount -t vboxsf Shared_Folder ~/SF/
</code></pre>

<p>Gave following result:</p>

<pre><code>VirtualBox: mount.vboxsf: mounting failed with the error: No such device
</code></pre>

<p>The solution for me was to stop vboxadd and do a setup after that:</p>

<pre><code>cd /opt/VBoxGuestAdditions-*/init  
sudo ./vboxadd setup
</code></pre>

<p>Then, you could also modprobe following:</p>

<pre><code>$ sudo modprobe -a vboxguest vboxsf
$ sudo mount -t vboxsf -o uid=1000,gid=1000 vagrant /vagrant
</code></pre>

<p>Case you build failed, try following:</p>

<pre><code>$ sudo yum install kernel-devel gcc
$ echo export KERN_DIR=/usr/src/kernels/`uname -r` &gt;&gt; ~/.bashrc
$ source ~/.bashrc     # to set the variable in your current shell
$ sudo echo $KERN_DIR  # verify the value is set
$ sudo ls $KERN_DIR    # verify the directory exists 
</code></pre>

<h3 id="24-purge-xen">24. purge xen</h3>

<p>For switching back to default linux kernel rather than xen hypervisor, do
following:</p>

<pre><code>$ sudo apt-get purge xen*
$ sudo vim /etc/default/grub
// remove all of the xen related
$ sudo reboot
</code></pre>

<h3 id="25-lvextend">25. lvextend</h3>

<p>extend to all of the usable space:</p>

<pre><code>$ sudo lvextend -l +100%FREE /dev/vgonsda/lvubuntu
$ sudo resize2fs /dev/vgonsda/lvubuntu 
</code></pre>

<p>In my situation this extend the root partition from 50G to 250G(all of the
disk size)</p>

<h3 id="26-archlinux-screen-brightness">26. ArchLinux Screen Brightness</h3>

<p>Examine the brightness in sys folder:</p>

<pre><code># ls /sys/class/backlight 
acpi_video0  intel_backlight
</code></pre>

<p>In our case is <code>intel_backlight</code>, thus we go into this folder and view its
parameters:</p>

<pre><code># ls /sys/class/backlight/intel_backlight 
actual_brightness  bl_power  brightness  device  max_brightness  power
subsystem  type  uevent
# cat /sys/class/backlight/intel_backlight/max_brightness
648
# cat /sys/class/backlight/intel_backlight/brightness    
643
</code></pre>

<p>It&rsquo;s too bright, so we low down its value via:</p>

<pre><code># tee /sys/class/backlight/intel_backlight/brightness &lt;&lt;&lt; 400
400
</code></pre>

<p>or we could set it via <code>xbacklight</code>:</p>

<pre><code># xbacklight -set 50
# xbacklight -set 100 ### Set to 100% brightness.
</code></pre>

<h3 id="27-one-click-startup">27. One-click startup</h3>

<p><a href="https://item.jd.com/10398791583.html">https://item.jd.com/10398791583.html</a></p>

<h3 id="28-cloudstack-ha">28. CloudStack HA</h3>

<p><a href="http://severalnines.com/blog/how-deploy-high-availability-cloudstackcloudplatform-mariadb-galera-cluster">http://severalnines.com/blog/how-deploy-high-availability-cloudstackcloudplatform-mariadb-galera-cluster</a></p>

<h3 id="29-get-total-memory-of-xenserver">29. Get total memory of XenServer</h3>

<p>Command:</p>

<pre><code>$  xl info | grep total_memory
total_memory           : 7805
</code></pre>

<h3 id="30-apt-fast">30. apt-fast</h3>

<p>Install apt-fast for fetching back packages:</p>

<pre><code>sudo add-apt-repository ppa:saiarcot895/myppa
sudo apt-get update
sudo apt-get -y install apt-fast
</code></pre>

<h3 id="31-qemu-bridge-issue">31. qemu bridge issue</h3>

<p>Error message:</p>

<pre><code>$ virsh start xcenter-win7
error: Failed to start domain xcenter-win7
error: internal error: /usr/lib/qemu/qemu-bridge-helper --use-vnet --br=br0
--fd=25: failed to communicate with bridge helper: Transport endpoint is not
connected
stderr=failed to parse default acl file `/etc/qemu/bridge.conf'
</code></pre>

<p>Solved via:</p>

<pre><code>$ sudo mkdir -p /etc/qemu
$ sudo echo &quot;allow br0&quot;&gt;/etc/qemu/bridge.conf
</code></pre>

<p>Then you could use the qemu.</p>

<h3 id="32-purge-packages-in-archlinux">32. purge packages in archlinux</h3>

<p>The command is:</p>

<pre><code>$ sudo pacman -Rsn vagrant
</code></pre>

<p>This will remove all of the vagrant and its related packages.</p>

<h3 id="33-dd-for-rescue-disk">33. dd for rescue disk</h3>

<p>command:</p>

<pre><code>$ sudo dd bs=262144 if=/dev/hda /dev/hdb conv=noerror,sync bs=10M  status=progress
</code></pre>

<h3 id="34-download-images-automatically">34. Download images automatically</h3>

<p>Do following:</p>

<pre><code>until sudo docker pull mesoscloud/zookeeper:3.4.6-ubuntu-14.04
do
	echo &quot;fucku&quot;
done

until sudo docker pull mesoscloud/mesos-master:0.24.1-ubuntu-14.04
do
	echo &quot;fucku1&quot;
done

until sudo docker pull mesoscloud/mesos-slave:0.24.1-ubuntu-14.04
do
	echo &quot;fucku2&quot;
done
until sudo docker pull mesosphere/marathon:v0.15.0
do
	echo &quot;fuck U&quot;
done
sudo docker save mesosphere/marathon:v0.15.0 | bzip2&gt;marathon.tar.bz2
sudo docker save mesoscloud/mesos-slave:0.24.1-ubuntu-14.04| bzip2&gt;slave.tar.bz2
sudo docker pull mesoscloud/zookeeper:3.4.6-ubuntu-14.04|bzip2&gt;zookeeper.tar.bz2
sudo docker pull mesoscloud/mesos-master:0.24.1-ubuntu-14.04|bzip2&gt;master.tar.bz2
</code></pre>

<h3 id="35-monitoring-docker">35. Monitoring Docker</h3>

<p>For monitoring docker host, containers, monitoring systems, and form the alert
system.</p>

<p><a href="https://stefanprodan.com/2016/a-monitoring-solution-for-docker-hosts-containers-and-containerized-services/">https://stefanprodan.com/2016/a-monitoring-solution-for-docker-hosts-containers-and-containerized-services/</a></p>

<h3 id="36-stop-docker-compose">36. Stop Docker-compose</h3>

<p>Via <code>sudo docker-compose down</code>, then you will get all of the docker-compose
uped container down.</p>

<h3 id="37-tsocks">37. tsocks</h3>

<p>Install:</p>

<pre><code>$ sudo apt-get install tsocks
</code></pre>

<p>Configure:</p>

<pre><code>$ sudo vim /etc/tsocks.conf
local = 192.168.1.0/255.255.255.0
#local表示本地的网络，也就是不使用socks代理的网络  
local = 127.0.0.0/255.0.0.0  
server = 127.0.0.1   #socks服务器的IP  
server_type = 5  #socks服务版本  
server_port = 8888  ＃socks服务使用的端口 
</code></pre>

<h3 id="38-vimdiff">38. vimdiff</h3>

<p>Use dp or do for copying left to right or copy right to left.</p>

<h3 id="39-docker-to-rocket">39. Docker to Rocket</h3>

<p>Tranform images via:</p>

<p><a href="https://github.com/appc/docker2aci">https://github.com/appc/docker2aci</a></p>

<pre><code>$ docker save -o ubuntu.docker ubuntu
$ docker2aci ubuntu.docker
Extracting 706766fe1019
Extracting a62a42e77c9c
Extracting 2c014f14d3d9
Extracting b7cf8f0d9e82

Generated ACI(s):
ubuntu-latest.aci
$ actool --debug validate ubuntu-latest.aci
ubuntu-latest.aci: valid app container image
</code></pre>

<h3 id="40-detect-display">40. Detect display</h3>

<p>Install lshw via:</p>

<pre><code>$ sudo pacman -S lshw
$ sudo lshw -C display
$ sudo lshw -C display
</code></pre>

<h3 id="41-change-nomachine-resolution">41. Change Nomachine resolution</h3>

<p>Detect all of the resolution configuration:</p>

<pre><code># xrandr -q
</code></pre>

<p>Now you get all of the resolution configuraitons. Change the current fb via:</p>

<pre><code>$ xrandr --fb 1920x1080
</code></pre>

<h3 id="42-grafana-collectd-template">42. Grafana collectd template</h3>

<p><a href="https://grafana.net/dashboards/203">https://grafana.net/dashboards/203</a><br />
Then manually replace all of the datasource segment:<br />
For example: <code>&quot;datasource&quot;: &quot;79's Graphite&quot;,</code>.</p>

<h3 id="43-at-command">43. at command</h3>

<p>For do tasks in specified time:</p>

<pre><code># at 10PM
warning: commands will be executed using /bin/sh
at&gt; cd /home/juju/http; axel 
http://mirrors.aliyun.com/centos/7.3.1611/isos/x86_64/CentOS-7-x86_64-Everything-1611.iso
at&gt; &lt;EOT&gt;
job 2 at Tue Dec 20 22:00:00 2016
</code></pre>

<p>Then this at will automatically download the centos7.3 iso in 10:00PM.</p>

<h3 id="44-run-squid-in-docker">44. Run squid in docker</h3>

<p><a href="https://hub.docker.com/r/sameersbn/squid/">https://hub.docker.com/r/sameersbn/squid/</a></p>

<h3 id="45-rkt-image-fetch">45. rkt image fetch</h3>

<p>Command:</p>

<pre><code>$ rkt fetch --insecure-options=image coreos-hyperkube-v1.4.6_coreos.0.aci
image: using image from file coreos-hyperkube-v1.4.6_coreos.0.aci
sha512-114e15d31926a6b185f658bc5c522fee
core@coreos1 ~ $ rkt image list
ID			NAME						SIZE
IMPORT TIME	LAST USED
sha512-114e15d31926	quay.io/coreos/hyperkube:v1.4.6_coreos.0	637MiB
1 minute ago	1 minute ago
</code></pre>

<h3 id="46-linux-installation-date">46. Linux Installation Date</h3>

<p>Via:</p>

<pre><code>ls -alct /root
</code></pre>

<h3 id="47-daocloud-speedup-in-ubuntu14-04">47. Daocloud speedup in ubuntu14.04</h3>

<p>Edit following file:</p>

<pre><code>$ sudo vim /etc/default/docker
DOCKER_OPTS=&quot;$DOCKER_OPTS --registry-mirror=http://1a653205.m.daocloud.io&quot;
$ sudo service docker restart
</code></pre>

<h3 id="48-hugo-error">48. hugo error</h3>

<p>When meeting following issue:</p>

<pre><code>hugo     
Started building sites ...
ERROR: 2017/01/03 12:02:00 general.go:241: .Page's RSSlink is deprecated and
will be removed in Hugo 0.2. Use RSSLink instead
</code></pre>

<p>Solution will be:</p>

<pre><code>$ grep -i &quot;rsslink&quot; ./ -r
./themes/hyde-a/layouts/partials/sidebar.html:      {{ if .Site.Params.rss
}}&lt;a href=&quot;{{ .RSSlink }}&quot; type=&quot;application/rss+xml&quot;&gt;&lt;i class=&quot;fa
fa-rss-square fa-3x&quot;&gt;&lt;/i&gt;&lt;/a&gt;{{ end }}
</code></pre>

<p>Replace all of the <code>RSSlink</code> with <code>RSSLinke</code>.</p>

<h3 id="49-start-virtualbox-vms">49. Start VirtualBox Vms</h3>

<p>Start k8s cluster via one command:</p>

<pre><code>$ VBoxManage list vms
$ VBoxManage startvm &quot;k8s_coreos1&quot; --type headless
$ VBoxManage startvm &quot;k8s_coreos2&quot; --type headless
$ VBoxManage startvm &quot;k8s_coreos3&quot; --type headless
</code></pre>

<h3 id="50-ip-namespace">50. ip namespace</h3>

<p>Some operation tips:</p>

<pre><code># ip netns add testns
# ip netns exec testns ip addr
# ip netns exec testns ifconfig -a
# ip netns exec testns bash
# ip netns list
# ip netns delete testns
# ip netns list
# pacman -S ethtool
# ethtool -k br0 | grep netns
</code></pre>

<h3 id="51-ip-links">51. ip links</h3>

<p>Create a Veth pair:</p>

<pre><code># ip link add veth0 type veth peer name veth1
</code></pre>

<p>Examine the result:</p>

<pre><code># ip link show
24: veth1@veth0: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN
mode DEFAULT group default qlen 1000
    link/ether 02:ec:bd:78:59:06 brd ff:ff:ff:ff:ff:ff
25: veth0@veth1: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN
mode DEFAULT group default qlen 1000
    link/ether 5a:a6:f5:88:27:9f brd ff:ff:ff:ff:ff:ff
</code></pre>

<p>Could it be transfered?</p>

<pre><code>[root@DashSSD ~]# ethtool -k veth0 | grep netns
netns-local: off [fixed]
[root@DashSSD ~]# ethtool -k veth1 | grep netns
netns-local: off [fixed]
</code></pre>

<p>We could view Veth as a 2-wired, so we first add one port to a namespace:</p>

<pre><code># ip netns add netns1
# ip link set veth1 netns netns1
# ip link show
</code></pre>

<p>via <code>ip link show</code> we found the veth1 vanished.</p>

<p>And we could view the namespace owned link equips via:</p>

<pre><code># ip netns exec netns1 ip link show
1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT group default
qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
24: veth1@if25: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode
DEFAULT group default qlen 1000
    link/ether 02:ec:bd:78:59:06 brd ff:ff:ff:ff:ff:ff link-netnsid 0
</code></pre>

<p>Add veth1 ip address:</p>

<pre><code># ip netns exec netns1 ip addr add  10.1.1.1/24 dev veth1
</code></pre>

<p>Add veth0 ip address:</p>

<pre><code># ip addr add 10.1.1.2/24 dev veth0
</code></pre>

<p>Now startup the equipment:</p>

<pre><code># ip netns exec netns1 ip link set dev veth1 up
# ip link set dev veth0 up
</code></pre>

<p>Ping eath other:</p>

<pre><code># ping 10.1.1.1
# ip netns exec netns1 ping 10.1.1.2
</code></pre>

<p>View remote:</p>

<pre><code>[root@DashSSD dash]# ip netns exec netns1 ethtool -S veth1
NIC statistics:
     peer_ifindex: 25
[root@DashSSD dash]# ip link | grep 25
25: veth0@if24: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state
UP mode DEFAULT group default qlen 1000
</code></pre>

<h3 id="52-reset-virtualbox">52. Reset Virtualbox</h3>

<p>Via following command:</p>

<pre><code>$ VBoxManage controlvm &quot;k8s_coreos1&quot; reset
</code></pre>

<h3 id="53-docker-monitoring">53. Docker monitoring</h3>

<p>Use <code>docker stats</code> for viewing the resource usage of the docker instance.</p>

<pre><code>$ sudo docker ps | grep squid
049axxxxx
$ sudo docker status 049axxxxx
</code></pre>

<p>The displaying status is:</p>

<p><img src="/images/2017_01_09_09_43_40_747x148.jpg" alt="/images/2017_01_09_09_43_40_747x148.jpg" /></p>

<p>Use <code>docker top 049axxxx</code> could see the resource usage.</p>

<p><code>docker port</code> for viewing the port usage.</p>

<h3 id="54-sdiff">54. sdiff</h3>

<p>You could use sdiff for generating side-to-side diff files.</p>

<h3 id="55-installation-of-xenserver-6-5">55. Installation of XenServer 6.5</h3>

<p>Use rufus for writing XenServer 6.5 iso into the flash disk, then install
system.</p>

<p><a href="https://rufus.akeo.ie/?locale=zh_CN">https://rufus.akeo.ie/?locale=zh_CN</a></p>

<h3 id="56-normal-user-using-virtualbox-usb">56. Normal User Using Virtualbox USB</h3>

<p>Add the user into the group of <code>vboxuser</code>, then he have the priviledge of
using usb device.</p>

<pre><code>$ sudo usermod -a -G vboxusers xxxx
</code></pre>

<p>Notice: you have to restart the machine to let your configuration take
effects.</p>

<h3 id="57-shutdown-all-of-the-running-vms">57. Shutdown all of the running VMs</h3>

<p>Via following commands:</p>

<pre><code>$ vboxmanage list runningvms | sed -r 's/.*\{(.*)\}/\1/' | xargs -L1 -I {} VBoxManage controlvm {}  poweroff
</code></pre>

<h3 id="58-capture-screenshot">58. Capture ScreenShot</h3>

<p>Use following command <code>hucapscr</code> for capturing the screenshot and save
the link related markdown tips:</p>

<pre><code>$ sudo vim /usr/bin/hucapscr 
scrot -s '%Y_%m_%d_%H_%M_%S_$wx$h.jpg' -e 'mv $f ~/capscr/'
filename=`ls -t ~/capscr | head -n1`
cp ~/capscr/$filename /home/dash/Code/purplepalmdash.github.io/static/images/
#echo &quot;![/images/&quot;$filename&quot;](/images/&quot;$filename&quot;)&quot;
echo &quot;![/images/&quot;$filename&quot;](/images/&quot;$filename&quot;)&quot;|xclip
</code></pre>

<p>Simply ruun <code>hucapscr</code>, it will auto save the pictures.</p>

<h3 id="59-force-umount">59. Force Umount</h3>

<p>For example, you could force umount the nfs directory when nfs server is gone.</p>

<pre><code>umount -f -l /mnt/myfolder, and that will fix the problem.

-f – Force unmount (in case of an unreachable NFS system). (Requires kernel 2.1.116 or later.)
-l – Lazy unmount. Detach the filesystem from the filesystem hierarchy now, and cleanup all references to the filesystem as soon as it is not busy anymore. (Requires kernel 2.4.11 or later.)
</code></pre>

<h3 id="69-disk-clone">69. Disk Clone</h3>

<p>For recovering the error disks:</p>

<pre><code>$ sudo dd if=/dev/sdX of=/dev/sdY bs=64K conv=noerror,sync
</code></pre>

<h3 id="70-xenserver-time-sync-issue">70. XenServer Time Sync Issue</h3>

<p>tsc mode enable:</p>

<pre><code># xe vm-list
# xe vm-param-set uuid=82aa4fec-6b95-4f39-050c-cfbd3a8b9065 platform:tsc_mode=2
</code></pre>

<p>Or you could enable the ntp to the host IP.</p>

<p>Or if not HVM, check:</p>

<pre><code># echo 1 &gt; /proc/sys/xen/independent_wallclock
</code></pre>

<h3 id="71-route-for-internet">71. Route for Internet</h3>

<p>First make sure the <code>ip_forward</code> is enabled in <code>/proc</code>, then enter following
commands for setting up the NAT.</p>

<pre><code>$ sudo iptables -t nat -A POSTROUTING -s  192.168.0.220/24 -j SNAT --to 192.168.0.121
$ sudo iptables -A FORWARD -s 192.168.0.220 -j ACCEPT
</code></pre>

<p>Next you should set the routing to the right IP address.</p>

<h3 id="72-time-sync-using-systemd">72. Time Sync using systemd</h3>

<p>Via following:</p>

<pre><code># timedatectl set-ntp true 
# timedatectl status
# vim /etc/systemd/timesyncd.conf
[Time]
NTP=0.arch.pool.ntp.org 1.arch.pool.ntp.org 2.arch.pool.ntp.org 3.arch.pool.ntp.org
FallbackNTP=0.pool.ntp.org 1.pool.ntp.org 0.fr.pool.ntp.org
</code></pre>

<h3 id="73-opensuse-sshd">73. OpenSuse sshd</h3>

<p>Disable the firewalld via yast, and enable the sshd port from external zone.</p>

<h3 id="74-vagrant-libvirt-in-archlinux">74. vagrant-libvirt In Archlinux</h3>

<p>Using following script you could re-enable vagrant-libvirt in archlinux for
vagrant newer than 1.9.1.</p>

<pre><code>#!/bin/sh

# in case it's already installled
vagrant plugin uninstall vagrant-libvirt

# vagrant's copy of curl prevents the proper installation of ruby-libvirt
sudo mv /opt/vagrant/embedded/lib/libcurl.so{,.backup}
sudo mv /opt/vagrant/embedded/lib/libcurl.so.4{,.backup}
sudo mv /opt/vagrant/embedded/lib/libcurl.so.4.4.0{,.backup}
sudo mv /opt/vagrant/embedded/lib/pkgconfig/libcurl.pc{,.backup}

CONFIGURE_ARGS=&quot;with-libvirt-include=/usr/include/libvirt with-libvirt-lib=/usr/lib&quot; vagrant plugin install vagrant-libvirt

# https://github.com/pradels/vagrant-libvirt/issues/541
export PATH=/opt/vagrant/embedded/bin:$PATH
export GEM_HOME=~/.vagrant.d/gems/2.2.5
export GEM_PATH=$GEM_HOME:/opt/vagrant/embedded/gems

gem uninstall ruby-libvirt
gem install ruby-libvirt

# put vagrant's copy of curl back
sudo mv /opt/vagrant/embedded/lib/libcurl.so{.backup,}
sudo mv /opt/vagrant/embedded/lib/libcurl.so.4{.backup,}
sudo mv /opt/vagrant/embedded/lib/libcurl.so.4.4.0{.backup,}
sudo mv /opt/vagrant/embedded/lib/pkgconfig/libcurl.pc{.backup,}
</code></pre>

<p>The reason is: you have to change the Gem path from <code>/opt</code> to <code>/usr/lib</code>.</p>

<h3 id="75-wget-jre-jdk">75. wget jre/jdk</h3>

<p>Via vollowing command you could using wget for download jre/jdk from oracle:</p>

<pre><code># wget -c --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jdk-6u45-linux-x64.bin
# wget -c --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/6u45-b06/jre-6u45-linux-x64.bin
</code></pre>

<h3 id="76-local-cdn">76. Local CDN</h3>

<p><a href="http://www.appinn.com/local-cdn/">http://www.appinn.com/local-cdn/</a></p>

<h3 id="77-gateway-on-multiple-nics">77. Gateway On Multiple NICs</h3>

<p>Add following lines in <code>/etc/rc.local</code> in Ubuntu:</p>

<pre><code>eval `route -n | awk '{ if ($8 ==&quot;eth0&quot; &amp;&amp; $2 != &quot;0.0.0.0&quot;) print &quot;route del default gw &quot; $2; }'`
route add default gw 192.168.0.176
</code></pre>

<h3 id="78-virt-inst">78. virt-inst</h3>

<p>For installing systems:</p>

<pre><code># virt-install --name=test --ram 512 --vcpus=1 -f /home/kvm/test.qcow2 --cdrom /opt/CentOS-6.5-x86_64-bin-DVD1.iso --graphics vnc,listen=0.0.0.0,port=5988, --network network=default, --force --autostart
</code></pre>

<p>Then vncviewer localhost:5988 you could get the installation window.</p>

<h3 id="79-atom-plugin-install">79. Atom plugin install</h3>

<p>Install it via <code>proxychains4 apm install markdown-pdf</code></p>

<h3 id="80-simple-web-server">80. Simple Web Server</h3>

<pre><code>$ wget https://gist.githubusercontent.com/sumpygump/9908417/raw/5fa991fda103d0b7a0c38512394a83ccada9ad6c/nweb23.c
$ gcc -O -DLINUX nweb32.c -o nweb
$ ./nweb 8848 ./
</code></pre>

<h3 id="81-show-git-config-infos">81. Show git config infos</h3>

<p>Show configurations of git global setting:</p>

<pre><code>$ git config --list
user.email=xxxx@gmail.com
user.name=xxxx
</code></pre>

<p>Set the git global setting:</p>

<pre><code># git config --global user.email xxxxx@gmail.com
# git config --global user.name &quot;xxxx&quot;
</code></pre>

<h3 id="82-wordpress-issue">82. Wordpress issue</h3>

<p>When using dockerized wordpress, you got the same content after you run <code>sudo
docker-compose down</code>, the reason is because the docker-compose use the same
volumes, if you runs:</p>

<pre><code>$ sudo docker volume prune
</code></pre>

<p>Your temp unused volumes will be deleted. Then you got a brand new wordpress
docker container.</p>

<h3 id="83-python-extract-zip">83. python extract zip</h3>

<p>For converting Chinese:</p>

<pre><code>#!/usr/bin/env python
# -*- coding: utf-8 -*-
# uzip.py

import os
import sys
import zipfile

print &quot;Processing File &quot; + sys.argv[1]

file=zipfile.ZipFile(sys.argv[1],&quot;r&quot;);
for name in file.namelist():
    utf8name=name.decode('gbk')
    print &quot;Extracting &quot; + utf8name
    pathname = os.path.dirname(utf8name)
    if not os.path.exists(pathname) and pathname!= &quot;&quot;:
        os.makedirs(pathname)
    data = file.read(name)
    if not os.path.exists(utf8name):
        fo = open(utf8name, &quot;w&quot;)
        fo.write(data)
        fo.close
file.close()
</code></pre>

<p>Then extract the files via:</p>

<pre><code>$ python2 abc.py aaa.zip
</code></pre>

<h3 id="84-docker-compose-network">84. docker-compose network</h3>

<p>Examine the network via <code>docker network ls</code></p>

<h3 id="85-teamviewer-for-rpi">85. teamviewer for rpi</h3>

<p>Install will ask for installing qt, just run <code>apt-get install -f</code> solves the problem.</p>

<h3 id="86-remote-controlling-for-rpi">86. Remote controlling for rpi</h3>

<p>Using dataplicity</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/blog/2016/10/09/leetcodetips1/">LeetCodeTips1</a>
      </h1>
      <span class="post-date">Oct 9, 2016 
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/programming">Programming</a>
        
      </span>
      
      

<p>又到了一年一度的跳Cao准备期间了，来刷刷LeetCode，提升一下编程技巧，准备可能的鄙视或者是
被鄙视。</p>

<h3 id="1-two-sum">1. Two Sum</h3>

<p>问题:<br />
给定一个整型数组，编写一函数，返回值为两个数组的下标，两个下标所在的数组元素相加的和为
给定的数值。例如:</p>

<pre><code>给定 nums = [2,7,11,15], targe = 9,     
因为nums[0] + nums[1] = 2 + 7 = 9,
返回的数组应为[0, 1].
</code></pre>

<h4 id="c语言版">C语言版</h4>

<p>用C语言我的解决方案如下:</p>

<pre><code class="language-c">/* Given nums = [2, 7, 11, 15], target = 9,
 *
 * Because nums[0] + nums[1] = 2 + 7 = 9,
 * return [0, 1].
 */

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

/**
 * Note: The returned array must be malloced, assume caller calls free().
 */

int* twoSum(int* nums, int numsSize, int target) {
	int i, j;

	for (i = 0; i &lt; numsSize; i++)
	{
		for(j = i+1; j &lt; numsSize; j++)
		{
			if(nums[i] + nums[j] == target)
			{
				// Call malloc() for return value.
				int* returnArray = malloc(2*sizeof(int));
				returnArray[0] = i;
				returnArray[1] = j;
				return returnArray;
			}
		}
	}
	// Not found, comes here.
	return NULL;
}

int main(void)
{
	int nums[4] = {2, 7, 11, 15};

	int *result = twoSum(nums, 4, 9);
	if(result != NULL)
	{
	        printf(&quot;result is %d, %d \n&quot;, result[0], result[1]);
	}

	// Call malloc in function twoSum(), so now will call free()
	if(result != NULL)
	{
	        free(result);
	}
        return 0;
}

</code></pre>

<p>心得1: malloc()/free()的调用需要在不同函数体中进行，因而可能存在内存泄漏的风险，使用
valgrind来检测可以看到，有两次请求两次释放动作，并没有内存泄漏:</p>

<pre><code>$ valgrind -v --leak-check=full ./TwoSum
......
==3283== HEAP SUMMARY:
==3283==     in use at exit: 0 bytes in 0 blocks
==3283==   total heap usage: 2 allocs, 2 frees, 1,032 bytes allocated
==3283== 
==3283== All heap blocks were freed -- no leaks are possible
==3283== 
==3283== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
==3283== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
</code></pre>

<p>心得2: 算法复杂度为O(n^2)， 因为有嵌套的for()循环. 官方给出的有通过哈希来做的，在C语言
中内建数据类型并不包括map，因而在后面用python来实现。</p>

<p>心得3: 对函数的返回值需要检测，如free()掉一个NULL的地址。StackOverFlow上关于free(NULL)
的讨论如下：<br />
<a href="http://stackoverflow.com/questions/1938735/does-freeptr-where-ptr-is-null-corrupt-memory">http://stackoverflow.com/questions/1938735/does-freeptr-where-ptr-is-null-corrupt-memory</a></p>

<p>看起来也不会有什么严重的后果。</p>

<h4 id="python版">Python版</h4>

<p>自己写的Python版本实现如下:</p>

<pre><code class="language-python">class Solution(object):
    def twoSum(self, nums, target):
        &quot;&quot;&quot;
        :type nums: List[int]
        :type target: int
        :rtype: List[int]
        &quot;&quot;&quot;
        returnvalue = []
        for num in nums:
            for left in nums[nums.index(num)+1:]:
                if (num + left == target):
                    returnvalue.append(nums.index(num))
                    returnvalue.append(nums.index(left))
        return returnvalue

print (Solution().twoSum([5, 4, 11, 17], 9))
</code></pre>

<p>心得1: 类(class)的用法.<br />
心得2: 数组的一点点小小的使用。</p>

<p>基本逻辑和C语言实现的差不多，算法复杂度也一样。</p>

<h4 id="引入的bug">引入的bug</h4>

<p>设置的test case中，我们的代码在遇到[0,4,3,0]这样的输入时，会报错。原因在于nums.index(0)
总是返回第一个0所在的下标(0)，而不是第二个0所在的下标(3)，修改后的代码如下:</p>

<pre><code>class Solution(object):
    def twoSum(self, nums, target):
        &quot;&quot;&quot;
        :type nums: List[int]
        :type target: int
        :rtype: List[int]
        &quot;&quot;&quot;
        returnvalue = []
        index = 0
        for num in nums:
            index += 1
            for left in nums[index:]:
                if (num + left == target):
                    returnvalue.append(nums.index(num))
                    returnvalue.append(nums[index:].index(left)+index)
        return returnvalue

print (Solution().twoSum([0,4,3,0], 0))
</code></pre>

<p>运行后的结果，不是那么理想，只击败了34%左右的提交结果:</p>

<p><img src="/images/2016_10_10_16_34_33_1195x858.jpg" alt="/images/2016_10_10_16_34_33_1195x858.jpg" /></p>

<h4 id="python-hash">Python Hash</h4>

<p>经过几番修改以后的代码如下，只循环一次，因而算法复杂度为O(n):</p>

<pre><code class="language-python">class Solution(object):
    def twoSum(self, nums, target):
        &quot;&quot;&quot;
        :type nums: List[int]
        :type target: int
        :rtype: List[int]
        &quot;&quot;&quot;
        # Use a dictionary for holding nums
        num_dic = {}
        for i in range(len(nums)):
            if target - nums[i] in num_dic.keys():
                return [num_dic[target - nums[i]],i]
            else:
                # directly put it into the num_dic
                num_dic[nums[i]] = i
        return []

print (Solution().twoSum([0,4,3,0], 0))
print (Solution().twoSum([3, 4, 2], 6))
</code></pre>

<p>速度稍微提升了一些:</p>

<p><img src="/images/2016_10_10_20_05_31_508x380.jpg" alt="/images/2016_10_10_20_05_31_508x380.jpg" /></p>

<p>更好的方案，优化:</p>

<pre><code>class Solution(object):
    def twoSum(self, nums, target):
        &quot;&quot;&quot;
        :type nums: List[int]
        :type target: int
        :rtype: List[int]
        &quot;&quot;&quot;
        # Use a dictionary for holding nums
        num_dic = {}
        for i,v in enumerate(nums):
            if v in num_dic.keys():
                return [num_dic[v],i]
            num_dic[target-v] = i

print (Solution().twoSum([0,4,3,0], 0))
print (Solution().twoSum([3, 4, 2], 6))
</code></pre>

<p>这个代码大概能跑到击败80%左右的提交答案。</p>

<p>思考1： enumerate()函数调用减少了时间。<br />
思考2： 原代码中有两次减法，而修改后的代码中，只是在写入hash的时候，有一次target-v的减法操作。<br />
思考3： 去掉了一次不必要的return操作。</p>

<p>总结：<br />
Python里对于这个问题的优化大概就到这里了。可以看到，简单的问题也是需要认真思考了，认认真真的来
做leetcode吧。</p>

<h3 id="2-add-two-numbers">2. Add Two Numbers</h3>

<p>题目说明:</p>

<pre><code>给定两个用链表表示的非负数。数字存储是reverse order， 每个节点存有一个数字。将节点上的数字
相加，以得到一个新的链表
Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)
Output: 7 -&gt; 0 -&gt; 8
</code></pre>

<p>Oct10晚上的测试框架写成这样：</p>

<pre><code class="language-c">/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     struct ListNode *next;
 * };
 */

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;


// Definition of the ListNode
struct ListNode {
    int val;
    struct ListNode *next;
};

// create_list()
struct ListNode* create_list(int val)
{
	printf(&quot;\n Creating list with headnode as [%d]\n&quot;, val);
	struct ListNode *ptr = (struct ListNode*)malloc(sizeof(struct ListNode));
	if(NULL == ptr)
	{
		printf(&quot;\n Node creation failed \n&quot;);
		return NULL;
	}
	ptr-&gt;val = val;
	ptr-&gt;next = NULL;

	return ptr;
}

// print the list
void print_list(struct ListNode* head)
{
	struct ListNode*  current = head;

	while(current != NULL)
	{
		printf(&quot;%d -&gt;&quot;, current-&gt;val);
		current = current-&gt;next;
	}
	printf(&quot;NULL\n&quot;);
}

int shiftnumber = 0;

struct ListNode* addTwoNumbers(struct ListNode* l1, struct ListNode* l2) {
	printf(&quot;\nJust Called this function!\n&quot;);
	
	struct ListNode* currentl1 = l1;
	struct ListNode* currentl2 = l2;
	// Holding the return value
	struct ListNode* ptr = (struct ListNode*)malloc(sizeof(struct ListNode));
	struct ListNode* head = ptr;
	ptr-&gt;next = NULL;
	shiftnumber = 0;


	// First calculate the longest Linked List
	int lenl1 = 0;
	int lenl2 = 0;

	while(currentl1 != NULL)
	{
		lenl1++;
		currentl1 = currentl1-&gt;next;
	}
	while(currentl2 != NULL)
	{
		lenl2++;
		currentl2 = currentl2-&gt;next;
	}
	printf(&quot;len1 is %d, len2 is %d\n&quot;, lenl1, lenl2);

	currentl1 = l1;
	currentl2 = l2;

	// Get the largest length, thus we could do some tricks. 
	//
	//
	//
	//
	//
	while((currentl1 != NULL) &amp;&amp; (currentl2 != NULL))
	{
		ptr-&gt;val = (currentl1-&gt;val + currentl2-&gt;val)%10+shiftnumber;
		shiftnumber = 0;
		if((currentl1-&gt;val + currentl2-&gt;val)&gt;=10)
		{
		    shiftnumber = (currentl1-&gt;val + currentl2-&gt;val)/10;
		}
		//ptr-&gt;val = (currentl1-&gt;val + currentl2-&gt;val)%10;
		if(currentl1-&gt;next != NULL)
		{
		    ptr-&gt;next = (struct ListNode*)malloc(sizeof(struct ListNode));
		    ptr-&gt;next-&gt;next = NULL;
		    ptr = ptr-&gt;next;
		}
		// shiftnumber exists, so you should assign shiftnumber to the
		// newnode
		else
		{
			// Only check shiftnumber
			if(shiftnumber != 0)
			{
		          ptr-&gt;next = (struct ListNode*)malloc(sizeof(struct ListNode));
		          ptr-&gt;next-&gt;next = NULL;
			  ptr-&gt;next-&gt;val = shiftnumber;
			}

		}
		currentl1 = currentl1-&gt;next;
		currentl2 = currentl2-&gt;next;
	}
	return head;
}



int main(void)
{
	struct ListNode test1, test1_2, test1_3;
	struct ListNode* p = &amp;test1;
	p-&gt;val = 2;
	p-&gt;next = &amp;test1_2;
	p-&gt;next-&gt;val = 4;
	p-&gt;next-&gt;next = &amp;test1_3;
	p-&gt;next-&gt;next-&gt;val = 4;
	p-&gt;next-&gt;next-&gt;next = NULL;
	printf(&quot;### List l1!\n&quot;);
	print_list(p);
	
	struct ListNode test2, test2_2, test2_3;
	struct ListNode* q = &amp;test2;
	q-&gt;val = 5;
	q-&gt;next = &amp;test2_2;
	q-&gt;next-&gt;val = 6;
	q-&gt;next-&gt;next = &amp;test2_3;
	q-&gt;next-&gt;next-&gt;val = 7;
	q-&gt;next-&gt;next-&gt;next = NULL;
	printf(&quot;### List l2!\n&quot;);
	print_list(q);

	printf(&quot;\n *** Start testing addTwoNumbers! *** \n&quot;);
	struct ListNode* r = addTwoNumbers(p, q);
	print_list(r);
	// Remember to free memory here
	//while(r-&gt;next != NULL);
	//{
	//	printf(&quot;See if you could get the money?\n&quot;);
	//	r = r-&gt;next;
	//}

	printf(&quot;\n *** Finished testing addTwoNumbers! *** \n&quot;);

	return 0;
}
</code></pre>

<p>一塌糊涂啊！！！明天继续写。</p>

<p>最后独立写出的答案如下，非常难看。</p>

<pre><code class="language-c">int shiftnumber = 0;

struct ListNode* addTwoNumbers(struct ListNode* l1, struct ListNode* l2) {
	struct ListNode* currentl1 = l1;
	struct ListNode* currentl2 = l2;
	// Holding the return value
	struct ListNode* ptr = (struct ListNode*)malloc(sizeof(struct ListNode));
	struct ListNode* head = ptr;
	ptr-&gt;next = NULL;
	shiftnumber = 0;


	// First calculate the longest Linked List
	int lenl1 = 0;
	int lenl2 = 0;

	while(currentl1 != NULL)
	{
		lenl1++;
		currentl1 = currentl1-&gt;next;
	}
	while(currentl2 != NULL)
	{
		lenl2++;
		currentl2 = currentl2-&gt;next;
	}

	currentl1 = l1;
	currentl2 = l2;

	// Get the largest length, thus we could use this number for controlling the
	// return value. 
	int LinkedListLen = lenl1&gt;lenl2?lenl1:lenl2;
	while(LinkedListLen &gt; 0)
	{
		LinkedListLen--;
		int ValOfL1, ValOfL2 = 0;
		ValOfL1 = (currentl1 == NULL)?0:currentl1-&gt;val;
		ValOfL2 = (currentl2 == NULL)?0:currentl2-&gt;val;
		ptr-&gt;val = ((ValOfL1 + ValOfL2)%10 + shiftnumber)%10;
		if(((ValOfL1 + ValOfL2)%10 + shiftnumber) == 10)
		{
		    shiftnumber = 1;
		}
		else{
		shiftnumber = 0;
		    if((ValOfL1 + ValOfL2)&gt;=10)
		    {
		        shiftnumber = (ValOfL1 + ValOfL2)/10;
		    }
		}
		// Allocate memory for new node. Only allocate (LinkedListLen - 1) times
		if(LinkedListLen &gt; 0)
		{
		    ptr-&gt;next = (struct ListNode*)malloc(sizeof(struct ListNode));
		    ptr-&gt;next-&gt;next = NULL;
		    ptr = ptr-&gt;next;
		}
		// Switch to next node.
		if(currentl1 != NULL)
		{
		    currentl1 = currentl1-&gt;next;
		}
		if(currentl2 != NULL)
		{
		    currentl2 = currentl2-&gt;next;
		}
	}
	// If shiftnumber &gt; 0, allocate a new node for holding it
	if(shiftnumber != 0)
	{
		ptr-&gt;next = (struct ListNode*)malloc(sizeof(struct ListNode));
		ptr-&gt;next-&gt;next = NULL;
		ptr-&gt;next-&gt;val = shiftnumber;
	}
	
	return head;
}
</code></pre>

<p>我的思路:</p>

<p>1，考虑到两个输入的链表长度可能不一样，因而先得到最长的链表长度，用这个最长的长度来做递归。<br />
2, 是否有进位通过一个全局表两shiftnumber来hold. 如果相加到最后依然有进位，则在循环外开辟一块空间来存放这个进位。<br />
3, 两个链表中的任何一个一旦走到了NULL指针，则其值用0来代替。<br />
4, 三目运算符的使用。<br />
5, <code>ptr-&gt;val = ((ValOfL1 + ValOfL2)%10 + shiftnumber)%10;</code>，这个是考虑到test case:</p>

<pre><code>[9]
[1, 9]
</code></pre>

<p>如果不做的话，则得出结果会是[0,10], 进位和该位数字的和为10的时候需要单独考虑。</p>

<p>反思:<br />
1, 对指针的使用要非常小心。<br />
2, 就是凭直觉写出来的，算法很差, 代码可读性也很差。</p>

<h3 id="longest-substr">Longest substr</h3>

<p>The sample code is listed, while to be optimized:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#define MAXN 50000

// q should be longer than p
int comlen(char* p, char* q)
{
    int i = 0;
    while (*q &amp;&amp; (*p++ == *q++))
    {
        i++;
    }
    return i;
}

int cstring_cmp(const void *a, const void *b)
{
    const char **ia = (const char **)a;
    const char **ib = (const char **)b;
    return strcmp(*ia, *ib);
}


int lengthOfLongestSubstring(char* s) {
      char c[MAXN];
      char* a[MAXN];
     

      // Create a new array which hold char *s
      // Remove all of the duplicated items in array
      // no_duplicated[]
 
      char ch;
      int n = 0;
      for(n = 0; n &lt; strlen(s); n++)
      {
          printf(&quot;%c &quot;,s[n]);
          a[n] = &amp;c[n];
          c[n] = s[n];
      }
      a[n] = 0;

      qsort(a, n, sizeof(char*), cstring_cmp);

      int maxlen = 0;
      int len = 0;
      int maxi = 0;
      for (int i = 0; i &lt; n - 1; i++)
      {
          len = comlen(a[i], a[i + 1]);
	  printf(&quot;len is %d\n&quot;, len);
          if (len &gt; maxlen)
          {
              maxlen = len;
              maxi = i;
          }
      }

      printf(&quot;maxlen:%d\tmax string:\t&quot;, maxlen);
      char ch_tmp;
      for (int i = 0; i &lt; maxlen; i++)
      {
          ch_tmp = *(a[maxi] + i);
          printf(&quot;%c&quot;, ch_tmp);
      }
      printf(&quot;\n&quot;);

      return maxlen;
}

int main(void)
{
	char s[100] = &quot;abcabcccc&quot;;
	char t[100] = &quot;bbbbbbbbbbbb&quot;;
	char k[100] = &quot;pwwkew&quot;;
	lengthOfLongestSubstring(s);
	lengthOfLongestSubstring(t);
	lengthOfLongestSubstring(k);
	return 0;
}

</code></pre>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://purplepalmdash.github.io/blog/2016/10/09/myhugo/">MyHugo</a>
      </h1>
      <span class="post-date">Oct 9, 2016 
      
      <br/>
      <a class="a_cat" href="http://purplepalmdash.github.io/categories/linux">Linux</a>
        
      </span>
      
      

<h3 id="myhugo">MyHugo</h3>

<p>Since I switched from octopress to hugo, hugo is wonderful, but I get used to use
Octopress&rsquo;s naming method. For example, if I create a new post in Octopress I&rsquo;d rather
using following command:</p>

<pre><code>$ rake new_post[&quot;PostName&quot;]
</code></pre>

<p>Then the generated post name would be something like following:</p>

<pre><code> $ ls -lt | more
total 3632
-rw-rw-r--  1 dash dash  5292 Apr  1  2016 2015-11-05-good-material.markdown
-rw-rw-r--  1 dash dash   540 Apr  1  2016 2016-01-04-purge-cloudstack-env.markdown
-rw-rw-r--  1 dash dash 22256 Apr  1  2016 2016-01-15-linux-tips-4.markdown
</code></pre>

<p>While hugo use the origin name, like:</p>

<pre><code>$ hugo new post/ABC.md
$ ls -lt content/post | more
-rw-rw-r--  1 dash dash  5292 Apr  1  2016 ABC.md
</code></pre>

<p>So I wrote a small script for using the same naming principle of Octopress:</p>

<pre><code>$ cat /usr/bin/myhugo 
    #!/bin/sh
    # Create post using hugo.
    hugo new post/$1.md
    # Add current date timestamp.
    mv content/post/$1.md content/post/`date --rfc-3339=date`-$1.md
    # Hint for editing.
    echo &quot;Please Edit&quot; $PWD/content/post/`date --rfc-3339=date`-$1.md
</code></pre>

<p>Now using myhugo for creating the post will be looked like:</p>

<pre><code> $ ~/myhugo WriteLeetCode
/home/dash/Code/purplepalmdash.github.io/content/post/WriteLeetCode.md created
Please Edit
/home/dash/Code/purplepalmdash.github.io/content/post/2016-10-09-WriteLeetCode.md
</code></pre>

<p>Enjoy the <code>rake new_post</code>style post name!</p>

<h3 id="myhugoserve">MyHugoServe</h3>

<p>Just add an alias in <code>~/.zshrc</code>:</p>

<pre><code>alias hugoserve='hugo serve -w --theme=hyde-a'
</code></pre>

<p>Then type <code>hugoserve</code> will start local preview and you visit <code>http://localhost:1313</code>
for previewing your website.</p>

      
    </div>
    
    

<ul class="pagination">
    
    <li>
        <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/page/21/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/21/">21</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    class="active"><a href="/page/22/">22</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/23/">23</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/153/">153</a></li>
    
    
    <li
    >
    <a href="/page/23/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/page/153/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </div>
</div>


<script src="http://purplepalmdash.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

