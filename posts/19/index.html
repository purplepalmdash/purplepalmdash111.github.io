
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dash</title>
  <meta name="author" content="Dash">

  
  <meta name="description" content="Serial Port Settings Use following settings for the serial monitor software: 1
2
3
4
5
6
The default serial port settings for the board are:
Baud 115 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://purplepalmdash.github.io/posts/19">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/purplepalmdash/atom.xml" rel="alternate" title="Dash" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.useso.com/js/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Dash</a></h1>
  
    <h2>Get busy living, or get busy dying.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/purplepalmdash/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:purplepalmdash.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/10/15/serial-port-on-bbb/">Serial Port on BBB</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-10-15T09:37:00+08:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>9:37 am</span></time>
        
         | <a href="/blog/2014/10/15/serial-port-on-bbb/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Serial Port Settings</h3>

<p>Use following settings for the serial monitor software:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>The default serial port settings for the board are:
</span><span class='line'>Baud 115,200
</span><span class='line'>Bits 8
</span><span class='line'>Parity N
</span><span class='line'>Stop Bits 1
</span><span class='line'>Handshake None
</span></code></pre></td></tr></table></div></figure>


<h3>Connection</h3>

<p>The serial port in BBB is listed as following:  <br/>
<img src="/images/BBBSerial.jpg" alt="/images/BBBSerial.jpg" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/10/14/verified-to-github/">Verified to Github</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-10-14T19:59:00+08:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>7:59 pm</span></time>
        
         | <a href="/blog/2014/10/14/verified-to-github/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>General Method</h3>

<p>When you were denied by github, use following method for get through:  <br/>
Generate the key-gen</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh-keygen
</span></code></pre></td></tr></table></div></figure>


<p>Then Creat the following files:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># cat /home/Trusty/.ssh/config
</span><span class='line'>Host github.com
</span><span class='line'>User xxx@xxx.com
</span><span class='line'>Hostname ssh.github.com
</span><span class='line'>PreferredAuthentications publickey
</span><span class='line'>IdentityFile ~/.ssh/id_rsa
</span><span class='line'>Port 443
</span></code></pre></td></tr></table></div></figure>


<p>Now use following command for setting the connection:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh -T git@github.com
</span></code></pre></td></tr></table></div></figure>


<h3>Under firewall</h3>

<p>First add the ~/.ssh/id_rsa.pub to the github&rsquo;s &ldquo;SSH keys&rdquo;.   <br/>
If your machine runs under the firewall, you have to do things like following:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh -L 2121:github.com:22 root@1xxx.xxx.xxx.158
</span></code></pre></td></tr></table></div></figure>


<p>Then in another terminal, run:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh -T git@localhost -p 2121
</span><span class='line'>Hi xxx! You've successfully authenticated, but GitHub does not provide shell access.
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/10/14/tips-for-deploying-archlinux-on-bbb/">Tips for Deploying ArchLinux on BBB</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-10-14T17:33:00+08:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>5:33 pm</span></time>
        
         | <a href="/blog/2014/10/14/tips-for-deploying-archlinux-on-bbb/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The detailed installation guideline could be found at:  <br/>
<a href="http://archlinuxarm.org/platforms/armv7/ti/beaglebone-black">http://archlinuxarm.org/platforms/armv7/ti/beaglebone-black</a></p>

<p>But while there are some tips in changing the uEnv.txt, to enable the boot from 2nd mmc partition. following is the configuration file:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@alarm mnt]# cat uEnv.txt
</span><span class='line'>optargs=coherent_pool=1M
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>#u-boot eMMC specific overrides; Angstrom Distribution (BeagleBone Black) 2013-06-20
</span><span class='line'>kernel_file=zImage
</span><span class='line'>initrd_file=uInitrd
</span><span class='line'> 
</span><span class='line'>loadzimage=load mmc ${mmcdev}:${mmcpart} ${loadaddr} ${kernel_file}
</span><span class='line'>loadinitrd=load mmc ${mmcdev}:${mmcpart} 0x81000000 ${initrd_file}; setenv initrd_size ${filesize}
</span><span class='line'>loadfdt=load mmc ${mmcdev}:${mmcpart} ${fdtaddr} /dtbs/${fdtfile}
</span><span class='line'>#
</span><span class='line'> 
</span><span class='line'>console=ttyO0,115200n8
</span><span class='line'># If you want to boot from usb
</span><span class='line'>#mmcroot=/dev/sda1 ro
</span><span class='line'># If you want to boot from SD card
</span><span class='line'>mmcroot=/dev/mmcblk0p2 ro
</span><span class='line'>mmcrootfstype=ext4 rootwait fixrtc
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>Now reboot and then you could see the BBB runs into the ArchLinux.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/10/14/run-bbb-building-in-server/">Run BBB Building in Server</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-10-14T10:43:00+08:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:43 am</span></time>
        
         | <a href="/blog/2014/10/14/run-bbb-building-in-server/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Background</h3>

<p>Since building is heavy task to CPU, I decide to use the server in lab for building</p>

<h3>Packages</h3>

<p>We need to install following packages for setting up the building environment:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>zypper in git patch u-boot-tools git ncurses-devel dpkg dpkg-devel dpkg-lang
</span></code></pre></td></tr></table></div></figure>


<p>Use git for acrossing the firewall of company:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&gt; git config --global user.email xxxx@gmail.com
</span><span class='line'>&gt; git config --global user.name xxxx
</span><span class='line'>&gt; cat ~/.gitconfig
</span><span class='line'>[user]
</span><span class='line'>  email = xxxx@gmail.com
</span><span class='line'>  name = xxx 
</span></code></pre></td></tr></table></div></figure>


<p>Then we compile a cross Firewall tool and tell git for using it.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gcc -o connect connect.c
</span><span class='line'>$ sudo cp connect /usr/bin
</span><span class='line'>$ sudo chmod 777 /usr/bin/connect
</span><span class='line'>$ sudo chmod 777 /usr/bin/myproxy
</span><span class='line'>$ cat /usr/bin/myproxy
</span><span class='line'>/usr/bin/connect -H 127.0.0.1:9001 $@
</span></code></pre></td></tr></table></div></figure>


<p>Now add the following lines in ~/.gitconfig:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[core]
</span><span class='line'>  gitproxy = /usr/bin/myproxy
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>Testing the git via:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git://git.kernel.org/pub/scm/linux/kernel/git/stable/stable-queue.git
</span></code></pre></td></tr></table></div></figure>


<h3>Building</h3>

<p>Be sure the directory had the same as in laptop.   that is:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&gt; pwd
</span><span class='line'>/media/y/embedded/BBB/Kernel/bb-kernel
</span></code></pre></td></tr></table></div></figure>


<p>For long-time building, I install tmux for handling the process:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>zypper in tmux
</span></code></pre></td></tr></table></div></figure>


<p>Under the folder, run <code>build_kernel.sh</code> then you could get the Linux Kernel.  <br/>
fakeroot should be installed in openSUSE:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>http://software.opensuse.org/package/fakeroot?search_term=fakeroot
</span><span class='line'>rpm -ivh fakeroot-1.20-1.18.x86_64.rpm
</span></code></pre></td></tr></table></div></figure>


<p>You should change the following files to enable the hostname:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Linux59:~ # cat /etc/hostname
</span><span class='line'>Linux59
</span><span class='line'>Linux59:~ # cat /etc/hosts
</span><span class='line'>127.0.0.1 localhost.localdomain   localhost
</span><span class='line'>127.0.0.1 Linux59.localdomain Linux59
</span></code></pre></td></tr></table></div></figure>


<p>Now run hostname via:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Linux59:~ # hostname --fqdn
</span><span class='line'>Linux59.localdomain
</span></code></pre></td></tr></table></div></figure>


<p>Now run <code>./build_deb.sh</code> you could get the deb file.</p>

<h3>Building Angstrom</h3>

<p>First you should check out the git source from github:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git://github.com/Angstrom-distribution/setup-scripts.git
</span></code></pre></td></tr></table></div></figure>


<p>Then run:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ MACHINE=beagleboard ./oebb.sh config beagleboard
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<h3>Trouble-Shooting</h3>

<p>First I met tmux issue. so I installed the tmux in router(OpenWRT):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>opkg update
</span><span class='line'>opkg install tmux
</span></code></pre></td></tr></table></div></figure>


<p>Then I use tmux in router,create the new session which holds the  ssh connection to the Server.</p>

<p>Then in family computer, the git proxy configuraiton won&rsquo;t reset even if I update the ~/.gitconfig. This problem didn&rsquo;t solved.  I don&rsquo;t know why.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/10/13/switch-from-bbb-to-raspberrypi/">Switch From BBB to RaspberryPI</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-10-13T20:27:00+08:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>8:27 pm</span></time>
        
         | <a href="/blog/2014/10/13/switch-from-bbb-to-raspberrypi/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Background</h3>

<p>I have BeagleBone Black and RaspberryPi, both of them are cute board. Previous I use BBB for home server, which holds my own Weather APP website, also serves as a sshd server, dynamic dns server, etc. While Rpi serves like a File server and download server.       <br/>
Now I want to use BBB for developing some funny things, that means I will transfer all of the functionalities which runs in BBB to Rpi. Following steps will record what I have done.   <br/>
Before start, update all of the software in Rpi(it runs archLinux):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -Syu --noconfirm
</span></code></pre></td></tr></table></div></figure>


<h3>sshd</h3>

<p>Previously the sshd on BeagleBone listens on port 3333, now I have to change it back to 22,</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/[root@alarmpi ~]# cat /etc/ssh/sshd_config
</span><span class='line'>
</span><span class='line'>#Port 3333
</span><span class='line'>Port 22
</span></code></pre></td></tr></table></div></figure>


<p>Restart the service via <code>systemctl restart sshd</code>, then you could directly ssh to <code>10.0.0.230</code>.</p>

<h3>DDns</h3>

<p>Previous the BBB acts as the Ddns client, thus hold a no-ip.biz based domain name.   <br/>
On BBB, because it runs the Debian7.1, so the no-ip2 configuraiton is :</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@arm:/etc# ps -ef | grep noip | grep -v grep
</span><span class='line'>nobody    3184     1  0 Oct07 ?        00:00:01 /usr/local/bin/noip2 -c /usr/local/etc/no-ip2.conf
</span></code></pre></td></tr></table></div></figure>


<p>While the configuration file is located at:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@arm:/etc# cat /etc/rc.local
</span><span class='line'># By default this script does nothing.
</span><span class='line'># But we will call noip in this scirpt
</span><span class='line'>/usr/local/bin/noip2 -c /usr/local/etc/no-ip2.conf &
</span></code></pre></td></tr></table></div></figure>


<p>So first we should comment this line. Then activate the Rpi&rsquo;s no-ip2.</p>

<p>The Rpi&rsquo;s configuraiton is using systemd. <br/>
The corresponding configuration file is located at:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@alarmpi system]# pwd
</span><span class='line'>/usr/lib/systemd/system
</span><span class='line'>[root@alarmpi system]# cat noip2.service 
</span><span class='line'>[Unit]
</span><span class='line'>Description=No-IP Dynamic DNS Update Client
</span><span class='line'>After=network.target
</span><span class='line'>
</span><span class='line'>[Service]
</span><span class='line'>Type=forking
</span><span class='line'>ExecStart=/usr/bin/noip2 -c /etc/no-ip2.conf
</span><span class='line'>
</span><span class='line'>[Install]
</span><span class='line'>WantedBy=multi-user.target
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>Simply disable it via:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo systemctl disable noip2.service
</span></code></pre></td></tr></table></div></figure>


<h3>ssh with nopasswd</h3>

<p>Make sure all of the configuration is the same in <code>.ssh/authorized_keys</code> <br/>
Then you could change the port in router, change the default 22 port from BBB to Rpi.</p>

<p>Reboot the router, and BBB &amp; Rpi.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/24/convert-different-format-in-python/">Convert Different Format in Python</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-09-24T19:08:00+08:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>7:08 pm</span></time>
        
         | <a href="/blog/2014/09/24/convert-different-format-in-python/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The following commands is for directly convert ascii, numbers in python:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ python2
</span><span class='line'>&gt;&gt;&gt; str(unichr(97))
</span><span class='line'>'a'
</span><span class='line'>&gt;&gt;&gt; str(unichr(0x68))
</span><span class='line'>'h'
</span><span class='line'>&gt;&gt;&gt; str(unichr(0x5a))
</span><span class='line'>'Z'
</span><span class='line'>&gt;&gt;&gt; bin(0x2711)
</span><span class='line'>'0b10011100010001'
</span><span class='line'>&gt;&gt;&gt; 0x2711
</span><span class='line'>10001
</span><span class='line'>&gt;&gt;&gt; hex(1127)
</span><span class='line'>'0x467'
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/17/big-little-endian/">Big-Little Endian</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-09-17T11:49:00+08:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>17</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:49 am</span></time>
        
         | <a href="/blog/2014/09/17/big-little-endian/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>An elegant way for juding big-endian or little-endian of processor:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>eCCM2-root-root&gt; python -c "import sys;sys.exit(0 if sys.byteorder=='big' else 1)"
</span><span class='line'>eCCM2-root-root&gt; echo $?
</span><span class='line'>0
</span><span class='line'>[Trusty@~]$ python -c "import sys;sys.exit(0 if sys.byteorder=='big' else 1)"
</span><span class='line'>[Trusty@~]$ echo $?
</span><span class='line'>1
</span></code></pre></td></tr></table></div></figure>


<p>So we could see powerpc is the big-endian, while PC is little-endian.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/03/compare-pkg-content/">Compare Pkg Content</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-09-03T19:13:00+08:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2014</span></span> <span class='time'>7:13 pm</span></time>
        
         | <a href="/blog/2014/09/03/compare-pkg-content/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Use dpkg for reading the content and compare with the official ones:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> dpkg -c ../../xxxxx_name.deb | awk '{print $3 $6}' | sort -n
</span></code></pre></td></tr></table></div></figure>


<p>Scripts for listing all of the content in the directory:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for i in `ls *.deb`
</span><span class='line'>do
</span><span class='line'>    echo $i
</span><span class='line'>    dpkg -c $i
</span><span class='line'>done
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/03/opensuse-vlan-configuration-modification/">OpenSuse Vlan Configuration Modification</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-09-03T17:26:00+08:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2014</span></span> <span class='time'>5:26 pm</span></time>
        
         | <a href="/blog/2014/09/03/opensuse-vlan-configuration-modification/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The command is listed as following:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>linux:/etc/udev # cd rules.d/
</span><span class='line'>linux:/etc/udev/rules.d # ls
</span><span class='line'>10-network.rules  55-libsane.rules  56-sane-backends-autoconfig.rules  70-kpartx.rules  70-persistent-net.rules  99-iwlwifi-led.rules
</span><span class='line'>linux:/etc/udev/rules.d # cat 70-persistent-net.rules
</span><span class='line'>SUBSYSTEM=="net", ATTR{address}=="00:xx:xx:xx:xx", NAME="eth1", DRIVERS=="?*"
</span><span class='line'>linux:/etc/udev/rules.d # cat /usr/lib/systemd/system/vlan.service
</span><span class='line'>[Unit]
</span><span class='line'>Description=Add Vlan Configure 
</span><span class='line'>Type=idle
</span><span class='line'>
</span><span class='line'>[Service]
</span><span class='line'>ExecStart=/usr/bin/vconfig.sh
</span><span class='line'>
</span><span class='line'>[Install]
</span><span class='line'>WantedBy=multi-user.target
</span></code></pre></td></tr></table></div></figure>


<p>Change persistent name from enp0s25 to eth1 and let it possible to add vlan on this interface.</p>

<p>And start the vlan configuration at the very last of the systemd working.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/01/lxc-on-opensuse/">LXC on OpenSuse</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-09-01T09:58:00+08:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2014</span></span> <span class='time'>9:58 am</span></time>
        
         | <a href="/blog/2014/09/01/lxc-on-opensuse/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>LXC 相关操作</h3>

<p>列出本机已有的容器：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># lxc-ls
</span><span class='line'>xxxxxyyySimulator1  xxxxxyyySimulator2
</span></code></pre></td></tr></table></div></figure>


<p>开启虚拟机：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># lxc-start -n xxxxxyyySimulator1
</span></code></pre></td></tr></table></div></figure>


<p>本机开启终端连接到开启后的虚拟机：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># lxc-console --name xxxxxyyySimulator1
</span><span class='line'>
</span><span class='line'>Type &lt;Ctrl+a q&gt; to exit the console, &lt;Ctrl+a Ctrl+a&gt; to enter Ctrl+a itself
</span><span class='line'>
</span><span class='line'>Welcome to openSUSE 12.3 "Dartmouth" - Kernel 3.11.10-21-default (tty1).
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>xxxxxyyySimulator1 login: root
</span><span class='line'>Password: 
</span><span class='line'>Last login: Fri Aug 29 15:40:54 from xxx.xxx.xx.59
</span><span class='line'>Have a lot of fun...
</span><span class='line'>xxxxxyyySimulator1:~ # 
</span></code></pre></td></tr></table></div></figure>


<p>用户名和密码都是"root". ctrl+a后按q即可退出该终端。</p>

<p>销毁容器:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>lxc-destroy -n XXXXXXXXXX
</span></code></pre></td></tr></table></div></figure>


<p>克隆容器:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>bash /usr/bin/lxc-clone -o xxxxxyyySimulator1 -n xxxxxyyySimulator2
</span></code></pre></td></tr></table></div></figure>


<p>其中-o 是源容器， -n 后接的是目的容器名，目的容器会自动创建。</p>

<h3>LXC 容器修改</h3>

<p>比如，网络配置在下列文件里：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># cat /var/lib/lxc/xxxxxyyySimulator2/config | more
</span><span class='line'># Template used to create this container: /usr/share/lxc/templates/lxc-opensuse
</span><span class='line'># Template script checksum (SHA-1): xxxxxxxxxxxxxxxxxxxxxxxxxxxx
</span><span class='line'>
</span><span class='line'>#lxc.network.type = empty
</span><span class='line'>lxc.network.type = veth
</span><span class='line'>lxc.network.flags = up
</span><span class='line'>lxc.network.link = br0
</span><span class='line'>lxc.network.name = eth0
</span><span class='line'>lxc.network.ipv4 = xxx.xxx.xx.67/24
</span><span class='line'>lxc.network.ipv4.gateway = xxx.xxx.xx.1
</span></code></pre></td></tr></table></div></figure>


<p>network.ipv4代表其IP地址，而Gateway则代表其默认路由。</p>

<p>虚拟机位置：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>linux:/var/lib/lxc # du -hs *
</span><span class='line'>483M  xxxxxyyySimulator1
</span><span class='line'>483M  xxxxxyyySimulator2
</span><span class='line'>linux:/var/lib/lxc # pwd
</span><span class='line'>/var/lib/lxc
</span></code></pre></td></tr></table></div></figure>


<p>克隆后的虚拟机也在同一目录下。</p>

<p>启动后的虚拟机，都可以被视为真实的物理机，可以通过ssh直接连上去操作。</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/20">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/18">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/05/24/san-jie-dian-da-jian-openstack-juno/">三节点搭建OpenStack Juno(1)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/23/use-apt-cacher-for-speeding-up-deployment/">Use Apt-cacher for Speeding Up Deployment</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/22/change-cobbler-profile-for-using-local-repository/">Change Cobbler Profile for Using Local Repository</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/20/setup-centos6-slash-7-local-repository/">Setup CentOS6/7 Local Repository</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/19/setup-local-repository/">Setup Local Repository</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Dash -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'dashsagittariussglory';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
