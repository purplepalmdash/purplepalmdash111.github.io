
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dash</title>
  <meta name="author" content="Dash">

  
  <meta name="description" content="MongoDB Install MongoDB via: 1
2
3
4
$ sudo pacman -S mongodb
$ sudo systemctl start mongodb
$ sudo systemctl enable mongodb
$ mongodb Later I will &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://purplepalmdash.github.io/posts/31">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/purplepalmdash/atom.xml" rel="alternate" title="Dash" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.useso.com/js/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Dash</a></h1>
  
    <h2>Get busy living, or get busy dying.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/purplepalmdash/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:purplepalmdash.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/18/database-in-node-dot-js/">Database in Node.js</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-06-18T19:43:00+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>7:43 pm</span></time>
        
         | <a href="/blog/2014/06/18/database-in-node-dot-js/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>MongoDB</h3>

<p>Install MongoDB via:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S mongodb
</span><span class='line'>$ sudo systemctl start mongodb
</span><span class='line'>$ sudo systemctl enable mongodb
</span><span class='line'>$ mongodb
</span></code></pre></td></tr></table></div></figure>


<p>Later I will cover this topic.</p>

<h3>MySQL</h3>

<h4>Installation of MySQL</h4>

<p>The implementation chosen by Arch Linux is called MariaDB, install it via:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S mariadb 
</span></code></pre></td></tr></table></div></figure>


<p>Configuration steps:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo systemctl start mysqld.service
</span><span class='line'>[Trusty@~]$ sudo mysql_secure_installation
</span><span class='line'>/usr/bin/mysql_secure_installation: line 379: find_mysql_client: command not found
</span><span class='line'>
</span><span class='line'>NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB
</span><span class='line'>      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!
</span><span class='line'>
</span><span class='line'>In order to log into MariaDB to secure it, we'll need the current
</span><span class='line'>password for the root user.  If you've just installed MariaDB, and
</span><span class='line'>you haven't set the root password yet, the password will be blank,
</span><span class='line'>so you should just press enter here.
</span><span class='line'>
</span><span class='line'>Enter current password for root (enter for none): 
</span><span class='line'>OK, successfully used password, moving on...
</span><span class='line'>
</span><span class='line'>Setting the root password ensures that nobody can log into the MariaDB
</span><span class='line'>root user without the proper authorisation.
</span><span class='line'>
</span><span class='line'>Set root password? [Y/n] Y
</span><span class='line'>New password: 
</span><span class='line'>Re-enter new password: 
</span><span class='line'>Password updated successfully!
</span><span class='line'>Reloading privilege tables..
</span><span class='line'> ... Success!
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>By default, a MariaDB installation has an anonymous user, allowing anyone
</span><span class='line'>to log into MariaDB without having to have a user account created for
</span><span class='line'>them.  This is intended only for testing, and to make the installation
</span><span class='line'>go a bit smoother.  You should remove them before moving into a
</span><span class='line'>production environment.
</span><span class='line'>
</span><span class='line'>Remove anonymous users? [Y/n] Y
</span><span class='line'> ... Success!
</span><span class='line'>
</span><span class='line'>Normally, root should only be allowed to connect from 'localhost'.  This
</span><span class='line'>ensures that someone cannot guess at the root password from the network.
</span><span class='line'>
</span><span class='line'>Disallow root login remotely? [Y/n] Y
</span><span class='line'> ... Success!
</span><span class='line'>
</span><span class='line'>By default, MariaDB comes with a database named 'test' that anyone can
</span><span class='line'>access.  This is also intended only for testing, and should be removed
</span><span class='line'>before moving into a production environment.
</span><span class='line'>
</span><span class='line'>Remove test database and access to it? [Y/n] Y
</span><span class='line'> - Dropping test database...
</span><span class='line'> ... Success!
</span><span class='line'> - Removing privileges on test database...
</span><span class='line'> ... Success!
</span><span class='line'>
</span><span class='line'>Reloading the privilege tables will ensure that all changes made so far
</span><span class='line'>will take effect immediately.
</span><span class='line'>
</span><span class='line'>Reload privilege tables now? [Y/n] Y
</span><span class='line'> ... Success!
</span><span class='line'>
</span><span class='line'>Cleaning up...
</span><span class='line'>
</span><span class='line'>All done!  If you've completed all of the above steps, your MariaDB
</span><span class='line'>installation should now be secure.
</span><span class='line'>
</span><span class='line'>Thanks for using MariaDB!
</span></code></pre></td></tr></table></div></figure>


<p>Now you can login the mariadb via:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ mysql -u root -p
</span><span class='line'>MariaDB [(none)]&gt; SHOW DATABASES;
</span><span class='line'>+--------------------+
</span><span class='line'>| Database           |
</span><span class='line'>+--------------------+
</span><span class='line'>| information_schema |
</span><span class='line'>| mysql              |
</span><span class='line'>| performance_schema |
</span><span class='line'>+--------------------+
</span><span class='line'>3 rows in set (0.00 sec)
</span></code></pre></td></tr></table></div></figure>


<h4>Node.js of MariaDB</h4>

<h3>Redis</h3>

<p>Running result:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>127.0.0.1:6379&gt; SET my.key test
</span><span class='line'>OK
</span><span class='line'>127.0.0.1:6379&gt; KEYS my.key
</span><span class='line'>1) "my.key"
</span><span class='line'>127.0.0.1:6379&gt; VALUES my.key
</span><span class='line'>(error) ERR unknown command 'VALUES'
</span><span class='line'>127.0.0.1:6379&gt; GET my.key
</span><span class='line'>"test"
</span><span class='line'>127.0.0.1:6379&gt; keys *
</span><span class='line'> 1) "user:jeff@amazon.com:followers"
</span><span class='line'> 2) "user:jeff@amazon.com:follows"
</span><span class='line'> 3) "user:bill@microsoft.com:followers"
</span><span class='line'> 4) "mykey"
</span><span class='line'> 5) "rq:job:b9b76e04-8bb7-4652-83e9-4453de981554"
</span><span class='line'> 6) "rq:queue:default"
</span><span class='line'> 7) "user:mark@facebook.com:data"
</span><span class='line'> 8) "_kombu.binding.celeryev"
</span><span class='line'> 9) "user:fred@fedex.com:data"
</span><span class='line'>10) "user:jeff@amazon.com:data"
</span><span class='line'>11) "rq:queues"
</span><span class='line'>12) "user:bill@microsoft.com:follows"
</span><span class='line'>13) "_kombu.binding.celery"
</span><span class='line'>14) "my.key"
</span><span class='line'>15) "user:bill@microsoft.com:data"
</span><span class='line'>127.0.0.1:6379&gt; KEYS my.key
</span><span class='line'>1) "my.key"
</span><span class='line'>127.0.0.1:6379&gt; SET online.users 0
</span><span class='line'>OK
</span><span class='line'>127.0.0.1:6379&gt; onlien.users
</span><span class='line'>(error) ERR unknown command 'onlien.users'
</span><span class='line'>127.0.0.1:6379&gt; online.users
</span><span class='line'>(error) ERR unknown command 'online.users'
</span><span class='line'>127.0.0.1:6379&gt; KEYS online.users
</span><span class='line'>1) "online.users"
</span><span class='line'>127.0.0.1:6379&gt; GET online.users
</span><span class='line'>"0"
</span><span class='line'>127.0.0.1:6379&gt; INCR online.users
</span><span class='line'>(integer) 1
</span><span class='line'>127.0.0.1:6379&gt; INCR onlien.users
</span><span class='line'>(integer) 1
</span><span class='line'>127.0.0.1:6379&gt; INCR online.users
</span><span class='line'>(integer) 2
</span><span class='line'>127.0.0.1:6379&gt; HSET profile.1 name Guillermo
</span><span class='line'>(integer) 1
</span><span class='line'>127.0.0.1:6379&gt; HGETALL profile.1
</span><span class='line'>1) "name"
</span><span class='line'>2) "Guillermo"
</span><span class='line'>127.0.0.1:6379&gt; HSET profile.1 last Rauch
</span><span class='line'>(integer) 1
</span><span class='line'>127.0.0.1:6379&gt; HGETALL profile.1
</span><span class='line'>1) "name"
</span><span class='line'>2) "Guillermo"
</span><span class='line'>3) "last"
</span><span class='line'>4) "Rauch"
</span><span class='line'>127.0.0.1:6379&gt; HSET profile.1 programmer 1
</span><span class='line'>(integer) 1
</span><span class='line'>127.0.0.1:6379&gt; HGETALL profile.1
</span><span class='line'>1) "name"
</span><span class='line'>2) "Guillermo"
</span><span class='line'>3) "last"
</span><span class='line'>4) "Rauch"
</span><span class='line'>5) "programmer"
</span><span class='line'>6) "1"
</span><span class='line'>127.0.0.1:6379&gt; HDEL profile.1 programmer
</span><span class='line'>(integer) 1
</span><span class='line'>127.0.0.1:6379&gt; HGETALL profile.1
</span><span class='line'>1) "name"
</span><span class='line'>2) "Guillermo"
</span><span class='line'>3) "last"
</span><span class='line'>4) "Rauch"
</span><span class='line'>127.0.0.1:6379&gt; RPSH profile.1.jobs "job 1"
</span><span class='line'>(error) ERR unknown command 'RPSH'
</span><span class='line'>127.0.0.1:6379&gt; RPUSH profile.1.jobs "job 1"
</span><span class='line'>(integer) 1
</span><span class='line'>127.0.0.1:6379&gt; HGET profile.1
</span><span class='line'>(error) ERR wrong number of arguments for 'hget' command
</span><span class='line'>127.0.0.1:6379&gt; HGETALL profile.1
</span><span class='line'>1) "name"
</span><span class='line'>2) "Guillermo"
</span><span class='line'>3) "last"
</span><span class='line'>4) "Rauch"
</span><span class='line'>127.0.0.1:6379&gt; LRANGE profile.1.jobs 0 -1
</span><span class='line'>1) "job 1"
</span><span class='line'>127.0.0.1:6379&gt; 
</span><span class='line'>127.0.0.1:6379&gt; RPUSH profile.1.jobs "job 2"
</span><span class='line'>(integer) 2
</span><span class='line'>127.0.0.1:6379&gt; LRANGE profile.1.jobs 0 -1
</span><span class='line'>1) "job 1"
</span><span class='line'>2) "job 2"
</span><span class='line'>127.0.0.1:6379&gt; RPUSH profile.1.jobs "job 3"
</span><span class='line'>(integer) 3
</span><span class='line'>127.0.0.1:6379&gt; LRANGE profile.1.jobs 0 -1
</span><span class='line'>1) "job 1"
</span><span class='line'>2) "job 2"
</span><span class='line'>3) "job 3"
</span></code></pre></td></tr></table></div></figure>


<p>DataSet in Redis:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>127.0.0.1:6379&gt; SADD myset "a member"
</span><span class='line'>(integer) 1
</span><span class='line'>127.0.0.1:6379&gt; SMEMBERS myset
</span><span class='line'>1) "a member"
</span><span class='line'>127.0.0.1:6379&gt; SADD myset "a second member"
</span><span class='line'>(integer) 1
</span><span class='line'>127.0.0.1:6379&gt; SMEMEBERS myset
</span><span class='line'>(error) ERR unknown command 'SMEMEBERS'
</span><span class='line'>127.0.0.1:6379&gt; SMEMBERS myset
</span><span class='line'>1) "a second member"
</span><span class='line'>2) "a member"
</span><span class='line'>127.0.0.1:6379&gt; SREM myset "a second member"
</span><span class='line'>(integer) 1
</span><span class='line'>127.0.0.1:6379&gt; SMEMBERS myset
</span><span class='line'>1) "a member"
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/16/archlinux-on-surface-pro-1/">ArchLinux on Surface Pro(1)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-06-16T13:51:00+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>1:51 pm</span></time>
        
         | <a href="/blog/2014/06/16/archlinux-on-surface-pro-1/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>System Management</h3>

<h4>Users and Groups</h4>

<p>Install zsh and use zsh as the newly added users&rsquo;s default SHELL:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># pacman -S zsh
</span><span class='line'># useradd -m -g root -G audio -s /bin/zsh Trusty
</span></code></pre></td></tr></table></div></figure>


<p>Then we add the newly added user into the sudo group and configure the sudo parameters:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># pacman -S sudo
</span><span class='line'># visudo
</span><span class='line'>Trusty ALL=(ALL) NOPASSWD: ALL
</span><span class='line'>Defaults env_keep += "LANG LANGUAGE LINGUAS LC_* _XKB_CHARSET http_proxy https_proxy ftp_proxy ftps_proxy"
</span></code></pre></td></tr></table></div></figure>


<p>Now the user is OK, and you can directly use newly added user for login, I suggest you swiftly switch to the newly added user, because using root is not a good idea, it&rsquo;s not safe.  <br/>
And we can copy the existing zshrc file from the company machine.</p>

<h4>Yaourt</h4>

<p>Add following command into /etc/pacman.conf:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[archlinuxfr]
</span><span class='line'>SigLevel = Never
</span><span class='line'>Server = http://repo.archlinux.fr/$arch
</span></code></pre></td></tr></table></div></figure>


<p>Then:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo pacman -Syu && sudo pacman -S yaourt
</span></code></pre></td></tr></table></div></figure>


<h4>Packages</h4>

<p>Install following packages:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># pacman -S chromium firefox xorg xorg-xinit awesome xf86-video-intel xf86-video-ati pidgin thunderbird wget libreoffice gnome-terminal tigervnc xfce4  evince gimp smplayer alsa-utils gvim eclipse git subversion wireshark-gtk tcpdump ddd gdb meld qemu virtualbox wqy-bitmapfont wqy-microhei wqy-microhei-lite wqy-zenhei fcitx fcitx-libpinyin rox gpicview conky fcitx-googlepinyin nodejs cronie ntfs-3g
</span></code></pre></td></tr></table></div></figure>


<p>Configure:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[Trusty@~]$ cat ~/.xinirc 
</span><span class='line'>exec awesome
</span><span class='line'>[Trusty@~]$ cat ~/.vnc/xstartup 
</span><span class='line'>#!/bin/sh
</span><span class='line'>
</span><span class='line'>export XKL_XMODMAP_DISABLE=1
</span><span class='line'>exec startxfce4
</span></code></pre></td></tr></table></div></figure>


<p>Configure crontab:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>crontab -e
</span><span class='line'>*/4 * * * * sudo fdisk -l /dev/sdb
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/16/archlinux-on-surface-pro/">ArchLinux on Surface Pro</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-06-16T09:26:00+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>9:26 am</span></time>
        
         | <a href="/blog/2014/06/16/archlinux-on-surface-pro/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Following is the steps for installing ArchLinux on Surface Pro, from the very beginning.</p>

<h3>Prerequisite</h3>

<p>First you have to download the iso from <a href="http://www.archlinux.org/download">http://www.archlinux.org/download</a>, Mine is <code>2014.06.01</code>.  <br/>
Also I use a USB-LAN adapter which holds the following information:   <code>ASIX Electronics Corp. AX88772B</code>.   <br/>
A 8G Flash Disk, 80G USB3.0 USB HardDisk. I also use a 4-Port USB2.0 HUB which carries a AC/DC Adapter for using 3 equipemts(FlashDisk/USB Adapter/USB Disk).  <br/>
Make the bootable flash disk via:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># dd if=/path/to/archlinux.iso of=/dev/sdX bs=1M && sync
</span></code></pre></td></tr></table></div></figure>


<p>After it finished we insert the flash disk into the USB HUB, boot-up the Surface Pro Holding both the Power Key and Volumn - Key. Shortly we will go into the archlinux installtion shell.</p>

<h3>Installation Of ArchLinux</h3>

<p>These steps are mainly refers to following URL:  <br/>
<a href="https://bbs.archlinuxcn.org/viewtopic.php?id=1037">https://bbs.archlinuxcn.org/viewtopic.php?id=1037</a>   <br/>
First start-up the sshd so we can remotely login onto the terminal, thus we could easily copy-paste the commands.</p>

<h4>Make partitions on disk</h4>

<p>GPT Partition:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cgdisk /dev/sdX
</span></code></pre></td></tr></table></div></figure>


<p>The Partition I made is as following:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># fdisk -l /dev/sdb
</span><span class='line'>
</span><span class='line'>Disk /dev/sdb: 74.5 GiB, 80026361856 bytes, 156301488 sectors
</span><span class='line'>Units: sectors of 1 * 512 = 512 bytes
</span><span class='line'>Sector size (logical/physical): 512 bytes / 512 bytes
</span><span class='line'>I/O size (minimum/optimal): 512 bytes / 512 bytes
</span><span class='line'>Disklabel type: gpt
</span><span class='line'>Disk identifier: CEFF8C6A-A06A-46DF-9D10-F4C593C32CA0
</span><span class='line'>
</span><span class='line'>Device           Start          End   Size Type
</span><span class='line'>/dev/sdb1         2048      1050623   512M EFI System
</span><span class='line'>/dev/sdb2      1050624      5244927     2G Linux swap
</span><span class='line'>/dev/sdb3      5244928    156301454    72G Linux filesystem
</span></code></pre></td></tr></table></div></figure>


<p>Notice we have to make a seperated EFI partition, because surface pro is UEFI enablbed. We also have a 2-Gigabyte swap partition and remains all of the reset as the root partition. <br/>
Now make the filesystems on the disk:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># mkfs.ext4 /dev/sdb3
</span><span class='line'># mkswap /dev/sdb2
</span><span class='line'># mkfs.vfat -F32 /dev/sdb1 
</span></code></pre></td></tr></table></div></figure>


<p>Enable the swap partion:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># swapon /dev/sdb2 
</span></code></pre></td></tr></table></div></figure>


<h4>Installation Of Basic System</h4>

<p>After creating the partition, mount them into the corresponding position:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># mount /dev/sdb3 /mnt
</span><span class='line'># mkdir -p /mnt/boot/EFI/
</span><span class='line'># mount /dev/sdb1 /mnt/boot/EFI/
</span></code></pre></td></tr></table></div></figure>


<p>Install the basic system:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pacstrap -i /mnt base
</span></code></pre></td></tr></table></div></figure>


<p>Generate the fstab file:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab
</span></code></pre></td></tr></table></div></figure>


<p>Examine the generate the fstab:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># file /mnt/etc/fstab 
</span><span class='line'># cat /mnt/etc/fstab
</span></code></pre></td></tr></table></div></figure>


<p>Now you have the basic system installed the /dev/sdb, next step we will enter the system and configure this newly installed system.</p>

<h4>Configure The System</h4>

<p>Enter the system via:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># arch-chroot /mnt /bin/bash
</span></code></pre></td></tr></table></div></figure>


<p>Locale:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># vim /etc/locale.gen
</span><span class='line'># locale-gen
</span></code></pre></td></tr></table></div></figure>


<p>Default Language:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>echo LANG=en_US.UTF-8&gt;/etc/locale.conf
</span></code></pre></td></tr></table></div></figure>


<p>Timezone:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</span></code></pre></td></tr></table></div></figure>


<p>HostName:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># echo SurfacePro&gt;/etc/hostname
</span></code></pre></td></tr></table></div></figure>


<p>Auto-configuring the network at startup:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># systemctl start dhcpcd.service
</span><span class='line'># systemctl enable dhcpcd.service    
</span></code></pre></td></tr></table></div></figure>


<p>Set the password for root user:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># passwd
</span></code></pre></td></tr></table></div></figure>


<p>Install grub with efi support:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># pacman -S grub efibootmgr
</span><span class='line'># grub-install --target=x86_64-efi --efi-directory=/boot/EFI --bootloader-id=arch_grub --recheck
</span></code></pre></td></tr></table></div></figure>


<p>Generate the configure files:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># grub-mkconfig -o /boot/grub/grub.cfg
</span></code></pre></td></tr></table></div></figure>


<h4>Finish</h4>

<p>Return to the installtion environment:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>exit
</span></code></pre></td></tr></table></div></figure>


<p>Umount new partion:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># umount -R /mnt
</span></code></pre></td></tr></table></div></figure>


<p>Reboot via <code>shutdown -h now</code> and next time remove the flash-disk, also press power-up and volumn-down key together, this time you will be leading the usb-disk powered system.</p>

<h3>ScreenShot:</h3>

<p>See following picture:</p>

<p><img src="/images/surfacepro1.jpg" alt="/images/surfacepro1.jpg" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/11/on-surface-pro/">On Surface Pro</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-06-11T20:59:00+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>8:59 pm</span></time>
        
         | <a href="/blog/2014/06/11/on-surface-pro/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yes, two weeks ago I bought a surface pro, following is the steps for me to discover on Surface Pro.</p>

<h3>Remote Viewer</h3>

<p>Since the remote desktop server is not installed on surface pro, I have to install the remote viewer, I choose TeamViewer, the steps is quite easy. But it requires both side(client and server)both could reach internet.   <br/>
TeamViewer Download:   <br/>
<a href="http://www.teamviewer.com/zhcn/download/windows.aspx">http://www.teamviewer.com/zhcn/download/windows.aspx</a>  <br/>
You can also install teamviewer from the yaourt of ArchLinux.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/10/upgrade-pidgin-for-using-microsoft-lync/">Upgrade Pidgin for Using Microsoft Lync</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-06-10T09:27:00+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>9:27 am</span></time>
        
         | <a href="/blog/2014/06/10/upgrade-pidgin-for-using-microsoft-lync/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Since company has upgrade the IM tools from office communicator into Lync, thus I have to upgrade the pidgin&rsquo;s plugins for using lynx. Folloing is the tips:</p>

<h3>Upgrade SIPE</h3>

<p>Sipe is installed via yaourt:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># yaourt -S pidgin-sipe
</span></code></pre></td></tr></table></div></figure>


<h3>Configure Pidgin</h3>

<p>Edit the existing account via: Edit->Preference->Advanced.   <br/>
The connection type is <code>auto</code>, the authentication scheme is <code>TLS-DSK</code>.   <br/>
In the &ldquo;User Agent&rdquo;, insert following:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>UCCAPI/15.0.4481.1000 OC/15.0.4481.1000
</span></code></pre></td></tr></table></div></figure>


<p>The detailed &ldquo;User Agent&rdquo; descriptions could be refered to following links:   <br/>
<a href="http://sourceforge.net/p/sipe/wiki/Frequently%20Asked%20Questions/#connection-refused-with-error-messagewzxhzdk10you-are-currently-not-using-the-recommended-version-of-the-clientwzxhzdk11you-have-been-rejected-by-the-server-httpsportalmicrosoftonlinecomdownloadlyncaspx">http://sourceforge.net/p/sipe/wiki/Frequently%20Asked%20Questions/#connection-refused-with-error-messagewzxhzdk10you-are-currently-not-using-the-recommended-version-of-the-clientwzxhzdk11you-have-been-rejected-by-the-server-httpsportalmicrosoftonlinecomdownloadlyncaspx</a></p>

<p>Re-enable the account then you can use lync now.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/26/moving-from-working-pc-to-own-usb-disk-based-6/">Moving From Working PC to Own USB-Disk Based 6</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-05-26T08:00:00+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>8:00 am</span></time>
        
         | <a href="/blog/2014/05/26/moving-from-working-pc-to-own-usb-disk-based-6/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Kernel</h3>

<p>As for i686 only support 4GB at most memory, we have to change the existing memory into a new one. PAE based kernel will support up to 64GB memory, so we upgrade our kernel to this one:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>yaourt -S linux-pae
</span></code></pre></td></tr></table></div></figure>


<p>Building will take for a while, two tips is:  <br/>
1. Change the building directory from <code>TMPDIR="/tmp"</code> to <code>TMPDIR=/real_file_system</code>, this configuration file is /etc/makepkg.conf.   <br/>
2. Add the <code>MAKEFLAGS="-j6"</code>, this will speed-up the building procedure.</p>

<h3>FCITX</h3>

<p>We have to set following variables, in /etc/locale.conf:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># Enable UTF-8 with Australian settings.
</span><span class='line'>LANG="en_US.UTF-8"
</span><span class='line'>
</span><span class='line'># Keep the default sort order (e.g. files starting with a '.'
</span><span class='line'># should appear at the start of a directory listing.)
</span><span class='line'>LC_COLLATE="C"
</span><span class='line'>
</span><span class='line'># Set the short date to YYYY-MM-DD (test with "date +%c")
</span><span class='line'>LC_TIME="en_US.UTF-8"
</span></code></pre></td></tr></table></div></figure>


<p>Then we install the googlepinyin input method via:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo pacman -S fcitx-googlepinyin
</span></code></pre></td></tr></table></div></figure>


<p>Now hit <code>CTRL+SPACE</code> you can call the goolgepinyin out.</p>

<h3>Some Other Tools</h3>

<p>Install strace for tracing the program:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo pacman -S strace
</span></code></pre></td></tr></table></div></figure>


<p>flash-plugins:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo pacman -S flashplugin
</span></code></pre></td></tr></table></div></figure>


<p>quazilla, another browser:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo pacman -S qupzilla
</span></code></pre></td></tr></table></div></figure>


<p>When writing octopress based blogs, you will face .rvmrc cannot executed, then enable the terminal emulator&rsquo;s setting, change it as <code>run as login shell</code>.</p>

<p>Some more tips will be added later.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/24/how-to-quickly-solve-python-problems/">How to Quickly Solve Python Problems</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-05-24T10:58:00+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:58 am</span></time>
        
         | <a href="/blog/2014/05/24/how-to-quickly-solve-python-problems/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>问题</h3>

<p>在txt里面打印1-10里面随机的9个数。</p>

<h3>思路</h3>

<h4>如何生成随机数？</h4>

<p>Google &ldquo;generate  random python&rdquo; , 结果如下：   <br/>
<img src="/images/python1.jpg" alt="/images/python1.jpg" /></p>

<p>挨个看，马上你会发现下面这个网页有答案：  <br/>
<a href="http://stackoverflow.com/questions/5555712/generate-a-random-number-in-python">http://stackoverflow.com/questions/5555712/generate-a-random-number-in-python</a></p>

<p>启动终端试验之：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ python
</span><span class='line'>Python 2.7.6 (default, Feb 26 2014, 12:07:17) 
</span><span class='line'>[GCC 4.8.2 20140206 (prerelease)] on linux2
</span><span class='line'>Type "help", "copyright", "credits" or "license" for more information.
</span><span class='line'>&gt;&gt;&gt; from random import randint
</span><span class='line'>&gt;&gt;&gt; randint(2,9)
</span><span class='line'>3
</span><span class='line'>&gt;&gt;&gt; randint(1,10)
</span><span class='line'>9
</span><span class='line'>&gt;&gt;&gt; randint(1,10)
</span><span class='line'>4
</span></code></pre></td></tr></table></div></figure>


<h4>如何循环打印</h4>

<p>照样Google, 搜索关键字" python loop times",结果如下：  <br/>
<img src="/images/python2.jpg" alt="/images/python2.jpg" />  <br/>
随便点点看， 发现python自己的文档里就已经有很详细的关于loop的例子了: <br/>
<a href="https://wiki.python.org/moin/ForLoop">https://wiki.python.org/moin/ForLoop</a></p>

<p>试验之:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&gt;&gt;&gt; for x in range(0,3):
</span><span class='line'>...     print "hello"
</span><span class='line'>... 
</span><span class='line'>hello
</span><span class='line'>hello
</span><span class='line'>hello
</span></code></pre></td></tr></table></div></figure>


<h3>综合，得出答案</h3>

<p>用for的实现:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&gt;&gt;&gt; for x in range(0,9):
</span><span class='line'>...     print random.randrange(1,10)
</span><span class='line'>... 
</span><span class='line'>2
</span><span class='line'>5
</span><span class='line'>3
</span><span class='line'>7
</span><span class='line'>9
</span><span class='line'>4
</span><span class='line'>7
</span><span class='line'>3
</span><span class='line'>1
</span></code></pre></td></tr></table></div></figure>


<p>发散到用while的实现(原代码见上面的wiki网页)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&gt;&gt;&gt; x = 1
</span><span class='line'>&gt;&gt;&gt; while x &lt; 10:
</span><span class='line'>...     print random.randrange(1,10)
</span><span class='line'>...     x += 1
</span><span class='line'>... 
</span><span class='line'>4
</span><span class='line'>4
</span><span class='line'>4
</span><span class='line'>5
</span><span class='line'>1
</span><span class='line'>9
</span><span class='line'>1
</span><span class='line'>8
</span><span class='line'>2
</span></code></pre></td></tr></table></div></figure>


<p>当然你还可以反着弄while:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&gt;&gt;&gt; x = 10
</span><span class='line'>&gt;&gt;&gt; while x &gt; 0:
</span><span class='line'>等等等等，不提示了
</span></code></pre></td></tr></table></div></figure>


<p>`</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/24/moving-from-working-pc-to-own-usb-disk-based-5/">Moving From Working PC to Own USB-Disk Based 5</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-05-24T10:25:00+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:25 am</span></time>
        
         | <a href="/blog/2014/05/24/moving-from-working-pc-to-own-usb-disk-based-5/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Font Customization</h3>

<p>Install following fonts:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S wqy-bitmapfont  wqy-zenhei ttf-arphic-ukai ttf-arphic-uming ttf-fireflysung
</span></code></pre></td></tr></table></div></figure>


<p>And then for more beautiful font, refer to:  <br/>
<a href="http://kkkttt.github.io/blog/2013/12/25/archlinuxzhong-wen-hua-wen-ti/">http://kkkttt.github.io/blog/2013/12/25/archlinuxzhong-wen-hua-wen-ti/</a></p>

<h3>VIM Customization</h3>

<p>Vim is my favorite editor, so maintain a configuration file is necessary for deploying it on various machines.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S ctags
</span></code></pre></td></tr></table></div></figure>


<p>Then copy the default vimrc file from /usr/share/vim74/vimrc_example to your own directory, named it into .vimrc.
Add folllowing lines into .vimrc file:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>" Customization Start
</span><span class='line'>set nu
</span><span class='line'>set cursorline 
</span><span class='line'>set cursorcolumn
</span><span class='line'>"Enable syntax
</span><span class='line'>syntax enable
</span><span class='line'>syntax on
</span><span class='line'>" colorscheme solarized
</span><span class='line'>autocmd BufNewFile,BufReadPost *.ino,*.pde set filetype=cpp
</span><span class='line'>"进行Tlist的设置
</span><span class='line'>""TlistUpdate可以更新tags
</span><span class='line'>map &lt;F3&gt; :silent! Tlist&lt;CR&gt; 
</span><span class='line'>"按下F3就可以呼出了
</span><span class='line'>let Tlist_Ctags_Cmd='ctags' "因为我们放在环境变量里，所以可以直接执行
</span><span class='line'>let Tlist_Use_Right_Window=1 "让窗口显示在右边，0的话就是显示在左边
</span><span class='line'>let Tlist_Show_One_File=0 "让taglist可以同时展示多个文件的函数列表，如果想只有1个，设置为1
</span><span class='line'>let Tlist_File_Fold_Auto_Close=1 "非当前文件，函数列表折叠隐藏
</span><span class='line'>let Tlist_Exit_OnlyWindow=1 "当taglist是最后一个分割窗口时，自动推出vim
</span><span class='line'>let Tlist_Process_File_Always=0 "是否一直处理tags.1:处理;0:不处理。不是一直实时更新tags，因为没有必要
</span><span class='line'>let Tlist_Inc_Winwidth=0
</span><span class='line'>set fileencodings=utf8,cp936,gb18030,big5
</span><span class='line'>"In visual mode, you can simply press ,x and Vim will filter your content
</span><span class='line'>"through tidy.
</span><span class='line'>:vmap ,x :%!tidy -q -i --show-errors 0&lt;CR&gt; "Auto command for clear the html files
</span><span class='line'>:command Thtml :%!tidy -q -i --show-errors 0
</span><span class='line'>:command Txml  :%!tidy -q -i --show-errors 0 -xml
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>" Setting up Vundle - the vim plugin bundler
</span><span class='line'>    let iCanHazVundle=1
</span><span class='line'>    let vundle_readme=expand('~/.vim/bundle/vundle/README.md')
</span><span class='line'>    if !filereadable(vundle_readme)
</span><span class='line'>        echo "Installing Vundle.."
</span><span class='line'>        echo ""
</span><span class='line'>        silent !mkdir -p ~/.vim/bundle
</span><span class='line'>        silent !git clone https://github.com/gmarik/vundle ~/.vim/bundle/vundle
</span><span class='line'>        let iCanHazVundle=0
</span><span class='line'>    endif
</span><span class='line'>    set rtp+=~/.vim/bundle/vundle/
</span><span class='line'>    call vundle#rc()
</span><span class='line'>    Bundle 'gmarik/vundle'
</span><span class='line'>    Bundle 'tpope/vim-fugitive'
</span><span class='line'>    Bundle 'taglist.vim'
</span><span class='line'>    " Bundle 'molokai'
</span><span class='line'>    "Add your bundles here
</span><span class='line'>    "Bundle 'Syntastic' "uber awesome syntax and errors highlighter
</span><span class='line'>    Bundle 'altercation/vim-colors-solarized' 
</span><span class='line'>    Bundle 'https://github.com/tomasr/molokai.git'
</span><span class='line'>    "T-H-E colorscheme
</span><span class='line'>    "Bundle 'https://github.com/tpope/vim-fugitive' "So awesome, it should be illegal 
</span><span class='line'>    "...All your other bundles...
</span><span class='line'>    if iCanHazVundle == 0
</span><span class='line'>        echo "Installing Bundles, please ignore key map error messages"
</span><span class='line'>        echo ""
</span><span class='line'>        :BundleInstall
</span><span class='line'>    endif
</span><span class='line'>" Setting up Vundle - the vim plugin bundler end
</span><span class='line'>
</span><span class='line'>colorscheme molokai
</span><span class='line'>set guifont=YaHei\ Consolas\ Hybrid\ 11.5
</span></code></pre></td></tr></table></div></figure>


<p>Then everything I want is OK.  <br/>
Command for configurating vbundle:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>BundleInstall
</span><span class='line'>BundleSearch
</span></code></pre></td></tr></table></div></figure>


<p>Tree tool has been installed, for view the complex directory structure :</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S tree
</span></code></pre></td></tr></table></div></figure>


<h3>Arduino Related</h3>

<p>Install arduino from yaourt.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ yaourt -S arduino
</span></code></pre></td></tr></table></div></figure>


<p>This will also  install avr-gcc.</p>

<h3>NodeJS</h3>

<p>Install via yaourt:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ yaourt -S nodejs
</span></code></pre></td></tr></table></div></figure>


<p>Basic Tutorial:  <br/>
<a href="http://localhost2/blog/2014/05/14/node-dot-js-quick-start/">http://localhost2/blog/2014/05/14/node-dot-js-quick-start/</a>  <br/>
Later I will add the &ldquo;Chat-like&rdquo; Terminal-emulator series, so this part could be enhanced.</p>

<h3>Editor tools</h3>

<p>Tools which used for writing articles.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S blender dia inkscape scribus
</span><span class='line'>$ yaourt yed
</span><span class='line'>$ yaourt sublime
</span><span class='line'>$ sudo pacman -S gedit
</span><span class='line'>$ sudo pacman -S imagemagick
</span></code></pre></td></tr></table></div></figure>


<h3>Awesome Configuration</h3>

<p>Dmenu which used for run applications:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S dmenu
</span></code></pre></td></tr></table></div></figure>


<p>Screen shot:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S scrot
</span></code></pre></td></tr></table></div></figure>


<p>Edit the /usr/bin/mycapscr</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[Trusty@~]$ cat /usr/bin/mycapscr 
</span><span class='line'> scrot -s '%Y_%m_%d_%H_%M_%S_$wx$h.jpg' -e 'mv $f ~/capscr/'
</span></code></pre></td></tr></table></div></figure>


<h3>Other Tools</h3>

<p>Tcpdump for capturing packets.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S tcpdump
</span></code></pre></td></tr></table></div></figure>


<p>Whatpulse for recording key click times:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo yaourt -S whatpulse
</span><span class='line'>$ sudo gpasswd -a Trusty input
</span></code></pre></td></tr></table></div></figure>


<p>Remote Desktop:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S rdesktop
</span></code></pre></td></tr></table></div></figure>


<p>Conky and Conky configuration file.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S conky
</span></code></pre></td></tr></table></div></figure>


<p>hex tool:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S ghex
</span></code></pre></td></tr></table></div></figure>


<p>Calculator:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S bc
</span><span class='line'>$ pacman -S gnome-calculator
</span></code></pre></td></tr></table></div></figure>


<p>Nautlus:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S nautilus
</span></code></pre></td></tr></table></div></figure>


<p>rar:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S rar
</span></code></pre></td></tr></table></div></figure>


<p>autossh:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S autossh
</span></code></pre></td></tr></table></div></figure>


<p>cmake:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S cmake
</span></code></pre></td></tr></table></div></figure>


<p>cronie:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S connie
</span></code></pre></td></tr></table></div></figure>


<p>elinks:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S elinks
</span></code></pre></td></tr></table></div></figure>


<p>eog:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S eog
</span></code></pre></td></tr></table></div></figure>


<p>ethtool</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S ethtool
</span></code></pre></td></tr></table></div></figure>


<p>expect:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S expect
</span></code></pre></td></tr></table></div></figure>


<p>feh:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S feh
</span></code></pre></td></tr></table></div></figure>


<p>gparted:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S gparted
</span></code></pre></td></tr></table></div></figure>


<p>ipython2:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S ipython2
</span></code></pre></td></tr></table></div></figure>


<p>ntfs-3g:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S ntfs-3g
</span></code></pre></td></tr></table></div></figure>


<p>sakura lilyterm:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S sakura lilyterm
</span></code></pre></td></tr></table></div></figure>


<p>tmux:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S tmux
</span></code></pre></td></tr></table></div></figure>


<p>w3m,lynx:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S w3m lynx
</span></code></pre></td></tr></table></div></figure>


<p>xclip:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S xclip
</span></code></pre></td></tr></table></div></figure>


<p>xlockmore:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S xlockmore
</span></code></pre></td></tr></table></div></figure>


<h3>E-Book Tools</h3>

<p>XPdf:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S xpdf
</span></code></pre></td></tr></table></div></figure>


<p>calibre:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pacman -S calibre
</span></code></pre></td></tr></table></div></figure>


<p>Rstudio:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ yaourt rstudio-desktop-bin
</span></code></pre></td></tr></table></div></figure>


<p>pandoc(Problem!):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ yaourt pandoc
</span><span class='line'># Notice, you have to add curl -k in /etc/makepkg.conf
</span></code></pre></td></tr></table></div></figure>


<p>briss(For cutting pdf into 6 inch):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ yaourt briss
</span></code></pre></td></tr></table></div></figure>


<p>coolreader(For reading epub):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ yaourt -S coolreader
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/23/moving-from-working-pc-to-own-usb-disk-based-4/">Moving From Working PC to Own USB-Disk Based 4</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-05-23T09:50:00+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2014</span></span> <span class='time'>9:50 am</span></time>
        
         | <a href="/blog/2014/05/23/moving-from-working-pc-to-own-usb-disk-based-4/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Writing Blog</h3>

<p>I use octopress for writing blog, so this time in USB system I also want to enable it.  <br/>
Edit the <code>/etc/hostname</code> and name my computer into &ldquo;USBArch&rdquo;, because we want to setup the id_rsa.pub in next step.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ssh-keygen
</span><span class='line'>$ cat ~/.ssh/id_rsa.pub
</span></code></pre></td></tr></table></div></figure>


<p>Copy the content and add it into the <a href="" title="https://github.com/settings/ssh">&ldquo;https://github.com/settings/ssh&rdquo;</a>,
Then use command <code>ssh -T git@github.com</code> to verify if you can successfully be authenticated.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git clone git@github.com:kkkttt/debian_octopress.git
</span><span class='line'>$ git clone git@github.com:kkkttt/herokublog.git
</span></code></pre></td></tr></table></div></figure>


<p>Now the repository is OK, but the ruby environment should be set.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ curl -L https://get.rvm.io | bash -s stable
</span><span class='line'>$ rvm use 1.9.3
</span><span class='line'># log out the terminal and log in again
</span><span class='line'>$ rvm rubygems latest
</span><span class='line'>$ cdheroku
</span><span class='line'># Choose yes, trust the .rvmrc
</span><span class='line'>$ gem install bundler
</span><span class='line'>$ bundle install
</span></code></pre></td></tr></table></div></figure>


<p>Test the rake command:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake generate && rake deploy
</span></code></pre></td></tr></table></div></figure>


<p>OK, Then we can octopress for writing blogs.</p>

<h3>WebServer</h3>

<p>We will use xampp for webserver, because it&rsquo;s very convinient to configure. Login as root, then:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># yaourt xampp
</span></code></pre></td></tr></table></div></figure>


<p>The detailed configuration steps could be viewed at:  <br/>
<a href="http://kkkttt.github.io/blog/2014/04/23/deploy-xampp-on-archlinux/">http://kkkttt.github.io/blog/2014/04/23/deploy-xampp-on-archlinux/</a></p>

<p>In fact here I met a very strange problem, it seems if I put the whole blog under <code>/home/Trusty/code</code>, then the browser will complains that 403, so here I make a trick in rakefile(Which is used for generating the static website), add following line in <code>rake generate</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>desc "Generate jekyll site"
</span><span class='line'>task :generate do
</span><span class='line'>  raise "### You haven't set anything up yet. First run `rake install` to set up an Octopress theme." unless File.directory?(source_dir)
</span><span class='line'>  puts "## Generating Site with Jekyll"
</span><span class='line'>  system "compass compile --css-dir #{source_dir}/stylesheets"
</span><span class='line'>  system "jekyll"
</span><span class='line'>  system "sudo cp -ar ./public/ /opt/ && sudo chown -R nobody /opt/public/ && sudo chgrp -R nobody /opt/public/ && sudo chmod 755 -R /opt/public/"
</span><span class='line'>end
</span></code></pre></td></tr></table></div></figure>


<p>I don&rsquo;t find another method, because xampp is too complex for configuring, we needn&rsquo;t spend much more time on it.</p>

<p>Tomorrow I will setup the other language development environment.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/22/moving-from-working-pc-to-own-usb-disk-based-3/">Moving From Working PC to Own USB-Disk Based 3</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-05-22T15:06:00+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2014</span></span> <span class='time'>3:06 pm</span></time>
        
         | <a href="/blog/2014/05/22/moving-from-working-pc-to-own-usb-disk-based-3/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Trouble Shooting</h3>

<p>Unfortuately the qemu based pysical disk can&rsquo;t bootup the machine correctly, so I re-intall the sytem on USB-Disk from the scratch. This time the problem appears as another: It can startup the machine, but failed to boot-up in qemu.   <br/>
So I have to changed to use VirtualBox for booting the system.   <br/>
Get the disk id via;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ $ ls -l /dev/disk/by-id
</span><span class='line'>lrwxrwxrwx 1 root root  9 May 22 14:45 usb-ATA_ST980811AS_xxxxxxxx-0:0 -&gt; ../../sdb
</span></code></pre></td></tr></table></div></figure>


<p>Then use VirtualBox&rsquo;s Internal command for creating the vmdk file, this vmdk file actually contains the physical disk.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ VBoxManage internalcommands createrawvmdk -filename ./rawusb1.vmdk -rawdisk /dev/disk/by-id/usb-ATA_ST980811AS_XXXXXXXXXXX-0:0
</span><span class='line'>RAW host disk access VMDK file ./rawusb1.vmdk created successfully.
</span><span class='line'>$ sudo chown -R Trusty *
</span></code></pre></td></tr></table></div></figure>


<p>Now create a new virtual machine in virtualbox, use the newly created rawusb1.vmdk, bootup and you got the physical disk based virtual machine running.</p>

<h3>Continue Install System</h3>

<h4>Python related environment</h4>

<p>Install virtualenvironment via:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo pacman -S python2-virtualenv python-virtualenv python-virtualenvwrapper
</span></code></pre></td></tr></table></div></figure>


<p>In company machine, use pip freeze for getting all of the packages:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ workon venv2
</span><span class='line'>$ pip freeze&gt;requirement.txt
</span></code></pre></td></tr></table></div></figure>


<p>In usb-disk based machine, install from the requirement.txt</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ mkdir .virtualenvs
</span><span class='line'># Add following lines into the .bashrc
</span><span class='line'>export WORKON_HOME=~/.virtualenvs
</span><span class='line'>source /usr/bin/virtualenvwrapper.sh
</span><span class='line'>$ mkvirtualenv -p /usr/bin/python2.7 venv
</span><span class='line'>$ pip install -r requirements.txt
</span></code></pre></td></tr></table></div></figure>


<p>After we update the installation, the package is the same as in computer machine.</p>

<h4>ZSH</h4>

<p>Install zsh and use it for replacing default bash:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S zsh
</span><span class='line'>$ chsh -s $(which zsh)
</span></code></pre></td></tr></table></div></figure>


<p>Now we can download the .zshrc from the company machine to usb disk based system.</p>

<h4>Configure GIT Under Proxy</h4>

<p>Setting the proxy and set it for git using proxy:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(venv)[Trusty@localhost ~]$ gcc -o connect connect.c 
</span><span class='line'>(venv)[Trusty@localhost ~]$ sudo mv connect /usr/bin/
</span><span class='line'>(venv)[Trusty@localhost ~]$ sudo chmod 777 /usr/bin/connect 
</span><span class='line'>(venv)[Trusty@localhost ~]$ sudo vim /usr/bin/myproxy
</span><span class='line'>(venv)[Trusty@localhost ~]$ sudo chmod 777 /usr/bin/myproxy
</span><span class='line'>(venv)[Trusty@localhost ~]$ cat /usr/bin/myproxy 
</span><span class='line'>/usr/bin/connect -H 1xx.xxx.xxx.xxx:2xxxx $@
</span><span class='line'>(venv)[Trusty@localhost ~]$ git config --global core.gitproxy "/usr/bin/myproxy for *.*"
</span><span class='line'>(venv)[Trusty@localhost ~]$ git config --global user.name "feixxxx"
</span><span class='line'>(venv)[Trusty@localhost ~]$ git config --global user.email "feixxxx@gmail.com"
</span></code></pre></td></tr></table></div></figure>


<h4>BlueTooth</h4>

<p>Install blueman:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S patch automake autoconf libtool 
</span><span class='line'>$ yaourt blueman
</span><span class='line'># choose blueman-bzr
</span><span class='line'>$ sudo pacman -S bluez-utils bluez-libs python2-pybluez
</span><span class='line'>$ yaourt -S bluez4
</span><span class='line'>$ yaourt pulseaudio-bluez4
</span></code></pre></td></tr></table></div></figure>


<p>Configure bluetooth:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo systemctl start bluetooth
</span><span class='line'>$ sudo systemctl enable bluetooth
</span><span class='line'>$ cat /etc/bluetooth/audio.conf
</span><span class='line'>
</span><span class='line'>[General]
</span><span class='line'>Enable=Socket
</span><span class='line'>
</span><span class='line'>[A2DP]
</span><span class='line'>SBCSources=1
</span><span class='line'>$ 
</span></code></pre></td></tr></table></div></figure>


<p>Later bluemanager will be added into the awesome startup application.  <br/>
The configuration is pretty complex, this is the start-point for settingup the bluetooth, later we will configure the bluetooth headset.</p>

<h4>Tray items</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S udiskie wicd wicd-gtk
</span></code></pre></td></tr></table></div></figure>


<h4>Awesome Customization</h4>

<p>Download the themes from github:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S hddtemp vicious
</span><span class='line'>$ git clone https://github.com/Morley93/awesome-themes-3.5.git
</span></code></pre></td></tr></table></div></figure>


<p>Still have some problems. Need update.  <br/>
Then get the customized awesome configuration file. Be sure to use the default, because later you can customize yourself.</p>

<p>Solve wicd error:  <br/>
Error:  Could not connect to wicd&rsquo;s D-Bus interface</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -R wicd wicd-gtk
</span><span class='line'>$ sudo rm -rf /etc/wicd /var/log/wicd /etc/dbus-1/system.d/wicd*
</span><span class='line'>$ sudo pacman -S wicd wicd-gtk
</span><span class='line'>$ sudo pacman -Syu systemd-sysvcompat
</span><span class='line'>$ sudo gpasswd -a Trusty users
</span><span class='line'>$ sudo systemctl enable wicd
</span><span class='line'>$ sudo systemctl start wicd
</span></code></pre></td></tr></table></div></figure>


<p>Now your wicd is OK for see.</p>

<p>udiskie2 problem, cannot start because lack of PyYAML:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S python2-pip
</span><span class='line'>$ sudo pip2 install PyYAML
</span></code></pre></td></tr></table></div></figure>


<p>Now seems all of your tray icons will be OK.</p>

<h4>System Tools</h4>

<p>Install the mlocate so we can use updatedb:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S mlocate
</span><span class='line'>$ sudo updatedb
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/32">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/30">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/10/15/use-openwrt-router-for-lan-forwarding/">Use OpenWRT Router for Lan Forwarding</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/14/tips-for-20151014/">Tips for 20151014</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/14/tips-on-cloud-init-and-cloudstack/">Tips on Cloud-Init and CloudStack(2)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/13/tips-on-cloud-init-and-cloudstack/">Tips on Cloud-Init and CloudStack</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/13/cloud-init-grow-partition/">Cloud-Init Grow Partition</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Dash -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'dashsagittariussglory';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
