
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dash</title>
  <meta name="author" content="Dash">

  
  <meta name="description" content="Recently I will moving an old-style website from ASP to WorldPress, that&rsquo;s a funny work. This series will record the steps for migrating. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://purplepalmdash.github.io/posts/36">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/purplepalmdash/atom.xml" rel="alternate" title="Dash" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.useso.com/js/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Dash</a></h1>
  
    <h2>Get busy living, or get busy dying.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/purplepalmdash/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:purplepalmdash.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/15/migrating-from-asp-to-wordpress/">Migrating From ASP to WordPress(1)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-03-15T11:00:00+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:00 am</span></time>
        
         | <a href="/blog/2014/03/15/migrating-from-asp-to-wordpress/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently I will moving an old-style website from ASP to WorldPress, that&rsquo;s a funny work. This series will record the steps for migrating. <br /></p>

<h3>Preparation</h3>

<p>First I got all of the files which locates in the ASP.NET Server, the database is very simple, it&rsquo;s a mdb file, which could be viewed by Microsoft Access.<br /></p>

<p>The static files and images could also be downloaded from the server, thus the materials is enough for building a whole-new WorldPress based website.<br /></p>

<h3>Using Python To Generate Content</h3>

<p>All of the webpage information are located in the mdb file, thus we have to do some dealing with this database file. Python could easily retrieve the data out from the database.<br />
Install pyodbc:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pip install pyodbc
</span></code></pre></td></tr></table></div></figure>


<p>Notice when you are using Microsoft  Access for visiting the database, the system will automatically generate a ldb file for you.<br /></p>

<p>In Linux, the pyodbc will encouter un-predicted problems, so I use ActivePython in Windows for analyzing the mdb file.<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ pypm search pyodbc
</span><span class='line'>$ pypm install pyodbc
</span></code></pre></td></tr></table></div></figure>


<p>Now begin to analyse the database</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>TBD
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/14/trouble-shotting-on-wordpress/">Trouble-Shotting on Wordpress</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-03-14T15:52:00+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>3:52 pm</span></time>
        
         | <a href="/blog/2014/03/14/trouble-shotting-on-wordpress/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Since the Wordpress is located at home, there are several problems for dealing with.<br /></p>

<h3>Changeing Apache Listening Port</h3>

<p>Nanjing Unicom has banned the port 80, thus I have to change the default listening port of apache from 80 to other ports. Following is How-To:<br />
First import an variable in /etc/apache2/envvars:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>export VHOST_PORT_HTTP=7777
</span></code></pre></td></tr></table></div></figure>


<p>Then Change the /etc/apache2/ports.conf: <br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># NameVirtualHost *:80
</span><span class='line'># Listen 80
</span><span class='line'>NameVirtualHost *:${VHOST_PORT_HTTP}
</span><span class='line'>Listen ${VHOST_PORT_HTTP}
</span></code></pre></td></tr></table></div></figure>


<p>Finally change the site-enabled:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@arm:/etc/apache2# cat sites-enabled/000-default
</span><span class='line'>&lt;VirtualHost *:${VHOST_PORT_HTTP}&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Now restart the apache2 service, you should see the apache listens the 7777 port. <br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/etc/init.d/apache2 restart
</span></code></pre></td></tr></table></div></figure>


<h3>Configurating the WordPress</h3>

<p>Install this light-weight browser for changing configurations. <br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pacman -S midori
</span></code></pre></td></tr></table></div></figure>


<p>After remote login with &ldquo;ssh -Y&rdquo;, simply input: <br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>midori 
</span></code></pre></td></tr></table></div></figure>


<p>Then you can get a local window. <br />
But wait, midori relies on window, but we&rsquo;d better do everything in command-line for savign the bandwidth, thus we install the elinks, and use it for configurating the wordpress.<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ apt-get install elinks
</span></code></pre></td></tr></table></div></figure>


<p>You have to change the configuration->General, from <a href="http://xxx.xxx.xxx.xxx">http://xxx.xxx.xxx.xxx</a> to <a href="http://xxx.xxx.xxx.xxx:7777,">http://xxx.xxx.xxx.xxx:7777,</a> then we can change the port and let it show in browser. <br /></p>

<p>Now you can access the wordpress in everywhere.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/13/customize-wordpress-on-beaglebone-black/">Customize Wordpress on BeagleBone Black</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-03-13T16:59:00+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>4:59 pm</span></time>
        
         | <a href="/blog/2014/03/13/customize-wordpress-on-beaglebone-black/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For Using proxy for Wordpress, we can directly edit the wp-config file:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cat wp-config.php
</span><span class='line'>/** Set following for working behind the proxy **/
</span><span class='line'>//define('WP_PROXY_HOST', '10.0.0.221');
</span><span class='line'>//define('WP_PROXY_PORT', '9001');
</span><span class='line'>#define('WP_PROXY_BYPASS_HOSTS','*.local-intranet');
</span><span class='line'>##
</span><span class='line'>define('WP_EMMORY_LIMIT', '64M');
</span></code></pre></td></tr></table></div></figure>


<p>A trouble shooting, you have to edit the /etc/resolv.conf to change the default dns server, then your wordpress could reach the network and install new plugins or themes. <br /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/13/setting-up-wordpress-on-beaglebone-black/">Setting Up Wordpress on BeagleBone Black</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-03-13T14:50:00+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>2:50 pm</span></time>
        
         | <a href="/blog/2014/03/13/setting-up-wordpress-on-beaglebone-black/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Since BeagleBone Black&rsquo;s hardware configuration is enough for running LAMP, I decide to run wordpress on it. <br /></p>

<h3>Environment</h3>

<p>Hardware Configuration:<br />
CPU: Generic AM33XX (Flattened Device Tree)<br />
MEM: MemTotal:         507428 kB<br />
Disk: 1.8'&lsquo; USB Disk, 30 GB<br />
I also add 512MB swapfile for swapping partition. <br /></p>

<p>Software Configuration:<br />
Kernel: Linux arm 3.8.13-bone30 #1 SMP Mon Nov 18 14:53:22 CST 2013 armv7l GNU/Linux<br />
OS:  Debian GNU/Linux 7 \n \l<br /></p>

<h3>LAMP Configuration</h3>

<h4>Install Apache<br /></h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ apt-get install apache2
</span></code></pre></td></tr></table></div></figure>


<p>After installation, simply open the browser and visit the <a href="http://YourIPAddress,">http://YourIPAddress,</a> if you can find &ldquo;It works!&rdquo;, then this says the apache server is running now. <br /></p>

<h4>Install MySQL<br /></h4>

<p>MySQL is a powerful database management system which is used for organizing and retrieving data.<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ apt-get install mysql-server libapache2-mod-auth-mysql php5-mysql
</span></code></pre></td></tr></table></div></figure>


<p>You should be asked to provide the MySQL &ldquo;root&rdquo; user password.<br />
Activate MySQL via following command:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ mysql_install_db
</span><span class='line'>Change the root password? [Y/n] n 
</span><span class='line'>Remove anonymous users? [Y/n] Y
</span><span class='line'>Disallow root login remotely? [Y/n] Y
</span><span class='line'>Remove test database and access to it? [Y/n] Y
</span><span class='line'>Reload privilege tables now? [Y/n] Y
</span></code></pre></td></tr></table></div></figure>


<p>Now the MySQL is OK, you have to install PHP<br /></p>

<h4>Install PHP<br /></h4>

<p>Install following packages:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ apt-get install php5 libapache2-mod-php5 php5-mcrypt
</span></code></pre></td></tr></table></div></figure>


<p>Edit the directory index file:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># cat /etc/apache2/mods-enabled/dir.conf
</span><span class='line'>&lt;IfModule mod_dir.c&gt;
</span><span class='line'>          DirectoryIndex index.php index.html index.cgi index.pl index.php index.xhtml index.htm
</span><span class='line'>&lt;/IfModule&gt;
</span><span class='line'>Install modules for using the searched result:&lt;br /&gt;
</span><span class='line'>apt-cache search php5-
</span><span class='line'>Testing PHP on your own apache search:&lt;br /&gt;
</span><span class='line'>root@arm:/home# cat /var/www/info.php
</span><span class='line'>&lt;?php
</span><span class='line'>phpinfo();
</span><span class='line'>?&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Restart apache server and view the result:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># /etc/init.d/apache2 restart
</span></code></pre></td></tr></table></div></figure>


<p>View the <a href="http://YourIpAddress/info.php">http://YourIpAddress/info.php</a> you can see the php printed out messages. <br /></p>

<h3>Wordpress Setup</h3>

<p>Download the latest Wordpress via:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># wget http://wordpress.org/latest.tar.gz
</span></code></pre></td></tr></table></div></figure>


<p>Install the ntp server, or you may meet some time and date problem:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># apt-get install ntp
</span></code></pre></td></tr></table></div></figure>


<p>Ok, the time is really an issue, gonna be discussed later. <br />
Simply set the time via &ldquo; date -s &rdquo;$timestring"&ldquo; is enough.<br /></p>

<p>Now uncompress the wordpress. <br /></p>

<p>Create the Wordpress Database and User:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># mysql -u root -p
</span><span class='line'>mysql&gt; CREATE DATABASE wordpress;
</span><span class='line'>Query OK, 1 row affected (0.01 sec)
</span><span class='line'>mysql&gt; CREATE USER wordpressuser@localhost;
</span><span class='line'>Query OK, 0 rows affected (0.00 sec)
</span><span class='line'>mysql&gt; SET PASSWORD FOR wordpressuser@localhost= PASSWORD("xxxxxxxx");
</span><span class='line'>Query OK, 0 rows affected (0.00 sec)
</span><span class='line'>mysql&gt; GRANT ALL PRIVILEGES ON wordpress.* TO wordpressuser@localhost IDENTIFIED BY 'password';
</span><span class='line'>Query OK, 0 rows affected (0.00 sec)
</span><span class='line'>mysql&gt; FLUSH PRIVILEGES;
</span><span class='line'>Query OK, 0 rows affected (0.00 sec)
</span><span class='line'>mysql&gt; exit
</span><span class='line'>Bye
</span></code></pre></td></tr></table></div></figure>


<p>Setup the WordPress Configuration:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cp ~/wordpress/wp-config-sample.php ~/wordpress/wp-config.php
</span></code></pre></td></tr></table></div></figure>


<p>Edit the configuration file:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cat ~/wordpress/wp-config.php
</span><span class='line'>// ** MySQL settings - You can get this info from your web host ** //
</span><span class='line'>/** The name of the database for WordPress */
</span><span class='line'>define('DB_NAME', 'wordpress');
</span><span class='line'>
</span><span class='line'>/** MySQL database username */
</span><span class='line'>define('DB_USER', 'wordpressuser');
</span><span class='line'>
</span><span class='line'>/** MySQL database password */
</span><span class='line'>define('DB_PASSWORD', 'password');
</span></code></pre></td></tr></table></div></figure>


<p>Install rsync:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># apt-get install rsync
</span></code></pre></td></tr></table></div></figure>


<p>Use rsync for sync to the website&rsquo;s root directory:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># rsync -avP ~/wordpress/ /var/www/
</span></code></pre></td></tr></table></div></figure>


<p>Change to the website&rsquo;s root directory and change the ownership to the apache user:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>root@arm:/etc# cd /var/www/
</span><span class='line'>root@arm:/var/www# chown www-data:www-data /var/www -R 
</span><span class='line'>root@arm:/# chmod g+w /var/www -R 
</span></code></pre></td></tr></table></div></figure>


<p>To know the username of apache:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>lsof -i 
</span><span class='line'>Notice the :http part.
</span></code></pre></td></tr></table></div></figure>


<p>Install php5-gd , which is the required php module to run wordpress.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>apt-get install php5-gd
</span></code></pre></td></tr></table></div></figure>


<p>Now access the page of  /wp-admin/install.php  is OK. or you can access the <a href="http://YourIPAddress">http://YourIPAddress</a> is ready for install the wordpress on your BeagleBone Black.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/12/migrate-beaglebone-black/">Migrate BeagleBone Black</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-03-12T19:40:00+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>7:40 pm</span></time>
        
         | <a href="/blog/2014/03/12/migrate-beaglebone-black/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Since I want to run wordpress at home, while my RaspberryPI got only 256M RAM, it will be hard to run such a heavy application, I use BeagleBone Black to run it, BeagleBone Black has 512M RAM, which will be enough for run wordpress and etc. <br /></p>

<h3>Setting up NFS Server</h3>

<p>First I have to setup a nfs server in my LAN, I set it on my RaspberryPI, since I got only 1 USB hub which serves RaspberryPI, a 500GB harddisk has been attached to the USB hub, which is quite enough for serving nfs servers. <br />
My RaspberryPI runs archlinux, then I follow the ArchLinux&rsquo;s Wiki setting up the nfs server<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pacman -S nfs-utils
</span><span class='line'># cat /etc/exports
</span><span class='line'>/media/debianroot 10.0.0.1/24(rw,sync,no_subtree_check,no_root_squash) 10.0.0.11(rw,sync,no_subtree_check,no_root_squash)
</span><span class='line'>### Check the result
</span><span class='line'>root@alarmpi ~]# exportfs -arv
</span><span class='line'>exporting 10.0.0.11:/media/debianroot
</span><span class='line'>exporting 10.0.0.1/24:/media/debianroot
</span><span class='line'>exporting 10.0.0.11:/media/debianroot to kernel
</span><span class='line'>exportfs: 10.0.0.11:/media/debianroot: Function not implemented
</span><span class='line'>### Change the domainname to "localhost"
</span><span class='line'>vim /etc/idmapd.conf 
</span><span class='line'>### Testing the services
</span><span class='line'>systemctl start rpc-idmapd.service
</span><span class='line'>systemctl start rpc-mountd.service
</span><span class='line'>### Enable the Services at startup
</span><span class='line'>systemctl enable rpc-mountd.service
</span><span class='line'>systemctl enable rpc-idmapd.service
</span></code></pre></td></tr></table></div></figure>


<p>Want testing the nfs, simply use following command: <br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mount -t nfs 10.0.0.230:/media/debianroot /mnt1
</span></code></pre></td></tr></table></div></figure>


<p>If you can see the mnt1 directory has the same content as in nfs server, you can use nfs now. <br /></p>

<h3>Change the BeagleBone Startup file</h3>

<p>In SD card, change uEnv.txt</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@DashArch mnt]# cat uEnv.txt
</span><span class='line'>kernel_file=zImage
</span><span class='line'>initrd_file=uInitrd
</span><span class='line'>serverip=10.0.0.230
</span><span class='line'>ipaddr=10.0.0.122
</span><span class='line'>rootpath=/media/debianroot
</span><span class='line'>console=ttyO0,115200n8
</span></code></pre></td></tr></table></div></figure>


<h3>Replace Pogoplug</h3>

<p>To replace Pogoplug at home, I have to do the following issues:<br />
1. Use No-ip on BeagleBone, replacing the Pogoplug&rsquo;s No-ip.<br />
2. Run Apache or nginx instead of Pogoplug&rsquo;s service.</p>

<p>Use No ip: <br />
Install no-ip on RaspberryPI:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pacman -S noip
</span></code></pre></td></tr></table></div></figure>


<p>Configure noip on RaspberryPI:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>noip2 -C -Y
</span><span class='line'>[root@alarmpi ~]# systemctl start noip2
</span><span class='line'>[root@alarmpi ~]# systemctl enable noip2
</span><span class='line'>ln -s '/usr/lib/systemd/system/noip2.service' '/etc/systemd/system/multi-user.target.wants/noip2.service'
</span><span class='line'>[root@alarmpi ~]# ps -ef | grep noip
</span><span class='line'>nobody     411     1  0 00:40 ?        00:00:00 /usr/bin/noip2 -c /etc/no-ip2.conf
</span></code></pre></td></tr></table></div></figure>


<p>Now we need to replace Pogoplug&rsquo;s service to RaspberryPI:<br />
First we change the direct port 22 from pogoplug to RasspberryPI on Router. <br /></p>

<p><img src="/images/redirect.jpg" alt="/images/redirect.jpg" /></p>

<p>Now your no-ip pointed machine changed from Pogoplug into RaspberryPI. <br /></p>

<h3>Remote update</h3>

<p>Simply replacing the ssh related via setting up the different id_rsa:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cat .ssh/id_rsa.pub | ssh root@xxx.xx.xx.com 'cat &gt;&gt; .ssh/authorized_keys
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/11/updating-apache-configuration/">Updating Apache Configuration</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-03-11T09:45:00+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>9:45 am</span></time>
        
         | <a href="/blog/2014/03/11/updating-apache-configuration/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Due to ArchLinux&rsquo;s &ldquo;pacman -Syu &ndash;noconfirm&rdquo;, My apache upgraded from 2.2 to 2.4, thus the configuration file won&rsquo;t work for the new version. When using &ldquo;systemctl restart httpd.service&rdquo;, it complains some module won&rsquo;t be loaded. <br /></p>

<p>For solving this problem, first make sure you upgraded to the newest version, then go to directory of &ldquo;/etc/httpd/conf&rdquo;, backup your own httpd.conf, then move the httpd.conf.pacnew into httpd.conf, then restart the httpd.service. <br /></p>

<p>The configuration of the httpd.conf should also be upgraded, notice the following lines in my own configuration file:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>DocumentRoot "/home/Trusty/code/octo/heroku/Tomcat/public"
</span><span class='line'>#DocumentRoot "/srv/http"
</span><span class='line'>#&lt;Directory "/srv/http"&gt;
</span><span class='line'>&lt;Directory "/home/Trusty/code/octo/heroku/Tomcat/public"&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Restart again, and now your apache should work properly again.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/07/linux-container-on-archlinux/">Linux Container on ArchLinux</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-03-07T14:46:00+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>2:46 pm</span></time>
        
         | <a href="/blog/2014/03/07/linux-container-on-archlinux/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Install lxc on ArchLinux:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo pacman -S lxc
</span></code></pre></td></tr></table></div></figure>


<p>After installation, we can check Linux distribution&rsquo;s kernel support for LXC, use lxc-checkconfig to view: <br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>all of the configurations will be listed here
</span></code></pre></td></tr></table></div></figure>


<p>Create a Ubuntu Server LXC Virtual Computer System: <br /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/05/font-config-in-chromium/">Font Config in Chromium</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-03-05T10:57:00+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:57 am</span></time>
        
         | <a href="/blog/2014/03/05/font-config-in-chromium/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When you met chromium font ugly problem, be sure to set the following items:<br />
Settings->Advanced Settings-> Customize fonts-> Fonts and encoding<br />
Be sure your configuration is listed as the following picture: <br /></p>

<p><img src="/images/fontsconfig.jpg" alt="/images/fontsconfig.jpg" /></p>

<p>After the configuration, your chinese fonts will be displayed pretty!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/28/things-to-be-done-in-this-weekend/">Things to Be Done in This Weekend</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-02-28T18:49:00+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>6:49 pm</span></time>
        
         | <a href="/blog/2014/02/28/things-to-be-done-in-this-weekend/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have to finish the following things: <br /></p>

<ul>
<li>Python Scripts which fetch back the Baidu disk, finish the exception.</li>
<li>RealTime OS on ATMEga328.</li>
<li>Python API for fetching back the pm data should be updated.</li>
<li>tumx learning.</li>
<li>Use markdown for writing the CV.</li>
<li>Hard disk cleaning and orgnization.</li>
<li>Writing articles for enum feature.</li>
<li>Maybe the pelican template should be written.</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/26/converting-markdown-into-pdf-under-archlinux/">Converting Markdown Into PDF Under ArchLinux</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-02-26T15:08:00+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>3:08 pm</span></time>
        
         | <a href="/blog/2014/02/26/converting-markdown-into-pdf-under-archlinux/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today I want to convert the webpages which wrote from markdown into PDF format file. Following is the steps for how to convert. <br />
Just one command is OK:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pandoc jailbreak.md -o jailbreak.pdf --latex-engine=xelatex -V mainfont="WenQuanYi Zen Hei"
</span></code></pre></td></tr></table></div></figure>


<p>But the link will cause the format ugly, then we have to use a template for fixing this, download the template from following URL:<br/>
<a href="https://raw.github.com/tzengyuxio/pages/gh-pages/pandoc/pm-template.latex">https://raw.github.com/tzengyuxio/pages/gh-pages/pandoc/pm-template.latex</a><br />
Then put it into the same directory, replace the following lines with the fonts which you have installed on your system:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># Following will be deleted
</span><span class='line'>\setCJKmainfont{LiHei Pro}    % 設定中文字型
</span><span class='line'>\setCJKmainfont{WenQuanYi Zen Hei}    % 設定中文字型
</span></code></pre></td></tr></table></div></figure>


<p>Now you lock of Microsoft fonts, simply copy it from your own windows machine, and setup a link<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ln -s /windows/Windows/Fonts /usr/share/fonts/WindowsFonts
</span><span class='line'># Update font cache
</span><span class='line'>fc-cache
</span></code></pre></td></tr></table></div></figure>


<p>Generate the pdf file with the following command:<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pandoc jailbreak.md -o jailbreak1.pdf --latex-engine=xelatex -V mainfont="WenQuanYi Zen Hei" --template=pm-template.latex
</span></code></pre></td></tr></table></div></figure>


<p>Now you will see the well-formated PDF file has been generated from the Markdown file. <br /></p>

<p><img src="/images/wellpdf.jpg" alt="/images/wellpdf.jpg" /></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/37">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/35">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/08/20/kickstarting-ubuntu-in-spacewalk/">Kickstarting Ubuntu in SpaceWalk</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/17/auto-configure-spacewalk-ubuntu-agent/">Auto Configure SpaceWalk Ubuntu Agent</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/13/preseed-partition-configuration/">Preseed Partition Configuration</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/13/build-nbd-kernel-module-on-centos7/">Build Nbd Kernel Module on CentOS7</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/08/13/automatically-create-virtual-machine/">Automatically Create Virtual Machine</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Dash -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'dashsagittariussglory';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
