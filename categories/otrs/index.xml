<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Otrs on Dash</title>
    <link>http://purplepalmdash.github.io/categories/otrs/</link>
    <description>Recent content in Otrs on Dash</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 29 Jun 2014 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://purplepalmdash.github.io/categories/otrs/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>OTRS on Ubuntu</title>
      <link>http://purplepalmdash.github.io/2014/06/29/otrs-on-ubuntu/</link>
      <pubDate>Sun, 29 Jun 2014 00:00:00 +0000</pubDate>
      
      <guid>http://purplepalmdash.github.io/2014/06/29/otrs-on-ubuntu/</guid>
      <description>&lt;p&gt;First get the source code from official website, and untar it via:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo tar xjvf otrs-3.3.8.tar.bz2 -C /opt/
$ cd /opt
$ sudo mv otrs-3.3.8/ otrs

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Check the modules :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ /opt/otrs/bin/otrs.CheckModules.pl

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Install following packages:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo apt-get install liblwp-useragent-determined-perl libapache2-mod-perl2 libnet-dns-perl libnet-smtp-ssl-perl libnet-smtp-tls-butmaintained-perl libyaml-perl
$ sudo apt-get install libgd-text-perl libjson-xs-perl libpdf-api2-perl libtext-csv-xs-perl libxml-parser-perl

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Add corresponding users and group:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo useradd -d /opt/otrs/ -c &#39;OTRS user&#39; otrs
$ sudo usermod -G www-data otrs

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Create the OTRS Config Files:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ pwd
/opt/otrs
$ sudo cp Kernel/Config.pm.dist Kernel/Config.pm
$ sudo cp Kernel/Config/GenericAgent.pm.dist Kernel/Config/GenericAgent.pm

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Check dependencies via:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ perl -cw /opt/otrs/bin/cgi-bin/index.pl
/opt/otrs/bin/cgi-bin/index.pl syntax OK
$ perl -cw /opt/otrs/bin/cgi-bin/customer.pl
/opt/otrs/bin/cgi-bin/customer.pl syntax OK
$ perl -cw /opt/otrs/bin/otrs.PostMaster.pl
/opt/otrs/bin/otrs.PostMaster.pl syntax OK

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Set permission:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo bin/otrs.SetPermissions.pl --otrs-user=otrs --web-user=www-data --otrs-group=www-data --web-group=www-data /opt/otrs

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now Set the conf file for apache2:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo cp /opt/otrs/scripts/apache2-httpd.include.conf /etc/apache2/sites-available/otrs
$ sudo ln -s /etc/apache2/sites-available/otrs.conf  /etc/apache2/sites-enabled/otrs
$ sudo a2ensite otrs
$ sudo service apache2 restart

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now go to following URL for installation:&lt;br /&gt;
&lt;a href=&#34;http://joggler.xxx.xxxx&amp;lt;F2&amp;gt;.com/otrs/installer.pl&#34;&gt;http://joggler.xxx.xxx..com/otrs/installer.pl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After installation, restart mysql and httpd, or you will meet &lt;code&gt;OTRS - Access denied for user otrs@localhost&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Add crontab tasks via following commands:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# su otrs
$ cd /opt/otrs/var/cron
$ pwd
/opt/otrs/var/cron
$ for foo in *.dist; do cp $foo `basename $foo .dist`; done
$ /opt/otrs/bin/Cron.sh start
/opt/otrs/var/cron
Cron.sh - start/stop OTRS cronjobs
Copyright (C) 2001-2012 OTRS AG, http://otrs.org/
(using /opt/otrs) done
$ crontab -l

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now everything goes OK, visit &lt;a href=&#34;joggler.xxx.xxx.com/otrs/customer.pl&#34;&gt;joggler.xxx.xxx..com/otrs/customer.pl&lt;/a&gt; for visit the customer panel.&lt;/p&gt;

&lt;p&gt;Change the password for root@localhost:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# ./otrs.SetPassword.pl root@localhost PLATFORM
Set password for user &#39;root@localhost&#39;.
Done.

&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Install And Configure otrs On CentOS</title>
      <link>http://purplepalmdash.github.io/2014/06/28/install-and-configure-otrs-on-centos/</link>
      <pubDate>Sat, 28 Jun 2014 00:00:00 +0000</pubDate>
      
      <guid>http://purplepalmdash.github.io/2014/06/28/install-and-configure-otrs-on-centos/</guid>
      <description>

&lt;h3 id=&#34;prerequisite&#34;&gt;Prerequisite&lt;/h3&gt;

&lt;p&gt;Install following Packages under CentOS:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo yum install wget mysql-server mysql php-mysql httpd perl-URI perl-Net-DNS perl-IO-Socket-SSL perl-XML-Parser mod_perl perl-TimeDate perl-Net-DNS procmail perl perl-LDAP perl-Crypt-SSLeay

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now configure the mysqld via:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo chkconfig --levels 235 mysqld on
$ sudo service mysqld start
$ sudo /usr/bin/mysql_secure_installation
$ sudo chkconfig --levels 235 httpd on

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;install-otrs&#34;&gt;Install otrs&lt;/h3&gt;

&lt;p&gt;Download the otrs from Official website, I downloaed the rpm package for CentOS, then install it via:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo rpm -ivh otrs-3.3.8-01.noarch.rpm 

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As root do following:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# cd /etc/httpd/conf.d/
# cp zzz_otrs.conf otrs.conf
# service httpd start

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We have to disable SELinux and delete all of the iptables rules:&lt;br /&gt;
Close the SELinux via:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# cat /etc/sysconfig/selinux
# This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#       enforcing - SELinux security policy is enforced.
#       permissive - SELinux prints warnings instead of enforcing.
#       disabled - SELinux is fully disabled.
# SELINUX=permissive
SELINUX=disabled

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you don&amp;rsquo;t disable SELINUX, then you may meet following error message:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;消息: Kernel/Config.pm isn&#39;t writable!
If you want to use the installer, set the Kernel/Config.pm writable for the webserver user!

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After disable the SELINUX, Restart the computer.&lt;br /&gt;
Flush all of the pre-defined iptables rules:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# iptables -F
# service iptables save

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now open the browser visit:
&lt;a href=&#34;http://Your_Server/ostr/installer.pl&#34;&gt;http://Your_Server/ostr/installer.pl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When Configurating the database, in the second step, the machine should be selected as &lt;code&gt;localhost&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;If you want to delete the otrs database, or if the installation step tells you otrs database exists, you can using following command for drop this database:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[root@CentOS conf.d]# mysqladmin -u root -p  drop otrs
Enter password: 
Dropping the database is potentially a very bad thing to do.
Any data stored in the database will be destroyed.

Do you really want to drop the &#39;otrs&#39; database [y/N] y
Database &amp;quot;otrs&amp;quot; dropped

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;configuration-of-otrs&#34;&gt;Configuration of otrs&lt;/h3&gt;

&lt;p&gt;The start page at:&lt;br /&gt;
&lt;a href=&#34;http://Your_Machine/otrs/index.pl&#34;&gt;http://Your_Machine/otrs/index.pl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Customer Start page:&lt;br /&gt;
&lt;a href=&#34;http://Your_Machine/otrs/customer.pl&#34;&gt;http://Your_Machine/otrs/customer.pl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Enable the crons tasks(mandantory):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ su root
# su -m otrs -c &#39;cd /opt/otrs/bin/ &amp;amp;&amp;amp; ./Cron.sh start&#39;
# crontab -l -u otrs

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Add dynamic field via:&lt;br /&gt;
系统管理-&amp;gt;工单设置-&amp;gt;动态字段， at the field of &amp;ldquo;工单&amp;rdquo;, click it and then you can add the customized field.  This will affect customer&amp;rsquo;s submitted ticket forms.&lt;/p&gt;

&lt;p&gt;Change smtp configuration:&lt;br /&gt;
系统管理-&amp;gt;系统配置-&amp;gt; 搜索&lt;code&gt;smtp&lt;/code&gt;, you will meet Core::Sendmail, define the corresponding field and types, then you can use smtp for sending emails.&lt;/p&gt;

&lt;h3 id=&#34;uninstall-otrs&#34;&gt;Uninstall otrs&lt;/h3&gt;

&lt;p&gt;Finally the team didn&amp;rsquo;t use otrs, but its email annoyed me for a long time. Finally I found it&amp;rsquo;s this machine who runs otrs. so I just login to 53, and run:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# rpm -e otrs


&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Also remove the crontab jobs and etc.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# su -m otrs 
bash: /root/.bashrc: Permission denied
bash-4.1$ ./Cron.sh stop
/opt/otrs/bin
Cron.sh - start/stop OTRS cronjobs
Copyright (C) 2001-2012 OTRS AG, http://otrs.org/
done
[root@Linux01 conf.d]# crontab -l -u otrs
no crontab for otrs

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Also remove the configuration file under /etc/httpd/conf.d/otrs.conf, then restart the httpd server.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>