
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Conky Customization - Dash</title>
  <meta name="author" content="Dash">

  
  <meta name="description" content="Add existing user to specified group The problem is : why I can&rsquo;t use hddtemp? This is because hddtemp need priviledge for accessing the disk &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://purplepalmdash.github.io/blog/2013/11/22/conky-customization">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/purplepalmdash/atom.xml" rel="alternate" title="Dash" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//fonts.googleapis.com/js/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Dash</a></h1>
  
    <h2>Get busy living, or get busy dying.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/purplepalmdash/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:purplepalmdash.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Conky Customization</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-22T15:08:00+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2013</span></span> <span class='time'>3:08 pm</span></time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><h3>Add existing user to specified group</h3>

<p>The problem is : why I can&rsquo;t use hddtemp? This is because hddtemp need priviledge for accessing the disk related equipment.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[Trusty@XXXyyy ~]$ whoami
</span><span class='line'>Trusty
</span><span class='line'>[Trusty@XXXyyy ~]$ groups
</span><span class='line'>root log kvm users vboxusers
</span><span class='line'>[Trusty@XXXyyy ~]$ su root
</span><span class='line'>Password: 
</span><span class='line'>[root@XXXyyy Trusty]# groups
</span><span class='line'>root bin daemon sys adm disk wheel log
</span></code></pre></td></tr></table></div></figure>


<p>But this didn&rsquo;t solve the problem, I have to add prividge in /etc/sudoes,</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># visudo
</span><span class='line'>Trusty ALL = NOPASSWD: /usr/bin/hddtemp
</span></code></pre></td></tr></table></div></figure>


<p>Therefore in the configuration file of conky I need to replace the hddtemp with &ldquo;sudo hddtemp&rdquo;, everything will be displayed.</p>

<h3>Now testing the Conky</h3>

<p>After you have installed conky, the first thing for you to do is to edit its configuration file, to decide what to display on your own widget, my configuration file is listed as following:</p>

<figure class='code'><figcaption><span>conkyrc.conf</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>alignment top_right
</span><span class='line'>background yes
</span><span class='line'>border_width 1
</span><span class='line'>cpu_avg_samples 2
</span><span class='line'>default_color black
</span><span class='line'>default_outline_color blue
</span><span class='line'>default_shade_color blue
</span><span class='line'>draw_borders no
</span><span class='line'>draw_graph_borders yes
</span><span class='line'>draw_outline no
</span><span class='line'>draw_shades no
</span><span class='line'>use_xft yes
</span><span class='line'>xftfont AR PL KaitiM GB:size=12
</span><span class='line'>gap_x 5
</span><span class='line'>gap_y 30
</span><span class='line'>minimum_size 280 5
</span><span class='line'>net_avg_samples 2
</span><span class='line'>no_buffers yes
</span><span class='line'>out_to_console no
</span><span class='line'>out_to_stderr no
</span><span class='line'>extra_newline no
</span><span class='line'>own_window yes
</span><span class='line'>own_window_class Conky
</span><span class='line'>own_window_type override
</span><span class='line'>##设置conky的默认背景色
</span><span class='line'>##own_window_colour 573049
</span><span class='line'>##很重要，只有启用argb才能透明，但是如果窗口属性如果设置为override，可能无法生效
</span><span class='line'>#own_window_argb_visual yes
</span><span class='line'>##设置透明的alpha值0-255，0为透明，255不透明
</span><span class='line'>#own_window_argb_value 0
</span><span class='line'>##own_window_argb_visual true
</span><span class='line'>##own_window_argb_value 120
</span><span class='line'>own_window_transparent yes
</span><span class='line'>double_buffer yes
</span><span class='line'>stippled_borders 0
</span><span class='line'>update_interval 1
</span><span class='line'>uppercase no
</span><span class='line'>use_spacer none
</span><span class='line'>show_graph_scale no
</span><span class='line'>show_graph_range no
</span><span class='line'>
</span><span class='line'>TEXT
</span><span class='line'>#${color red}${font AR PL KaitiM GB:style=Blod:size=17}    ${time %Y.%m.%d %H:%M:%S}
</span><span class='line'>#${font AR PL KaitiM GB:style=Blod:size=12}
</span><span class='line'>#${font AR PL KaitiM GB:style=Blod:size=12}${scroll 16 $nodename - $sysname $kernel on $machine}
</span><span class='line'>#$hr
</span><span class='line'>#${font AR PL KaitiM GB:style=Blod:size=14}${color green}${exec cal}
</span><span class='line'>#$hr
</span><span class='line'>${font AR PL KaitiM GB:style=Blod:size=12}${color purple}Uptime:$color $uptime
</span><span class='line'>${color purple}Frequency (in MHz):$color $freq
</span><span class='line'>#${color purple}Frequency (in GHz):$color $freq_g
</span><span class='line'>${color purple}RAM: $color$mem/$memmax - $memperc% ${membar 4}
</span><span class='line'>${color purple}Swap: $color$swap/$swapmax - $swapperc% ${swapbar 4}
</span><span class='line'>${color purple}CPU1: $color${cpu cpu1}% ${cpubar 4}
</span><span class='line'>${color purple}CPU2: $color${cpu cpu2}% ${cpubar 4}
</span><span class='line'>${color purple}CPU3: $color${cpu cpu3}% ${cpubar 4}
</span><span class='line'>${color purple}CPU4: $color${cpu cpu4}% ${cpubar 4}
</span><span class='line'>${color purple}Processes: $color $processes  ${color red}Running:$color $running_processes
</span><span class='line'>$hr
</span><span class='line'>#${color red}Temp:
</span><span class='line'>${color purple}CPU1 Temp: ${color red}${exec sensors | grep &#39;Core 0&#39; | awk {&#39;print $3&#39;}}
</span><span class='line'>${color purple}CPU2 Temp: ${color red}${exec sensors | grep &#39;Core 1&#39; | awk {&#39;print $3&#39;}}
</span><span class='line'>${color purple}System Temp: ${color red}${exec sensors | grep &#39;temp1&#39; | tail -1 | awk {&#39;print $2&#39;}}
</span><span class='line'>${color purple}Hard Temp: ${color red}${exec sudo hddtemp /dev/sda -n -u=C}°C
</span><span class='line'>$hr
</span><span class='line'>#${color red}File systems:
</span><span class='line'>${color black}${exec df -h | grep /dev/sda3 | awk {&#39;print $3&#39;}} / $color${fs_used /}/${fs_size /} ${fs_bar 6 /}
</span><span class='line'>${exec df -h | grep /dev/sda2 | awk {&#39;print $3&#39;}} x $color${exec df -h | grep /dev/sda2 | awk {&#39;print $3&#39;}}/138GB ${fs_bar 6 /media/ubuntu}
</span><span class='line'>#${exec df -h | grep /dev/sda8 | cut -c40-43} /boot $color${fs_used /boot}/${fs_size /boot} ${fs_bar 6 /boot}
</span><span class='line'>$hr
</span><span class='line'>#${color red}Networking:
</span><span class='line'>#${color red}eth0:
</span><span class='line'>#Up:$color ${upspeed eth0} ${color red} - Down:$color ${downspeed eth0}
</span><span class='line'>${color red}br0:
</span><span class='line'>Up:$color ${upspeed br0} ${color red} - Down:$color ${downspeed eth0}
</span><span class='line'>#${color red}ppp0:
</span><span class='line'>#${color red}Up:$color ${upspeed ppp0} ${color red} - Down:$color ${downspeed ppp0}
</span><span class='line'>$hr
</span><span class='line'>${color red}Name              PID   CPU%   MEM%
</span><span class='line'>${color black} ${top name 1} ${top pid 1} ${top cpu 1} ${top mem 1}
</span><span class='line'>${color black} ${top name 2} ${top pid 2} ${top cpu 2} ${top mem 2}
</span><span class='line'>${color black} ${top name 3} ${top pid 3} ${top cpu 3} ${top mem 3}
</span><span class='line'>${color purple} ${top name 4} ${top pid 4} ${top cpu 4} ${top mem 4}
</span><span class='line'>${color purple} ${top name 5} ${top pid 5} ${top cpu 5} ${top mem 5}
</span></code></pre></td></tr></table></div></figure>


<p>In fact I didn&rsquo;t finished the Translucent, so I use the Transparent, a little bit ugly, but it&rsquo;s OK.</p>

<h3>Add it into awesome</h3>

<p>Simply add one line in your ~/.config/awesome/rc.lua could solve the problem:</p>

<figure class='code'><figcaption><span>conkyrc.conf</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>awful.util.spawn(&quot;conky&quot;)
</span></code></pre></td></tr></table></div></figure>


<p>Now you can enjoy your Conky.</p>

<p><img src="/images/conky.jpg" alt="conky.jpg" /></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Dash</span></span>

           




<time class='entry-date' datetime='2013-11-22T15:08:00+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2013</span></span> <span class='time'>3:08 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/linux/'>linux</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <br />
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/11/21/setup-an-embedded-development-enviroment-for-stm32/" title="Previous Post: Setup an embedded development enviroment for STM32">&laquo; Setup an embedded development enviroment for STM32</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/11/22/openocd-configuration/" title="Next Post: openOCD Configuration">openOCD Configuration &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/02/15/hacking-steelseries-engine-3-usb-mouse-under-linux-2/">Hacking SteelSeries Engine 3 USB Mouse Under Linux(2)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/06/reading-in-2015/">Reading in 2015</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/04/hacking-steelseries-engine-3-usb-mouse-under-linux/">Hacking SteelSeries Engine 3 USB Mouse Under Linux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/31/virtio-gpu-working-tips/">Virtio-gpu Working Tips</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/26/read-digest-on-kvm/">Read Digest on KVM</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Dash -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'dashsagittariussglory';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://purplepalmdash.github.io/blog/2013/11/22/conky-customization/';
        var disqus_url = 'http://purplepalmdash.github.io/blog/2013/11/22/conky-customization/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
