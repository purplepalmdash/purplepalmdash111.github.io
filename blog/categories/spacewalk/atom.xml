<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Spacewalk | Dash]]></title>
  <link href="http://purplepalmdash.github.io/blog/categories/spacewalk/atom.xml" rel="self"/>
  <link href="http://purplepalmdash.github.io/"/>
  <updated>2015-08-13T16:39:02+08:00</updated>
  <id>http://purplepalmdash.github.io/</id>
  <author>
    <name><![CDATA[Dash]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Create Channel/Repository in SpaceWalk]]></title>
    <link href="http://purplepalmdash.github.io/blog/2015/08/12/create-channel-slash-repository-in-spacewalk/"/>
    <updated>2015-08-12T16:36:51+08:00</updated>
    <id>http://purplepalmdash.github.io/blog/2015/08/12/create-channel-slash-repository-in-spacewalk</id>
    <content type="html"><![CDATA[<h3>Package Preparation</h3>

<p>First you should enable the repository via:</p>

<pre><code># wget http://yum.spacewalkproject.org/2.3/RHEL/6/x86_64/spacewalk-repo-2.3-4.el6.noarch.rpm
# rpm -ivh spacewalk-repo-2.3-4.el6.noarch.rpm
# vim /etc/yum.repos.d/jpackage-repo.repo 
[jpackage-generic]
name=JPackage generic
#baseurl=http://mirrors.dotsrc.org/pub/jpackage/5.0/generic/free/
mirrorlist=http://www.jpackage.org/mirrorlist.php?dist=generic&amp;type=free&amp;release=5.0
enabled=1
gpgcheck=1
gpgkey=http://www.jpackage.org/jpackage.asc
</code></pre>

<p>Install the <code>spacewalk-remote-utils</code> package:</p>

<pre><code># yum install -y spacewalk-remote-utils
</code></pre>

<h3>WebUI Create Repository</h3>

<p>Create an ia32-debian based channel, in WebUI:</p>

<p><img src="/images/2015_08_12_17_22_47_651x391.jpg" alt="/images/2015_08_12_17_22_47_651x391.jpg" /></p>

<p>Continue to create some child channel:</p>

<p><img src="/images/2015_08_12_17_26_22_810x155.jpg" alt="/images/2015_08_12_17_26_22_810x155.jpg" /></p>

<p>Now create the repository like following:</p>

<p><img src="/images/2015_08_12_17_28_41_796x426.jpg" alt="/images/2015_08_12_17_28_41_796x426.jpg" /></p>

<p>Until you created all of the ia32 based repositories:</p>

<p><img src="/images/2015_08_12_17_30_39_609x115.jpg" alt="/images/2015_08_12_17_30_39_609x115.jpg" /></p>

<p>Associate the repository with channels.</p>

<h3>Sync Repositories</h3>

<p>Use following scripts for syncing the packages into the system:</p>

<pre><code># vim precise-update.sh 
until spacewalk-debian-sync.pl --username xxxxx --password xxxx --channel 'precise-ia32-updates' --url 'http://192.168.0.79/ubuntu/dists/precise-updates/main/binary-i386/'
do
        echo "retry again"
        sleep 30
done
# sh precise-update.sh
INFO: Repo URL: http://192.168.0.79/ubuntu/dists/precise-updates/main/binary-i386/
INFO: Ubuntu root is http://192.168.0.79/ubuntu/
INFO: Fetching Packages.gz... done
........
</code></pre>
]]></content>
  </entry>
  
</feed>
