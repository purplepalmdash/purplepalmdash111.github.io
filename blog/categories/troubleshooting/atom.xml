<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Troubleshooting | Dash]]></title>
  <link href="http://purplepalmdash.github.io/blog/categories/troubleshooting/atom.xml" rel="self"/>
  <link href="http://purplepalmdash.github.io/"/>
  <updated>2015-10-26T06:40:04+08:00</updated>
  <id>http://purplepalmdash.github.io/</id>
  <author>
    <name><![CDATA[Dash]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[System Trouble Shooting]]></title>
    <link href="http://purplepalmdash.github.io/blog/2014/10/27/system-trouble-shooting/"/>
    <updated>2014-10-27T11:05:00+08:00</updated>
    <id>http://purplepalmdash.github.io/blog/2014/10/27/system-trouble-shooting</id>
    <content type="html"><![CDATA[<h3>SSHD Timeout</h3>

<h4>Trouble</h4>

<p>When you login to some remote ssh machine, after 1 or 2 minutes, the server will hint you:   <br/>
Connection closed by foreign host.</p>

<h4>Solution</h4>

<p>This trouble happens on Ubuntu14.04, because we don&rsquo;t set the timeout intervals. So we could add following 2 lines into the <code>/etc/ssh/sshd_config</code></p>

<pre><code>ClientAliveInterval 60
ClientAliveCountMax 3
</code></pre>

<p>AliveInterval means we could keep the client alive for 60 minutes. AliveCountMax means when server send 3 times request to ssh client, if client didn&rsquo;t send back reply message, then the ssh connection will be lost.  <br/>
Restart the ssh via <code>service ssh restart</code> and now you won&rsquo;t got this annoying trouble.</p>

<h3>DNS</h3>

<p>Since I use dnsencrypt at home, so once it enabled, all of the query goes to the 127.0.0.1, I have to turn it back at company.</p>

<pre><code>[Trusty@~]$ cat /etc/resolv.conf
# Generated by resolvconf
nameserver 10.0.0.1
search lan
alias disdns='sudo systemctl stop dnscrypt-proxy.service'
$ disdns
</code></pre>

<p>By doing this you could reach the internet.</p>
]]></content>
  </entry>
  
</feed>
